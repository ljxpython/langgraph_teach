"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm";
exports.ids = ["vendor-chunks/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/client.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/client.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssistantsClient: () => (/* binding */ AssistantsClient),\n/* harmony export */   Client: () => (/* binding */ Client),\n/* harmony export */   CronsClient: () => (/* binding */ CronsClient),\n/* harmony export */   RunsClient: () => (/* binding */ RunsClient),\n/* harmony export */   StoreClient: () => (/* binding */ StoreClient),\n/* harmony export */   ThreadsClient: () => (/* binding */ ThreadsClient),\n/* harmony export */   getApiKey: () => (/* binding */ getApiKey),\n/* harmony export */   getClientConfigHash: () => (/* binding */ getClientConfigHash)\n/* harmony export */ });\n/* harmony import */ var _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/async_caller.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/async_caller.js\");\n/* harmony import */ var _utils_env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/env.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/env.js\");\n/* harmony import */ var _utils_signals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/signals.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/signals.js\");\n/* harmony import */ var _utils_sse_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/sse.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/sse.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/stream.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/stream.js\");\n\n\n\n\n\nfunction* iterateHeaders(headers) {\n    let iter;\n    let shouldClear = false;\n    // eslint-disable-next-line no-instanceof/no-instanceof\n    if (headers instanceof Headers) {\n        const entries = [];\n        headers.forEach((value, name) => {\n            entries.push([name, value]);\n        });\n        iter = entries;\n    }\n    else if (Array.isArray(headers)) {\n        iter = headers;\n    }\n    else {\n        shouldClear = true;\n        iter = Object.entries(headers ?? {});\n    }\n    for (const item of iter) {\n        const name = item[0];\n        if (typeof name !== \"string\")\n            throw new TypeError(`Expected header name to be a string, got ${typeof name}`);\n        const values = Array.isArray(item[1]) ? item[1] : [item[1]];\n        let didClear = false;\n        for (const value of values) {\n            if (value === undefined)\n                continue;\n            // New object keys should always overwrite older headers\n            // Yield a null to clear the header in the headers object\n            // before adding the new value\n            if (shouldClear && !didClear) {\n                didClear = true;\n                yield [name, null];\n            }\n            yield [name, value];\n        }\n    }\n}\nfunction mergeHeaders(...headerObjects) {\n    const outputHeaders = new Headers();\n    for (const headers of headerObjects) {\n        if (!headers)\n            continue;\n        for (const [name, value] of iterateHeaders(headers)) {\n            if (value === null)\n                outputHeaders.delete(name);\n            else\n                outputHeaders.append(name, value);\n        }\n    }\n    const headerEntries = [];\n    outputHeaders.forEach((value, name) => {\n        headerEntries.push([name, value]);\n    });\n    return Object.fromEntries(headerEntries);\n}\n/**\n * Get the API key from the environment.\n * Precedence:\n *   1. explicit argument\n *   2. LANGGRAPH_API_KEY\n *   3. LANGSMITH_API_KEY\n *   4. LANGCHAIN_API_KEY\n *\n * @param apiKey - Optional API key provided as an argument\n * @returns The API key if found, otherwise undefined\n */\nfunction getApiKey(apiKey) {\n    if (apiKey) {\n        return apiKey;\n    }\n    const prefixes = [\"LANGGRAPH\", \"LANGSMITH\", \"LANGCHAIN\"];\n    for (const prefix of prefixes) {\n        const envKey = (0,_utils_env_js__WEBPACK_IMPORTED_MODULE_1__.getEnvironmentVariable)(`${prefix}_API_KEY`);\n        if (envKey) {\n            // Remove surrounding quotes\n            return envKey.trim().replace(/^[\"']|[\"']$/g, \"\");\n        }\n    }\n    return undefined;\n}\nconst REGEX_RUN_METADATA = /(\\/threads\\/(?<thread_id>.+))?\\/runs\\/(?<run_id>.+)/;\nfunction getRunMetadataFromResponse(response) {\n    const contentLocation = response.headers.get(\"Content-Location\");\n    if (!contentLocation)\n        return undefined;\n    const match = REGEX_RUN_METADATA.exec(contentLocation);\n    if (!match?.groups?.run_id)\n        return undefined;\n    return {\n        run_id: match.groups.run_id,\n        thread_id: match.groups.thread_id || undefined,\n    };\n}\nclass BaseClient {\n    constructor(config) {\n        Object.defineProperty(this, \"asyncCaller\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timeoutMs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"apiUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"defaultHeaders\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"onRequest\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        const callerOptions = {\n            maxRetries: 4,\n            maxConcurrency: 4,\n            ...config?.callerOptions,\n        };\n        let defaultApiUrl = \"http://localhost:8123\";\n        if (!config?.apiUrl &&\n            typeof globalThis === \"object\" &&\n            globalThis != null) {\n            const fetchSmb = Symbol.for(\"langgraph_api:fetch\");\n            const urlSmb = Symbol.for(\"langgraph_api:url\");\n            const global = globalThis;\n            if (global[fetchSmb])\n                callerOptions.fetch ??= global[fetchSmb];\n            if (global[urlSmb])\n                defaultApiUrl = global[urlSmb];\n        }\n        this.asyncCaller = new _utils_async_caller_js__WEBPACK_IMPORTED_MODULE_0__.AsyncCaller(callerOptions);\n        this.timeoutMs = config?.timeoutMs;\n        // default limit being capped by Chrome\n        // https://github.com/nodejs/undici/issues/1373\n        // Regex to remove trailing slash, if present\n        this.apiUrl = config?.apiUrl?.replace(/\\/$/, \"\") || defaultApiUrl;\n        this.defaultHeaders = config?.defaultHeaders || {};\n        this.onRequest = config?.onRequest;\n        const apiKey = getApiKey(config?.apiKey);\n        if (apiKey) {\n            this.defaultHeaders[\"x-api-key\"] = apiKey;\n        }\n    }\n    prepareFetchOptions(path, options) {\n        const mutatedOptions = {\n            ...options,\n            headers: mergeHeaders(this.defaultHeaders, options?.headers),\n        };\n        if (mutatedOptions.json) {\n            mutatedOptions.body = JSON.stringify(mutatedOptions.json);\n            mutatedOptions.headers = mergeHeaders(mutatedOptions.headers, {\n                \"content-type\": \"application/json\",\n            });\n            delete mutatedOptions.json;\n        }\n        if (mutatedOptions.withResponse) {\n            delete mutatedOptions.withResponse;\n        }\n        let timeoutSignal = null;\n        if (typeof options?.timeoutMs !== \"undefined\") {\n            if (options.timeoutMs != null) {\n                timeoutSignal = AbortSignal.timeout(options.timeoutMs);\n            }\n        }\n        else if (this.timeoutMs != null) {\n            timeoutSignal = AbortSignal.timeout(this.timeoutMs);\n        }\n        mutatedOptions.signal = (0,_utils_signals_js__WEBPACK_IMPORTED_MODULE_2__.mergeSignals)(timeoutSignal, mutatedOptions.signal);\n        const targetUrl = new URL(`${this.apiUrl}${path}`);\n        if (mutatedOptions.params) {\n            for (const [key, value] of Object.entries(mutatedOptions.params)) {\n                if (value == null)\n                    continue;\n                const strValue = typeof value === \"string\" || typeof value === \"number\"\n                    ? value.toString()\n                    : JSON.stringify(value);\n                targetUrl.searchParams.append(key, strValue);\n            }\n            delete mutatedOptions.params;\n        }\n        return [targetUrl, mutatedOptions];\n    }\n    async fetch(path, options) {\n        const [url, init] = this.prepareFetchOptions(path, options);\n        let finalInit = init;\n        if (this.onRequest) {\n            finalInit = await this.onRequest(url, init);\n        }\n        const response = await this.asyncCaller.fetch(url, finalInit);\n        const body = (() => {\n            if (response.status === 202 || response.status === 204) {\n                return undefined;\n            }\n            return response.json();\n        })();\n        if (options?.withResponse) {\n            return [await body, response];\n        }\n        return body;\n    }\n}\nclass CronsClient extends BaseClient {\n    /**\n     *\n     * @param threadId The ID of the thread.\n     * @param assistantId Assistant ID to use for this cron job.\n     * @param payload Payload for creating a cron job.\n     * @returns The created background run.\n     */\n    async createForThread(threadId, assistantId, payload) {\n        const json = {\n            schedule: payload?.schedule,\n            input: payload?.input,\n            config: payload?.config,\n            context: payload?.context,\n            metadata: payload?.metadata,\n            assistant_id: assistantId,\n            interrupt_before: payload?.interruptBefore,\n            interrupt_after: payload?.interruptAfter,\n            webhook: payload?.webhook,\n            multitask_strategy: payload?.multitaskStrategy,\n            if_not_exists: payload?.ifNotExists,\n            checkpoint_during: payload?.checkpointDuring,\n            durability: payload?.durability,\n        };\n        return this.fetch(`/threads/${threadId}/runs/crons`, {\n            method: \"POST\",\n            json,\n        });\n    }\n    /**\n     *\n     * @param assistantId Assistant ID to use for this cron job.\n     * @param payload Payload for creating a cron job.\n     * @returns\n     */\n    async create(assistantId, payload) {\n        const json = {\n            schedule: payload?.schedule,\n            input: payload?.input,\n            config: payload?.config,\n            context: payload?.context,\n            metadata: payload?.metadata,\n            assistant_id: assistantId,\n            interrupt_before: payload?.interruptBefore,\n            interrupt_after: payload?.interruptAfter,\n            webhook: payload?.webhook,\n            multitask_strategy: payload?.multitaskStrategy,\n            if_not_exists: payload?.ifNotExists,\n            checkpoint_during: payload?.checkpointDuring,\n            durability: payload?.durability,\n        };\n        return this.fetch(`/runs/crons`, {\n            method: \"POST\",\n            json,\n        });\n    }\n    /**\n     *\n     * @param cronId Cron ID of Cron job to delete.\n     */\n    async delete(cronId) {\n        await this.fetch(`/runs/crons/${cronId}`, {\n            method: \"DELETE\",\n        });\n    }\n    /**\n     *\n     * @param query Query options.\n     * @returns List of crons.\n     */\n    async search(query) {\n        return this.fetch(\"/runs/crons/search\", {\n            method: \"POST\",\n            json: {\n                assistant_id: query?.assistantId ?? undefined,\n                thread_id: query?.threadId ?? undefined,\n                limit: query?.limit ?? 10,\n                offset: query?.offset ?? 0,\n                sort_by: query?.sortBy ?? undefined,\n                sort_order: query?.sortOrder ?? undefined,\n                select: query?.select ?? undefined,\n            },\n        });\n    }\n    /**\n     * Count cron jobs matching filters.\n     *\n     * @param query.assistantId Assistant ID to filter by.\n     * @param query.threadId Thread ID to filter by.\n     * @returns Number of cron jobs matching the criteria.\n     */\n    async count(query) {\n        return this.fetch(`/runs/crons/count`, {\n            method: \"POST\",\n            json: {\n                assistant_id: query?.assistantId ?? undefined,\n                thread_id: query?.threadId ?? undefined,\n            },\n        });\n    }\n}\nclass AssistantsClient extends BaseClient {\n    /**\n     * Get an assistant by ID.\n     *\n     * @param assistantId The ID of the assistant.\n     * @returns Assistant\n     */\n    async get(assistantId) {\n        return this.fetch(`/assistants/${assistantId}`);\n    }\n    /**\n     * Get the JSON representation of the graph assigned to a runnable\n     * @param assistantId The ID of the assistant.\n     * @param options.xray Whether to include subgraphs in the serialized graph representation. If an integer value is provided, only subgraphs with a depth less than or equal to the value will be included.\n     * @returns Serialized graph\n     */\n    async getGraph(assistantId, options) {\n        return this.fetch(`/assistants/${assistantId}/graph`, {\n            params: { xray: options?.xray },\n        });\n    }\n    /**\n     * Get the state and config schema of the graph assigned to a runnable\n     * @param assistantId The ID of the assistant.\n     * @returns Graph schema\n     */\n    async getSchemas(assistantId) {\n        return this.fetch(`/assistants/${assistantId}/schemas`);\n    }\n    /**\n     * Get the schemas of an assistant by ID.\n     *\n     * @param assistantId The ID of the assistant to get the schema of.\n     * @param options Additional options for getting subgraphs, such as namespace or recursion extraction.\n     * @returns The subgraphs of the assistant.\n     */\n    async getSubgraphs(assistantId, options) {\n        if (options?.namespace) {\n            return this.fetch(`/assistants/${assistantId}/subgraphs/${options.namespace}`, { params: { recurse: options?.recurse } });\n        }\n        return this.fetch(`/assistants/${assistantId}/subgraphs`, {\n            params: { recurse: options?.recurse },\n        });\n    }\n    /**\n     * Create a new assistant.\n     * @param payload Payload for creating an assistant.\n     * @returns The created assistant.\n     */\n    async create(payload) {\n        return this.fetch(\"/assistants\", {\n            method: \"POST\",\n            json: {\n                graph_id: payload.graphId,\n                config: payload.config,\n                context: payload.context,\n                metadata: payload.metadata,\n                assistant_id: payload.assistantId,\n                if_exists: payload.ifExists,\n                name: payload.name,\n                description: payload.description,\n            },\n        });\n    }\n    /**\n     * Update an assistant.\n     * @param assistantId ID of the assistant.\n     * @param payload Payload for updating the assistant.\n     * @returns The updated assistant.\n     */\n    async update(assistantId, payload) {\n        return this.fetch(`/assistants/${assistantId}`, {\n            method: \"PATCH\",\n            json: {\n                graph_id: payload.graphId,\n                config: payload.config,\n                context: payload.context,\n                metadata: payload.metadata,\n                name: payload.name,\n                description: payload.description,\n            },\n        });\n    }\n    /**\n     * Delete an assistant.\n     *\n     * @param assistantId ID of the assistant.\n     */\n    async delete(assistantId) {\n        return this.fetch(`/assistants/${assistantId}`, {\n            method: \"DELETE\",\n        });\n    }\n    /**\n     * List assistants.\n     * @param query Query options.\n     * @returns List of assistants.\n     */\n    async search(query) {\n        return this.fetch(\"/assistants/search\", {\n            method: \"POST\",\n            json: {\n                graph_id: query?.graphId ?? undefined,\n                metadata: query?.metadata ?? undefined,\n                limit: query?.limit ?? 10,\n                offset: query?.offset ?? 0,\n                sort_by: query?.sortBy ?? undefined,\n                sort_order: query?.sortOrder ?? undefined,\n                select: query?.select ?? undefined,\n            },\n        });\n    }\n    /**\n     * Count assistants matching filters.\n     *\n     * @param query.metadata Metadata to filter by. Exact match for each key/value.\n     * @param query.graphId Optional graph id to filter by.\n     * @returns Number of assistants matching the criteria.\n     */\n    async count(query) {\n        return this.fetch(`/assistants/count`, {\n            method: \"POST\",\n            json: {\n                metadata: query?.metadata ?? undefined,\n                graph_id: query?.graphId ?? undefined,\n            },\n        });\n    }\n    /**\n     * List all versions of an assistant.\n     *\n     * @param assistantId ID of the assistant.\n     * @returns List of assistant versions.\n     */\n    async getVersions(assistantId, payload) {\n        return this.fetch(`/assistants/${assistantId}/versions`, {\n            method: \"POST\",\n            json: {\n                metadata: payload?.metadata ?? undefined,\n                limit: payload?.limit ?? 10,\n                offset: payload?.offset ?? 0,\n            },\n        });\n    }\n    /**\n     * Change the version of an assistant.\n     *\n     * @param assistantId ID of the assistant.\n     * @param version The version to change to.\n     * @returns The updated assistant.\n     */\n    async setLatest(assistantId, version) {\n        return this.fetch(`/assistants/${assistantId}/latest`, {\n            method: \"POST\",\n            json: { version },\n        });\n    }\n}\nclass ThreadsClient extends BaseClient {\n    /**\n     * Get a thread by ID.\n     *\n     * @param threadId ID of the thread.\n     * @returns The thread.\n     */\n    async get(threadId) {\n        return this.fetch(`/threads/${threadId}`);\n    }\n    /**\n     * Create a new thread.\n     *\n     * @param payload Payload for creating a thread.\n     * @returns The created thread.\n     */\n    async create(payload) {\n        return this.fetch(`/threads`, {\n            method: \"POST\",\n            json: {\n                metadata: {\n                    ...payload?.metadata,\n                    graph_id: payload?.graphId,\n                },\n                thread_id: payload?.threadId,\n                if_exists: payload?.ifExists,\n                supersteps: payload?.supersteps?.map((s) => ({\n                    updates: s.updates.map((u) => ({\n                        values: u.values,\n                        command: u.command,\n                        as_node: u.asNode,\n                    })),\n                })),\n            },\n        });\n    }\n    /**\n     * Copy an existing thread\n     * @param threadId ID of the thread to be copied\n     * @returns Newly copied thread\n     */\n    async copy(threadId) {\n        return this.fetch(`/threads/${threadId}/copy`, {\n            method: \"POST\",\n        });\n    }\n    /**\n     * Update a thread.\n     *\n     * @param threadId ID of the thread.\n     * @param payload Payload for updating the thread.\n     * @returns The updated thread.\n     */\n    async update(threadId, payload) {\n        return this.fetch(`/threads/${threadId}`, {\n            method: \"PATCH\",\n            json: { metadata: payload?.metadata },\n        });\n    }\n    /**\n     * Delete a thread.\n     *\n     * @param threadId ID of the thread.\n     */\n    async delete(threadId) {\n        return this.fetch(`/threads/${threadId}`, {\n            method: \"DELETE\",\n        });\n    }\n    /**\n     * List threads\n     *\n     * @param query Query options\n     * @returns List of threads\n     */\n    async search(query) {\n        return this.fetch(\"/threads/search\", {\n            method: \"POST\",\n            json: {\n                metadata: query?.metadata ?? undefined,\n                limit: query?.limit ?? 10,\n                offset: query?.offset ?? 0,\n                status: query?.status,\n                sort_by: query?.sortBy,\n                sort_order: query?.sortOrder,\n                select: query?.select ?? undefined,\n            },\n        });\n    }\n    /**\n     * Count threads matching filters.\n     *\n     * @param query.metadata Thread metadata to filter on.\n     * @param query.values State values to filter on.\n     * @param query.status Thread status to filter on.\n     * @returns Number of threads matching the criteria.\n     */\n    async count(query) {\n        return this.fetch(`/threads/count`, {\n            method: \"POST\",\n            json: {\n                metadata: query?.metadata ?? undefined,\n                values: query?.values ?? undefined,\n                status: query?.status ?? undefined,\n            },\n        });\n    }\n    /**\n     * Get state for a thread.\n     *\n     * @param threadId ID of the thread.\n     * @returns Thread state.\n     */\n    async getState(threadId, checkpoint, options) {\n        if (checkpoint != null) {\n            if (typeof checkpoint !== \"string\") {\n                return this.fetch(`/threads/${threadId}/state/checkpoint`, {\n                    method: \"POST\",\n                    json: { checkpoint, subgraphs: options?.subgraphs },\n                });\n            }\n            // deprecated\n            return this.fetch(`/threads/${threadId}/state/${checkpoint}`, { params: { subgraphs: options?.subgraphs } });\n        }\n        return this.fetch(`/threads/${threadId}/state`, {\n            params: { subgraphs: options?.subgraphs },\n        });\n    }\n    /**\n     * Add state to a thread.\n     *\n     * @param threadId The ID of the thread.\n     * @returns\n     */\n    async updateState(threadId, options) {\n        return this.fetch(`/threads/${threadId}/state`, {\n            method: \"POST\",\n            json: {\n                values: options.values,\n                checkpoint_id: options.checkpointId,\n                checkpoint: options.checkpoint,\n                as_node: options?.asNode,\n            },\n        });\n    }\n    /**\n     * Patch the metadata of a thread.\n     *\n     * @param threadIdOrConfig Thread ID or config to patch the state of.\n     * @param metadata Metadata to patch the state with.\n     */\n    async patchState(threadIdOrConfig, metadata) {\n        let threadId;\n        if (typeof threadIdOrConfig !== \"string\") {\n            if (typeof threadIdOrConfig.configurable?.thread_id !== \"string\") {\n                throw new Error(\"Thread ID is required when updating state with a config.\");\n            }\n            threadId = threadIdOrConfig.configurable.thread_id;\n        }\n        else {\n            threadId = threadIdOrConfig;\n        }\n        return this.fetch(`/threads/${threadId}/state`, {\n            method: \"PATCH\",\n            json: { metadata },\n        });\n    }\n    /**\n     * Get all past states for a thread.\n     *\n     * @param threadId ID of the thread.\n     * @param options Additional options.\n     * @returns List of thread states.\n     */\n    async getHistory(threadId, options) {\n        return this.fetch(`/threads/${threadId}/history`, {\n            method: \"POST\",\n            json: {\n                limit: options?.limit ?? 10,\n                before: options?.before,\n                metadata: options?.metadata,\n                checkpoint: options?.checkpoint,\n            },\n        });\n    }\n    async *joinStream(threadId, options\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n        const response = await this.asyncCaller.fetch(...this.prepareFetchOptions(`/threads/${threadId}/stream`, {\n            method: \"GET\",\n            headers: options?.lastEventId\n                ? { \"Last-Event-ID\": options.lastEventId }\n                : undefined,\n            params: options?.streamMode\n                ? { stream_mode: options.streamMode }\n                : undefined,\n        }));\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const stream = (response.body || new ReadableStream({ start: (ctrl) => ctrl.close() }))\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.BytesLineDecoder)())\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.SSEDecoder)());\n        yield* _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__.IterableReadableStream.fromReadableStream(stream);\n    }\n}\nclass RunsClient extends BaseClient {\n    /**\n     * Create a run and stream the results.\n     *\n     * @param threadId The ID of the thread.\n     * @param assistantId Assistant ID to use for this run.\n     * @param payload Payload for creating a run.\n     */\n    async *stream(threadId, assistantId, payload) {\n        const json = {\n            input: payload?.input,\n            command: payload?.command,\n            config: payload?.config,\n            context: payload?.context,\n            metadata: payload?.metadata,\n            stream_mode: payload?.streamMode,\n            stream_subgraphs: payload?.streamSubgraphs,\n            stream_resumable: payload?.streamResumable,\n            feedback_keys: payload?.feedbackKeys,\n            assistant_id: assistantId,\n            interrupt_before: payload?.interruptBefore,\n            interrupt_after: payload?.interruptAfter,\n            checkpoint: payload?.checkpoint,\n            checkpoint_id: payload?.checkpointId,\n            webhook: payload?.webhook,\n            multitask_strategy: payload?.multitaskStrategy,\n            on_completion: payload?.onCompletion,\n            on_disconnect: payload?.onDisconnect,\n            after_seconds: payload?.afterSeconds,\n            if_not_exists: payload?.ifNotExists,\n            checkpoint_during: payload?.checkpointDuring,\n            durability: payload?.durability,\n        };\n        const endpoint = threadId == null ? `/runs/stream` : `/threads/${threadId}/runs/stream`;\n        const response = await this.asyncCaller.fetch(...this.prepareFetchOptions(endpoint, {\n            method: \"POST\",\n            json,\n            timeoutMs: null,\n            signal: payload?.signal,\n        }));\n        const runMetadata = getRunMetadataFromResponse(response);\n        if (runMetadata)\n            payload?.onRunCreated?.(runMetadata);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const stream = (response.body || new ReadableStream({ start: (ctrl) => ctrl.close() }))\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.BytesLineDecoder)())\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.SSEDecoder)());\n        yield* _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__.IterableReadableStream.fromReadableStream(stream);\n    }\n    /**\n     * Create a run.\n     *\n     * @param threadId The ID of the thread.\n     * @param assistantId Assistant ID to use for this run.\n     * @param payload Payload for creating a run.\n     * @returns The created run.\n     */\n    async create(threadId, assistantId, payload) {\n        const json = {\n            input: payload?.input,\n            command: payload?.command,\n            config: payload?.config,\n            context: payload?.context,\n            metadata: payload?.metadata,\n            stream_mode: payload?.streamMode,\n            stream_subgraphs: payload?.streamSubgraphs,\n            stream_resumable: payload?.streamResumable,\n            assistant_id: assistantId,\n            interrupt_before: payload?.interruptBefore,\n            interrupt_after: payload?.interruptAfter,\n            webhook: payload?.webhook,\n            checkpoint: payload?.checkpoint,\n            checkpoint_id: payload?.checkpointId,\n            multitask_strategy: payload?.multitaskStrategy,\n            after_seconds: payload?.afterSeconds,\n            if_not_exists: payload?.ifNotExists,\n            checkpoint_during: payload?.checkpointDuring,\n            durability: payload?.durability,\n            langsmith_tracer: payload?._langsmithTracer\n                ? {\n                    project_name: payload?._langsmithTracer?.projectName,\n                    example_id: payload?._langsmithTracer?.exampleId,\n                }\n                : undefined,\n        };\n        const [run, response] = await this.fetch(`/threads/${threadId}/runs`, {\n            method: \"POST\",\n            json,\n            signal: payload?.signal,\n            withResponse: true,\n        });\n        const runMetadata = getRunMetadataFromResponse(response);\n        if (runMetadata)\n            payload?.onRunCreated?.(runMetadata);\n        return run;\n    }\n    /**\n     * Create a batch of stateless background runs.\n     *\n     * @param payloads An array of payloads for creating runs.\n     * @returns An array of created runs.\n     */\n    async createBatch(payloads) {\n        const filteredPayloads = payloads\n            .map((payload) => ({ ...payload, assistant_id: payload.assistantId }))\n            .map((payload) => {\n            return Object.fromEntries(Object.entries(payload).filter(([_, v]) => v !== undefined));\n        });\n        return this.fetch(\"/runs/batch\", {\n            method: \"POST\",\n            json: filteredPayloads,\n        });\n    }\n    /**\n     * Create a run and wait for it to complete.\n     *\n     * @param threadId The ID of the thread.\n     * @param assistantId Assistant ID to use for this run.\n     * @param payload Payload for creating a run.\n     * @returns The last values chunk of the thread.\n     */\n    async wait(threadId, assistantId, payload) {\n        const json = {\n            input: payload?.input,\n            command: payload?.command,\n            config: payload?.config,\n            context: payload?.context,\n            metadata: payload?.metadata,\n            assistant_id: assistantId,\n            interrupt_before: payload?.interruptBefore,\n            interrupt_after: payload?.interruptAfter,\n            checkpoint: payload?.checkpoint,\n            checkpoint_id: payload?.checkpointId,\n            webhook: payload?.webhook,\n            multitask_strategy: payload?.multitaskStrategy,\n            on_completion: payload?.onCompletion,\n            on_disconnect: payload?.onDisconnect,\n            after_seconds: payload?.afterSeconds,\n            if_not_exists: payload?.ifNotExists,\n            checkpoint_during: payload?.checkpointDuring,\n            durability: payload?.durability,\n            langsmith_tracer: payload?._langsmithTracer\n                ? {\n                    project_name: payload?._langsmithTracer?.projectName,\n                    example_id: payload?._langsmithTracer?.exampleId,\n                }\n                : undefined,\n        };\n        const endpoint = threadId == null ? `/runs/wait` : `/threads/${threadId}/runs/wait`;\n        const [run, response] = await this.fetch(endpoint, {\n            method: \"POST\",\n            json,\n            timeoutMs: null,\n            signal: payload?.signal,\n            withResponse: true,\n        });\n        const runMetadata = getRunMetadataFromResponse(response);\n        if (runMetadata)\n            payload?.onRunCreated?.(runMetadata);\n        const raiseError = payload?.raiseError !== undefined ? payload.raiseError : true;\n        if (raiseError &&\n            \"__error__\" in run &&\n            typeof run.__error__ === \"object\" &&\n            run.__error__ &&\n            \"error\" in run.__error__ &&\n            \"message\" in run.__error__) {\n            throw new Error(`${run.__error__?.error}: ${run.__error__?.message}`);\n        }\n        return run;\n    }\n    /**\n     * List all runs for a thread.\n     *\n     * @param threadId The ID of the thread.\n     * @param options Filtering and pagination options.\n     * @returns List of runs.\n     */\n    async list(threadId, options) {\n        return this.fetch(`/threads/${threadId}/runs`, {\n            params: {\n                limit: options?.limit ?? 10,\n                offset: options?.offset ?? 0,\n                status: options?.status ?? undefined,\n                select: options?.select ?? undefined,\n            },\n        });\n    }\n    /**\n     * Get a run by ID.\n     *\n     * @param threadId The ID of the thread.\n     * @param runId The ID of the run.\n     * @returns The run.\n     */\n    async get(threadId, runId) {\n        return this.fetch(`/threads/${threadId}/runs/${runId}`);\n    }\n    /**\n     * Cancel a run.\n     *\n     * @param threadId The ID of the thread.\n     * @param runId The ID of the run.\n     * @param wait Whether to block when canceling\n     * @param action Action to take when cancelling the run. Possible values are `interrupt` or `rollback`. Default is `interrupt`.\n     * @returns\n     */\n    async cancel(threadId, runId, wait = false, action = \"interrupt\") {\n        return this.fetch(`/threads/${threadId}/runs/${runId}/cancel`, {\n            method: \"POST\",\n            params: {\n                wait: wait ? \"1\" : \"0\",\n                action,\n            },\n        });\n    }\n    /**\n     * Block until a run is done.\n     *\n     * @param threadId The ID of the thread.\n     * @param runId The ID of the run.\n     * @returns\n     */\n    async join(threadId, runId, options) {\n        return this.fetch(`/threads/${threadId}/runs/${runId}/join`, {\n            timeoutMs: null,\n            signal: options?.signal,\n        });\n    }\n    /**\n     * Stream output from a run in real-time, until the run is done.\n     *\n     * @param threadId The ID of the thread. Can be set to `null` | `undefined` for stateless runs.\n     * @param runId The ID of the run.\n     * @param options Additional options for controlling the stream behavior:\n     *   - signal: An AbortSignal that can be used to cancel the stream request\n     *   - lastEventId: The ID of the last event received. Can be used to reconnect to a stream without losing events.\n     *   - cancelOnDisconnect: When true, automatically cancels the run if the client disconnects from the stream\n     *   - streamMode: Controls what types of events to receive from the stream (can be a single mode or array of modes)\n     *        Must be a subset of the stream modes passed when creating the run. Background runs default to having the union of all\n     *        stream modes enabled.\n     * @returns An async generator yielding stream parts.\n     */\n    async *joinStream(threadId, runId, options\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n        const opts = typeof options === \"object\" &&\n            options != null &&\n            // eslint-disable-next-line no-instanceof/no-instanceof\n            options instanceof AbortSignal\n            ? { signal: options }\n            : options;\n        const response = await this.asyncCaller.fetch(...this.prepareFetchOptions(threadId != null\n            ? `/threads/${threadId}/runs/${runId}/stream`\n            : `/runs/${runId}/stream`, {\n            method: \"GET\",\n            timeoutMs: null,\n            signal: opts?.signal,\n            headers: opts?.lastEventId\n                ? { \"Last-Event-ID\": opts.lastEventId }\n                : undefined,\n            params: {\n                cancel_on_disconnect: opts?.cancelOnDisconnect ? \"1\" : \"0\",\n                stream_mode: opts?.streamMode,\n            },\n        }));\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const stream = (response.body || new ReadableStream({ start: (ctrl) => ctrl.close() }))\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.BytesLineDecoder)())\n            .pipeThrough((0,_utils_sse_js__WEBPACK_IMPORTED_MODULE_3__.SSEDecoder)());\n        yield* _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__.IterableReadableStream.fromReadableStream(stream);\n    }\n    /**\n     * Delete a run.\n     *\n     * @param threadId The ID of the thread.\n     * @param runId The ID of the run.\n     * @returns\n     */\n    async delete(threadId, runId) {\n        return this.fetch(`/threads/${threadId}/runs/${runId}`, {\n            method: \"DELETE\",\n        });\n    }\n}\nclass StoreClient extends BaseClient {\n    /**\n     * Store or update an item.\n     *\n     * @param namespace A list of strings representing the namespace path.\n     * @param key The unique identifier for the item within the namespace.\n     * @param value A dictionary containing the item's data.\n     * @param options.index Controls search indexing - null (use defaults), false (disable), or list of field paths to index.\n     * @param options.ttl Optional time-to-live in minutes for the item, or null for no expiration.\n     * @returns Promise<void>\n     *\n     * @example\n     * ```typescript\n     * await client.store.putItem(\n     *   [\"documents\", \"user123\"],\n     *   \"item456\",\n     *   { title: \"My Document\", content: \"Hello World\" },\n     *   { ttl: 60 } // expires in 60 minutes\n     * );\n     * ```\n     */\n    async putItem(namespace, key, value, options) {\n        namespace.forEach((label) => {\n            if (label.includes(\".\")) {\n                throw new Error(`Invalid namespace label '${label}'. Namespace labels cannot contain periods ('.')`);\n            }\n        });\n        const payload = {\n            namespace,\n            key,\n            value,\n            index: options?.index,\n            ttl: options?.ttl,\n        };\n        return this.fetch(\"/store/items\", {\n            method: \"PUT\",\n            json: payload,\n        });\n    }\n    /**\n     * Retrieve a single item.\n     *\n     * @param namespace A list of strings representing the namespace path.\n     * @param key The unique identifier for the item.\n     * @param options.refreshTtl Whether to refresh the TTL on this read operation. If null, uses the store's default behavior.\n     * @returns Promise<Item>\n     *\n     * @example\n     * ```typescript\n     * const item = await client.store.getItem(\n     *   [\"documents\", \"user123\"],\n     *   \"item456\",\n     *   { refreshTtl: true }\n     * );\n     * console.log(item);\n     * // {\n     * //   namespace: [\"documents\", \"user123\"],\n     * //   key: \"item456\",\n     * //   value: { title: \"My Document\", content: \"Hello World\" },\n     * //   createdAt: \"2024-07-30T12:00:00Z\",\n     * //   updatedAt: \"2024-07-30T12:00:00Z\"\n     * // }\n     * ```\n     */\n    async getItem(namespace, key, options) {\n        namespace.forEach((label) => {\n            if (label.includes(\".\")) {\n                throw new Error(`Invalid namespace label '${label}'. Namespace labels cannot contain periods ('.')`);\n            }\n        });\n        const params = {\n            namespace: namespace.join(\".\"),\n            key,\n        };\n        if (options?.refreshTtl !== undefined) {\n            params.refresh_ttl = options.refreshTtl;\n        }\n        const response = await this.fetch(\"/store/items\", {\n            params,\n        });\n        return response\n            ? {\n                ...response,\n                createdAt: response.created_at,\n                updatedAt: response.updated_at,\n            }\n            : null;\n    }\n    /**\n     * Delete an item.\n     *\n     * @param namespace A list of strings representing the namespace path.\n     * @param key The unique identifier for the item.\n     * @returns Promise<void>\n     */\n    async deleteItem(namespace, key) {\n        namespace.forEach((label) => {\n            if (label.includes(\".\")) {\n                throw new Error(`Invalid namespace label '${label}'. Namespace labels cannot contain periods ('.')`);\n            }\n        });\n        return this.fetch(\"/store/items\", {\n            method: \"DELETE\",\n            json: { namespace, key },\n        });\n    }\n    /**\n     * Search for items within a namespace prefix.\n     *\n     * @param namespacePrefix List of strings representing the namespace prefix.\n     * @param options.filter Optional dictionary of key-value pairs to filter results.\n     * @param options.limit Maximum number of items to return (default is 10).\n     * @param options.offset Number of items to skip before returning results (default is 0).\n     * @param options.query Optional search query.\n     * @param options.refreshTtl Whether to refresh the TTL on items returned by this search. If null, uses the store's default behavior.\n     * @returns Promise<SearchItemsResponse>\n     *\n     * @example\n     * ```typescript\n     * const results = await client.store.searchItems(\n     *   [\"documents\"],\n     *   {\n     *     filter: { author: \"John Doe\" },\n     *     limit: 5,\n     *     refreshTtl: true\n     *   }\n     * );\n     * console.log(results);\n     * // {\n     * //   items: [\n     * //     {\n     * //       namespace: [\"documents\", \"user123\"],\n     * //       key: \"item789\",\n     * //       value: { title: \"Another Document\", author: \"John Doe\" },\n     * //       createdAt: \"2024-07-30T12:00:00Z\",\n     * //       updatedAt: \"2024-07-30T12:00:00Z\"\n     * //     },\n     * //     // ... additional items ...\n     * //   ]\n     * // }\n     * ```\n     */\n    async searchItems(namespacePrefix, options) {\n        const payload = {\n            namespace_prefix: namespacePrefix,\n            filter: options?.filter,\n            limit: options?.limit ?? 10,\n            offset: options?.offset ?? 0,\n            query: options?.query,\n            refresh_ttl: options?.refreshTtl,\n        };\n        const response = await this.fetch(\"/store/items/search\", {\n            method: \"POST\",\n            json: payload,\n        });\n        return {\n            items: response.items.map((item) => ({\n                ...item,\n                createdAt: item.created_at,\n                updatedAt: item.updated_at,\n            })),\n        };\n    }\n    /**\n     * List namespaces with optional match conditions.\n     *\n     * @param options.prefix Optional list of strings representing the prefix to filter namespaces.\n     * @param options.suffix Optional list of strings representing the suffix to filter namespaces.\n     * @param options.maxDepth Optional integer specifying the maximum depth of namespaces to return.\n     * @param options.limit Maximum number of namespaces to return (default is 100).\n     * @param options.offset Number of namespaces to skip before returning results (default is 0).\n     * @returns Promise<ListNamespaceResponse>\n     */\n    async listNamespaces(options) {\n        const payload = {\n            prefix: options?.prefix,\n            suffix: options?.suffix,\n            max_depth: options?.maxDepth,\n            limit: options?.limit ?? 100,\n            offset: options?.offset ?? 0,\n        };\n        return this.fetch(\"/store/namespaces\", {\n            method: \"POST\",\n            json: payload,\n        });\n    }\n}\nclass UiClient extends BaseClient {\n    static getOrCached(key, fn) {\n        if (UiClient.promiseCache[key] != null) {\n            return UiClient.promiseCache[key];\n        }\n        const promise = fn();\n        UiClient.promiseCache[key] = promise;\n        return promise;\n    }\n    async getComponent(assistantId, agentName) {\n        return UiClient.getOrCached(`${this.apiUrl}-${assistantId}-${agentName}`, async () => {\n            const response = await this.asyncCaller.fetch(...this.prepareFetchOptions(`/ui/${assistantId}`, {\n                headers: {\n                    Accept: \"text/html\",\n                    \"Content-Type\": \"application/json\",\n                },\n                method: \"POST\",\n                json: { name: agentName },\n            }));\n            return response.text();\n        });\n    }\n}\nObject.defineProperty(UiClient, \"promiseCache\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: {}\n});\nclass Client {\n    constructor(config) {\n        /**\n         * The client for interacting with assistants.\n         */\n        Object.defineProperty(this, \"assistants\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * The client for interacting with threads.\n         */\n        Object.defineProperty(this, \"threads\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * The client for interacting with runs.\n         */\n        Object.defineProperty(this, \"runs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * The client for interacting with cron runs.\n         */\n        Object.defineProperty(this, \"crons\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * The client for interacting with the KV store.\n         */\n        Object.defineProperty(this, \"store\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * The client for interacting with the UI.\n         * @internal Used by LoadExternalComponent and the API might change in the future.\n         */\n        Object.defineProperty(this, \"~ui\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * @internal Used to obtain a stable key representing the client.\n         */\n        Object.defineProperty(this, \"~configHash\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this[\"~configHash\"] = (() => JSON.stringify({\n            apiUrl: config?.apiUrl,\n            apiKey: config?.apiKey,\n            timeoutMs: config?.timeoutMs,\n            defaultHeaders: config?.defaultHeaders,\n            maxConcurrency: config?.callerOptions?.maxConcurrency,\n            maxRetries: config?.callerOptions?.maxRetries,\n            callbacks: {\n                onFailedResponseHook: config?.callerOptions?.onFailedResponseHook != null,\n                onRequest: config?.onRequest != null,\n                fetch: config?.callerOptions?.fetch != null,\n            },\n        }))();\n        this.assistants = new AssistantsClient(config);\n        this.threads = new ThreadsClient(config);\n        this.runs = new RunsClient(config);\n        this.crons = new CronsClient(config);\n        this.store = new StoreClient(config);\n        this[\"~ui\"] = new UiClient(config);\n    }\n}\n/**\n * @internal Used to obtain a stable key representing the client.\n */\nfunction getClientConfigHash(client) {\n    return client[\"~configHash\"];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNFO0FBQ047QUFDWTtBQUNIO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxRUFBc0IsSUFBSSxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYnl0ZWRhbmNlL1B5Y2hhcm1Qcm9qZWN0cy9teV9iZXN0L2xhbmdncmFwaF90ZWFjaC9hZ2VudF9jaGF0X3VpL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaC1zZGtAMC4xLjBfQGxhbmdjaGFpbitjb3JlQDAuMy41Nl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDMuMjQuNF9fX3JfZzV2YWF5eDdzaTY1M2hsbGR1aGZkNWJhdm0vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoLXNkay9kaXN0L2NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL3V0aWxzL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCIuL3V0aWxzL2Vudi5qc1wiO1xuaW1wb3J0IHsgbWVyZ2VTaWduYWxzIH0gZnJvbSBcIi4vdXRpbHMvc2lnbmFscy5qc1wiO1xuaW1wb3J0IHsgQnl0ZXNMaW5lRGVjb2RlciwgU1NFRGVjb2RlciB9IGZyb20gXCIuL3V0aWxzL3NzZS5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuL3V0aWxzL3N0cmVhbS5qc1wiO1xuZnVuY3Rpb24qIGl0ZXJhdGVIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICBsZXQgaXRlcjtcbiAgICBsZXQgc2hvdWxkQ2xlYXIgPSBmYWxzZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgICAgICAgaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlciA9IGVudHJpZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgICAgaXRlciA9IGhlYWRlcnM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzaG91bGRDbGVhciA9IHRydWU7XG4gICAgICAgIGl0ZXIgPSBPYmplY3QuZW50cmllcyhoZWFkZXJzID8/IHt9KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZXIpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGl0ZW1bMF07XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGhlYWRlciBuYW1lIHRvIGJlIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgbmFtZX1gKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gQXJyYXkuaXNBcnJheShpdGVtWzFdKSA/IGl0ZW1bMV0gOiBbaXRlbVsxXV07XG4gICAgICAgIGxldCBkaWRDbGVhciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyBOZXcgb2JqZWN0IGtleXMgc2hvdWxkIGFsd2F5cyBvdmVyd3JpdGUgb2xkZXIgaGVhZGVyc1xuICAgICAgICAgICAgLy8gWWllbGQgYSBudWxsIHRvIGNsZWFyIHRoZSBoZWFkZXIgaW4gdGhlIGhlYWRlcnMgb2JqZWN0XG4gICAgICAgICAgICAvLyBiZWZvcmUgYWRkaW5nIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICAgIGlmIChzaG91bGRDbGVhciAmJiAhZGlkQ2xlYXIpIHtcbiAgICAgICAgICAgICAgICBkaWRDbGVhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgeWllbGQgW25hbWUsIG51bGxdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgW25hbWUsIHZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1lcmdlSGVhZGVycyguLi5oZWFkZXJPYmplY3RzKSB7XG4gICAgY29uc3Qgb3V0cHV0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJzIG9mIGhlYWRlck9iamVjdHMpIHtcbiAgICAgICAgaWYgKCFoZWFkZXJzKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBpdGVyYXRlSGVhZGVycyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIG91dHB1dEhlYWRlcnMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG91dHB1dEhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoZWFkZXJFbnRyaWVzID0gW107XG4gICAgb3V0cHV0SGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgICAgICBoZWFkZXJFbnRyaWVzLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJFbnRyaWVzKTtcbn1cbi8qKlxuICogR2V0IHRoZSBBUEkga2V5IGZyb20gdGhlIGVudmlyb25tZW50LlxuICogUHJlY2VkZW5jZTpcbiAqICAgMS4gZXhwbGljaXQgYXJndW1lbnRcbiAqICAgMi4gTEFOR0dSQVBIX0FQSV9LRVlcbiAqICAgMy4gTEFOR1NNSVRIX0FQSV9LRVlcbiAqICAgNC4gTEFOR0NIQUlOX0FQSV9LRVlcbiAqXG4gKiBAcGFyYW0gYXBpS2V5IC0gT3B0aW9uYWwgQVBJIGtleSBwcm92aWRlZCBhcyBhbiBhcmd1bWVudFxuICogQHJldHVybnMgVGhlIEFQSSBrZXkgaWYgZm91bmQsIG90aGVyd2lzZSB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFwaUtleShhcGlLZXkpIHtcbiAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgIHJldHVybiBhcGlLZXk7XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeGVzID0gW1wiTEFOR0dSQVBIXCIsIFwiTEFOR1NNSVRIXCIsIFwiTEFOR0NIQUlOXCJdO1xuICAgIGZvciAoY29uc3QgcHJlZml4IG9mIHByZWZpeGVzKSB7XG4gICAgICAgIGNvbnN0IGVudktleSA9IGdldEVudmlyb25tZW50VmFyaWFibGUoYCR7cHJlZml4fV9BUElfS0VZYCk7XG4gICAgICAgIGlmIChlbnZLZXkpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXNcbiAgICAgICAgICAgIHJldHVybiBlbnZLZXkudHJpbSgpLnJlcGxhY2UoL15bXCInXXxbXCInXSQvZywgXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmNvbnN0IFJFR0VYX1JVTl9NRVRBREFUQSA9IC8oXFwvdGhyZWFkc1xcLyg/PHRocmVhZF9pZD4uKykpP1xcL3J1bnNcXC8oPzxydW5faWQ+LispLztcbmZ1bmN0aW9uIGdldFJ1bk1ldGFkYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgY29udGVudExvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJDb250ZW50LUxvY2F0aW9uXCIpO1xuICAgIGlmICghY29udGVudExvY2F0aW9uKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1hdGNoID0gUkVHRVhfUlVOX01FVEFEQVRBLmV4ZWMoY29udGVudExvY2F0aW9uKTtcbiAgICBpZiAoIW1hdGNoPy5ncm91cHM/LnJ1bl9pZClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4ge1xuICAgICAgICBydW5faWQ6IG1hdGNoLmdyb3Vwcy5ydW5faWQsXG4gICAgICAgIHRocmVhZF9pZDogbWF0Y2guZ3JvdXBzLnRocmVhZF9pZCB8fCB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmNsYXNzIEJhc2VDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhc3luY0NhbGxlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0TXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHRIZWFkZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uUmVxdWVzdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjYWxsZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgbWF4UmV0cmllczogNCxcbiAgICAgICAgICAgIG1heENvbmN1cnJlbmN5OiA0LFxuICAgICAgICAgICAgLi4uY29uZmlnPy5jYWxsZXJPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgZGVmYXVsdEFwaVVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MTIzXCI7XG4gICAgICAgIGlmICghY29uZmlnPy5hcGlVcmwgJiZcbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBnbG9iYWxUaGlzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZldGNoU21iID0gU3ltYm9sLmZvcihcImxhbmdncmFwaF9hcGk6ZmV0Y2hcIik7XG4gICAgICAgICAgICBjb25zdCB1cmxTbWIgPSBTeW1ib2wuZm9yKFwibGFuZ2dyYXBoX2FwaTp1cmxcIik7XG4gICAgICAgICAgICBjb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuICAgICAgICAgICAgaWYgKGdsb2JhbFtmZXRjaFNtYl0pXG4gICAgICAgICAgICAgICAgY2FsbGVyT3B0aW9ucy5mZXRjaCA/Pz0gZ2xvYmFsW2ZldGNoU21iXTtcbiAgICAgICAgICAgIGlmIChnbG9iYWxbdXJsU21iXSlcbiAgICAgICAgICAgICAgICBkZWZhdWx0QXBpVXJsID0gZ2xvYmFsW3VybFNtYl07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3luY0NhbGxlciA9IG5ldyBBc3luY0NhbGxlcihjYWxsZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy50aW1lb3V0TXMgPSBjb25maWc/LnRpbWVvdXRNcztcbiAgICAgICAgLy8gZGVmYXVsdCBsaW1pdCBiZWluZyBjYXBwZWQgYnkgQ2hyb21lXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvdW5kaWNpL2lzc3Vlcy8xMzczXG4gICAgICAgIC8vIFJlZ2V4IHRvIHJlbW92ZSB0cmFpbGluZyBzbGFzaCwgaWYgcHJlc2VudFxuICAgICAgICB0aGlzLmFwaVVybCA9IGNvbmZpZz8uYXBpVXJsPy5yZXBsYWNlKC9cXC8kLywgXCJcIikgfHwgZGVmYXVsdEFwaVVybDtcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IGNvbmZpZz8uZGVmYXVsdEhlYWRlcnMgfHwge307XG4gICAgICAgIHRoaXMub25SZXF1ZXN0ID0gY29uZmlnPy5vblJlcXVlc3Q7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IGdldEFwaUtleShjb25maWc/LmFwaUtleSk7XG4gICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNbXCJ4LWFwaS1rZXlcIl0gPSBhcGlLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJlcGFyZUZldGNoT3B0aW9ucyhwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG11dGF0ZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IG1lcmdlSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLCBvcHRpb25zPy5oZWFkZXJzKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG11dGF0ZWRPcHRpb25zLmpzb24pIHtcbiAgICAgICAgICAgIG11dGF0ZWRPcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShtdXRhdGVkT3B0aW9ucy5qc29uKTtcbiAgICAgICAgICAgIG11dGF0ZWRPcHRpb25zLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMobXV0YXRlZE9wdGlvbnMuaGVhZGVycywge1xuICAgICAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWxldGUgbXV0YXRlZE9wdGlvbnMuanNvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobXV0YXRlZE9wdGlvbnMud2l0aFJlc3BvbnNlKSB7XG4gICAgICAgICAgICBkZWxldGUgbXV0YXRlZE9wdGlvbnMud2l0aFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0aW1lb3V0U2lnbmFsID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zPy50aW1lb3V0TXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRpbWVvdXRNcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dFNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQob3B0aW9ucy50aW1lb3V0TXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGltZW91dE1zICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRpbWVvdXRTaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dE1zKTtcbiAgICAgICAgfVxuICAgICAgICBtdXRhdGVkT3B0aW9ucy5zaWduYWwgPSBtZXJnZVNpZ25hbHModGltZW91dFNpZ25hbCwgbXV0YXRlZE9wdGlvbnMuc2lnbmFsKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VXJsID0gbmV3IFVSTChgJHt0aGlzLmFwaVVybH0ke3BhdGh9YCk7XG4gICAgICAgIGlmIChtdXRhdGVkT3B0aW9ucy5wYXJhbXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG11dGF0ZWRPcHRpb25zLnBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHN0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBtdXRhdGVkT3B0aW9ucy5wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0YXJnZXRVcmwsIG11dGF0ZWRPcHRpb25zXTtcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2gocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBbdXJsLCBpbml0XSA9IHRoaXMucHJlcGFyZUZldGNoT3B0aW9ucyhwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgbGV0IGZpbmFsSW5pdCA9IGluaXQ7XG4gICAgICAgIGlmICh0aGlzLm9uUmVxdWVzdCkge1xuICAgICAgICAgICAgZmluYWxJbml0ID0gYXdhaXQgdGhpcy5vblJlcXVlc3QodXJsLCBpbml0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXN5bmNDYWxsZXIuZmV0Y2godXJsLCBmaW5hbEluaXQpO1xuICAgICAgICBjb25zdCBib2R5ID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMiB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSgpO1xuICAgICAgICBpZiAob3B0aW9ucz8ud2l0aFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gW2F3YWl0IGJvZHksIHJlc3BvbnNlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3JvbnNDbGllbnQgZXh0ZW5kcyBCYXNlQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gYXNzaXN0YW50SWQgQXNzaXN0YW50IElEIHRvIHVzZSBmb3IgdGhpcyBjcm9uIGpvYi5cbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBQYXlsb2FkIGZvciBjcmVhdGluZyBhIGNyb24gam9iLlxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIGJhY2tncm91bmQgcnVuLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUZvclRocmVhZCh0aHJlYWRJZCwgYXNzaXN0YW50SWQsIHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHtcbiAgICAgICAgICAgIHNjaGVkdWxlOiBwYXlsb2FkPy5zY2hlZHVsZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkPy5pbnB1dCxcbiAgICAgICAgICAgIGNvbmZpZzogcGF5bG9hZD8uY29uZmlnLFxuICAgICAgICAgICAgY29udGV4dDogcGF5bG9hZD8uY29udGV4dCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBwYXlsb2FkPy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGFzc2lzdGFudF9pZDogYXNzaXN0YW50SWQsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYmVmb3JlOiBwYXlsb2FkPy5pbnRlcnJ1cHRCZWZvcmUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYWZ0ZXI6IHBheWxvYWQ/LmludGVycnVwdEFmdGVyLFxuICAgICAgICAgICAgd2ViaG9vazogcGF5bG9hZD8ud2ViaG9vayxcbiAgICAgICAgICAgIG11bHRpdGFza19zdHJhdGVneTogcGF5bG9hZD8ubXVsdGl0YXNrU3RyYXRlZ3ksXG4gICAgICAgICAgICBpZl9ub3RfZXhpc3RzOiBwYXlsb2FkPy5pZk5vdEV4aXN0cyxcbiAgICAgICAgICAgIGNoZWNrcG9pbnRfZHVyaW5nOiBwYXlsb2FkPy5jaGVja3BvaW50RHVyaW5nLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogcGF5bG9hZD8uZHVyYWJpbGl0eSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvY3JvbnNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFzc2lzdGFudElkIEFzc2lzdGFudCBJRCB0byB1c2UgZm9yIHRoaXMgY3JvbiBqb2IuXG4gICAgICogQHBhcmFtIHBheWxvYWQgUGF5bG9hZCBmb3IgY3JlYXRpbmcgYSBjcm9uIGpvYi5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZShhc3Npc3RhbnRJZCwgcGF5bG9hZCkge1xuICAgICAgICBjb25zdCBqc29uID0ge1xuICAgICAgICAgICAgc2NoZWR1bGU6IHBheWxvYWQ/LnNjaGVkdWxlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQ/LmlucHV0LFxuICAgICAgICAgICAgY29uZmlnOiBwYXlsb2FkPy5jb25maWcsXG4gICAgICAgICAgICBjb250ZXh0OiBwYXlsb2FkPy5jb250ZXh0LFxuICAgICAgICAgICAgbWV0YWRhdGE6IHBheWxvYWQ/Lm1ldGFkYXRhLFxuICAgICAgICAgICAgYXNzaXN0YW50X2lkOiBhc3Npc3RhbnRJZCxcbiAgICAgICAgICAgIGludGVycnVwdF9iZWZvcmU6IHBheWxvYWQ/LmludGVycnVwdEJlZm9yZSxcbiAgICAgICAgICAgIGludGVycnVwdF9hZnRlcjogcGF5bG9hZD8uaW50ZXJydXB0QWZ0ZXIsXG4gICAgICAgICAgICB3ZWJob29rOiBwYXlsb2FkPy53ZWJob29rLFxuICAgICAgICAgICAgbXVsdGl0YXNrX3N0cmF0ZWd5OiBwYXlsb2FkPy5tdWx0aXRhc2tTdHJhdGVneSxcbiAgICAgICAgICAgIGlmX25vdF9leGlzdHM6IHBheWxvYWQ/LmlmTm90RXhpc3RzLFxuICAgICAgICAgICAgY2hlY2twb2ludF9kdXJpbmc6IHBheWxvYWQ/LmNoZWNrcG9pbnREdXJpbmcsXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiBwYXlsb2FkPy5kdXJhYmlsaXR5LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL3J1bnMvY3JvbnNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGNyb25JZCBDcm9uIElEIG9mIENyb24gam9iIHRvIGRlbGV0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGUoY3JvbklkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZmV0Y2goYC9ydW5zL2Nyb25zLyR7Y3JvbklkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5IFF1ZXJ5IG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBjcm9ucy5cbiAgICAgKi9cbiAgICBhc3luYyBzZWFyY2gocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goXCIvcnVucy9jcm9ucy9zZWFyY2hcIiwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGpzb246IHtcbiAgICAgICAgICAgICAgICBhc3Npc3RhbnRfaWQ6IHF1ZXJ5Py5hc3Npc3RhbnRJZCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2lkOiBxdWVyeT8udGhyZWFkSWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGxpbWl0OiBxdWVyeT8ubGltaXQgPz8gMTAsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBxdWVyeT8ub2Zmc2V0ID8/IDAsXG4gICAgICAgICAgICAgICAgc29ydF9ieTogcXVlcnk/LnNvcnRCeSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc29ydF9vcmRlcjogcXVlcnk/LnNvcnRPcmRlciA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiBxdWVyeT8uc2VsZWN0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3VudCBjcm9uIGpvYnMgbWF0Y2hpbmcgZmlsdGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeS5hc3Npc3RhbnRJZCBBc3Npc3RhbnQgSUQgdG8gZmlsdGVyIGJ5LlxuICAgICAqIEBwYXJhbSBxdWVyeS50aHJlYWRJZCBUaHJlYWQgSUQgdG8gZmlsdGVyIGJ5LlxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiBjcm9uIGpvYnMgbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLlxuICAgICAqL1xuICAgIGFzeW5jIGNvdW50KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvcnVucy9jcm9ucy9jb3VudGAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgYXNzaXN0YW50X2lkOiBxdWVyeT8uYXNzaXN0YW50SWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRocmVhZF9pZDogcXVlcnk/LnRocmVhZElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRzQ2xpZW50IGV4dGVuZHMgQmFzZUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogR2V0IGFuIGFzc2lzdGFudCBieSBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBUaGUgSUQgb2YgdGhlIGFzc2lzdGFudC5cbiAgICAgKiBAcmV0dXJucyBBc3Npc3RhbnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXQoYXNzaXN0YW50SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ3JhcGggYXNzaWduZWQgdG8gYSBydW5uYWJsZVxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBUaGUgSUQgb2YgdGhlIGFzc2lzdGFudC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy54cmF5IFdoZXRoZXIgdG8gaW5jbHVkZSBzdWJncmFwaHMgaW4gdGhlIHNlcmlhbGl6ZWQgZ3JhcGggcmVwcmVzZW50YXRpb24uIElmIGFuIGludGVnZXIgdmFsdWUgaXMgcHJvdmlkZWQsIG9ubHkgc3ViZ3JhcGhzIHdpdGggYSBkZXB0aCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIHdpbGwgYmUgaW5jbHVkZWQuXG4gICAgICogQHJldHVybnMgU2VyaWFsaXplZCBncmFwaFxuICAgICAqL1xuICAgIGFzeW5jIGdldEdyYXBoKGFzc2lzdGFudElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9ncmFwaGAsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyB4cmF5OiBvcHRpb25zPy54cmF5IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0YXRlIGFuZCBjb25maWcgc2NoZW1hIG9mIHRoZSBncmFwaCBhc3NpZ25lZCB0byBhIHJ1bm5hYmxlXG4gICAgICogQHBhcmFtIGFzc2lzdGFudElkIFRoZSBJRCBvZiB0aGUgYXNzaXN0YW50LlxuICAgICAqIEByZXR1cm5zIEdyYXBoIHNjaGVtYVxuICAgICAqL1xuICAgIGFzeW5jIGdldFNjaGVtYXMoYXNzaXN0YW50SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9L3NjaGVtYXNgKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY2hlbWFzIG9mIGFuIGFzc2lzdGFudCBieSBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBUaGUgSUQgb2YgdGhlIGFzc2lzdGFudCB0byBnZXQgdGhlIHNjaGVtYSBvZi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgZm9yIGdldHRpbmcgc3ViZ3JhcGhzLCBzdWNoIGFzIG5hbWVzcGFjZSBvciByZWN1cnNpb24gZXh0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyBUaGUgc3ViZ3JhcGhzIG9mIHRoZSBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0U3ViZ3JhcGhzKGFzc2lzdGFudElkLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zPy5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9zdWJncmFwaHMvJHtvcHRpb25zLm5hbWVzcGFjZX1gLCB7IHBhcmFtczogeyByZWN1cnNlOiBvcHRpb25zPy5yZWN1cnNlIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9L3N1YmdyYXBoc2AsIHtcbiAgICAgICAgICAgIHBhcmFtczogeyByZWN1cnNlOiBvcHRpb25zPy5yZWN1cnNlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYXNzaXN0YW50LlxuICAgICAqIEBwYXJhbSBwYXlsb2FkIFBheWxvYWQgZm9yIGNyZWF0aW5nIGFuIGFzc2lzdGFudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goXCIvYXNzaXN0YW50c1wiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjoge1xuICAgICAgICAgICAgICAgIGdyYXBoX2lkOiBwYXlsb2FkLmdyYXBoSWQsXG4gICAgICAgICAgICAgICAgY29uZmlnOiBwYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBwYXlsb2FkLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHBheWxvYWQubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgYXNzaXN0YW50X2lkOiBwYXlsb2FkLmFzc2lzdGFudElkLFxuICAgICAgICAgICAgICAgIGlmX2V4aXN0czogcGF5bG9hZC5pZkV4aXN0cyxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHBheWxvYWQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGFuIGFzc2lzdGFudC5cbiAgICAgKiBAcGFyYW0gYXNzaXN0YW50SWQgSUQgb2YgdGhlIGFzc2lzdGFudC5cbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBQYXlsb2FkIGZvciB1cGRhdGluZyB0aGUgYXNzaXN0YW50LlxuICAgICAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIGFzc2lzdGFudC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGUoYXNzaXN0YW50SWQsIHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgZ3JhcGhfaWQ6IHBheWxvYWQuZ3JhcGhJZCxcbiAgICAgICAgICAgICAgICBjb25maWc6IHBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBheWxvYWQuY29udGV4dCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogcGF5bG9hZC5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHBheWxvYWQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGFzc2lzdGFudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBJRCBvZiB0aGUgYXNzaXN0YW50LlxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZShhc3Npc3RhbnRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGFzc2lzdGFudHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFF1ZXJ5IG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBhc3Npc3RhbnRzLlxuICAgICAqL1xuICAgIGFzeW5jIHNlYXJjaChxdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChcIi9hc3Npc3RhbnRzL3NlYXJjaFwiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjoge1xuICAgICAgICAgICAgICAgIGdyYXBoX2lkOiBxdWVyeT8uZ3JhcGhJZCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHF1ZXJ5Py5tZXRhZGF0YSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHF1ZXJ5Py5saW1pdCA/PyAxMCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHF1ZXJ5Py5vZmZzZXQgPz8gMCxcbiAgICAgICAgICAgICAgICBzb3J0X2J5OiBxdWVyeT8uc29ydEJ5ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzb3J0X29yZGVyOiBxdWVyeT8uc29ydE9yZGVyID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHF1ZXJ5Py5zZWxlY3QgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvdW50IGFzc2lzdGFudHMgbWF0Y2hpbmcgZmlsdGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeS5tZXRhZGF0YSBNZXRhZGF0YSB0byBmaWx0ZXIgYnkuIEV4YWN0IG1hdGNoIGZvciBlYWNoIGtleS92YWx1ZS5cbiAgICAgKiBAcGFyYW0gcXVlcnkuZ3JhcGhJZCBPcHRpb25hbCBncmFwaCBpZCB0byBmaWx0ZXIgYnkuXG4gICAgICogQHJldHVybnMgTnVtYmVyIG9mIGFzc2lzdGFudHMgbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLlxuICAgICAqL1xuICAgIGFzeW5jIGNvdW50KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvYXNzaXN0YW50cy9jb3VudGAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHF1ZXJ5Py5tZXRhZGF0YSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZ3JhcGhfaWQ6IHF1ZXJ5Py5ncmFwaElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCB2ZXJzaW9ucyBvZiBhbiBhc3Npc3RhbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXNzaXN0YW50SWQgSUQgb2YgdGhlIGFzc2lzdGFudC5cbiAgICAgKiBAcmV0dXJucyBMaXN0IG9mIGFzc2lzdGFudCB2ZXJzaW9ucy5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRWZXJzaW9ucyhhc3Npc3RhbnRJZCwgcGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH0vdmVyc2lvbnNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjoge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBwYXlsb2FkPy5tZXRhZGF0YSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHBheWxvYWQ/LmxpbWl0ID8/IDEwLFxuICAgICAgICAgICAgICAgIG9mZnNldDogcGF5bG9hZD8ub2Zmc2V0ID8/IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSB2ZXJzaW9uIG9mIGFuIGFzc2lzdGFudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBJRCBvZiB0aGUgYXNzaXN0YW50LlxuICAgICAqIEBwYXJhbSB2ZXJzaW9uIFRoZSB2ZXJzaW9uIHRvIGNoYW5nZSB0by5cbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgYXN5bmMgc2V0TGF0ZXN0KGFzc2lzdGFudElkLCB2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfS9sYXRlc3RgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjogeyB2ZXJzaW9uIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUaHJlYWRzQ2xpZW50IGV4dGVuZHMgQmFzZUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGhyZWFkIGJ5IElELlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZElkIElEIG9mIHRoZSB0aHJlYWQuXG4gICAgICogQHJldHVybnMgVGhlIHRocmVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXQodGhyZWFkSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBQYXlsb2FkIGZvciBjcmVhdGluZyBhIHRocmVhZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCB0aHJlYWQuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGpzb246IHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkPy5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhfaWQ6IHBheWxvYWQ/LmdyYXBoSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHBheWxvYWQ/LnRocmVhZElkLFxuICAgICAgICAgICAgICAgIGlmX2V4aXN0czogcGF5bG9hZD8uaWZFeGlzdHMsXG4gICAgICAgICAgICAgICAgc3VwZXJzdGVwczogcGF5bG9hZD8uc3VwZXJzdGVwcz8ubWFwKChzKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVzOiBzLnVwZGF0ZXMubWFwKCh1KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiB1LnZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IHUuY29tbWFuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzX25vZGU6IHUuYXNOb2RlLFxuICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcHkgYW4gZXhpc3RpbmcgdGhyZWFkXG4gICAgICogQHBhcmFtIHRocmVhZElkIElEIG9mIHRoZSB0aHJlYWQgdG8gYmUgY29waWVkXG4gICAgICogQHJldHVybnMgTmV3bHkgY29waWVkIHRocmVhZFxuICAgICAqL1xuICAgIGFzeW5jIGNvcHkodGhyZWFkSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L2NvcHlgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGhyZWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZElkIElEIG9mIHRoZSB0aHJlYWQuXG4gICAgICogQHBhcmFtIHBheWxvYWQgUGF5bG9hZCBmb3IgdXBkYXRpbmcgdGhlIHRocmVhZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCB0aHJlYWQuXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlKHRocmVhZElkLCBwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAganNvbjogeyBtZXRhZGF0YTogcGF5bG9hZD8ubWV0YWRhdGEgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHRocmVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBJRCBvZiB0aGUgdGhyZWFkLlxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZSh0aHJlYWRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IHRocmVhZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeSBRdWVyeSBvcHRpb25zXG4gICAgICogQHJldHVybnMgTGlzdCBvZiB0aHJlYWRzXG4gICAgICovXG4gICAgYXN5bmMgc2VhcmNoKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKFwiL3RocmVhZHMvc2VhcmNoXCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHF1ZXJ5Py5tZXRhZGF0YSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHF1ZXJ5Py5saW1pdCA/PyAxMCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHF1ZXJ5Py5vZmZzZXQgPz8gMCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHF1ZXJ5Py5zdGF0dXMsXG4gICAgICAgICAgICAgICAgc29ydF9ieTogcXVlcnk/LnNvcnRCeSxcbiAgICAgICAgICAgICAgICBzb3J0X29yZGVyOiBxdWVyeT8uc29ydE9yZGVyLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogcXVlcnk/LnNlbGVjdCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ291bnQgdGhyZWFkcyBtYXRjaGluZyBmaWx0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5Lm1ldGFkYXRhIFRocmVhZCBtZXRhZGF0YSB0byBmaWx0ZXIgb24uXG4gICAgICogQHBhcmFtIHF1ZXJ5LnZhbHVlcyBTdGF0ZSB2YWx1ZXMgdG8gZmlsdGVyIG9uLlxuICAgICAqIEBwYXJhbSBxdWVyeS5zdGF0dXMgVGhyZWFkIHN0YXR1cyB0byBmaWx0ZXIgb24uXG4gICAgICogQHJldHVybnMgTnVtYmVyIG9mIHRocmVhZHMgbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLlxuICAgICAqL1xuICAgIGFzeW5jIGNvdW50KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy9jb3VudGAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHF1ZXJ5Py5tZXRhZGF0YSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBxdWVyeT8udmFsdWVzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHF1ZXJ5Py5zdGF0dXMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBzdGF0ZSBmb3IgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGhyZWFkSWQgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcmV0dXJucyBUaHJlYWQgc3RhdGUuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0U3RhdGUodGhyZWFkSWQsIGNoZWNrcG9pbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGNoZWNrcG9pbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGVja3BvaW50ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3N0YXRlL2NoZWNrcG9pbnRgLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGpzb246IHsgY2hlY2twb2ludCwgc3ViZ3JhcGhzOiBvcHRpb25zPy5zdWJncmFwaHMgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlcHJlY2F0ZWRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy8ke3RocmVhZElkfS9zdGF0ZS8ke2NoZWNrcG9pbnR9YCwgeyBwYXJhbXM6IHsgc3ViZ3JhcGhzOiBvcHRpb25zPy5zdWJncmFwaHMgfSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL3RocmVhZHMvJHt0aHJlYWRJZH0vc3RhdGVgLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHsgc3ViZ3JhcGhzOiBvcHRpb25zPy5zdWJncmFwaHMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBzdGF0ZSB0byBhIHRocmVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZVN0YXRlKHRocmVhZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy8ke3RocmVhZElkfS9zdGF0ZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBvcHRpb25zLnZhbHVlcyxcbiAgICAgICAgICAgICAgICBjaGVja3BvaW50X2lkOiBvcHRpb25zLmNoZWNrcG9pbnRJZCxcbiAgICAgICAgICAgICAgICBjaGVja3BvaW50OiBvcHRpb25zLmNoZWNrcG9pbnQsXG4gICAgICAgICAgICAgICAgYXNfbm9kZTogb3B0aW9ucz8uYXNOb2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdGNoIHRoZSBtZXRhZGF0YSBvZiBhIHRocmVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZE9yQ29uZmlnIFRocmVhZCBJRCBvciBjb25maWcgdG8gcGF0Y2ggdGhlIHN0YXRlIG9mLlxuICAgICAqIEBwYXJhbSBtZXRhZGF0YSBNZXRhZGF0YSB0byBwYXRjaCB0aGUgc3RhdGUgd2l0aC5cbiAgICAgKi9cbiAgICBhc3luYyBwYXRjaFN0YXRlKHRocmVhZElkT3JDb25maWcsIG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCB0aHJlYWRJZDtcbiAgICAgICAgaWYgKHR5cGVvZiB0aHJlYWRJZE9yQ29uZmlnICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRocmVhZElkT3JDb25maWcuY29uZmlndXJhYmxlPy50aHJlYWRfaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaHJlYWQgSUQgaXMgcmVxdWlyZWQgd2hlbiB1cGRhdGluZyBzdGF0ZSB3aXRoIGEgY29uZmlnLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocmVhZElkID0gdGhyZWFkSWRPckNvbmZpZy5jb25maWd1cmFibGUudGhyZWFkX2lkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyZWFkSWQgPSB0aHJlYWRJZE9yQ29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy8ke3RocmVhZElkfS9zdGF0ZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAganNvbjogeyBtZXRhZGF0YSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBwYXN0IHN0YXRlcyBmb3IgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGhyZWFkSWQgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiB0aHJlYWQgc3RhdGVzLlxuICAgICAqL1xuICAgIGFzeW5jIGdldEhpc3RvcnkodGhyZWFkSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L2hpc3RvcnlgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjoge1xuICAgICAgICAgICAgICAgIGxpbWl0OiBvcHRpb25zPy5saW1pdCA/PyAxMCxcbiAgICAgICAgICAgICAgICBiZWZvcmU6IG9wdGlvbnM/LmJlZm9yZSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogb3B0aW9ucz8ubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgY2hlY2twb2ludDogb3B0aW9ucz8uY2hlY2twb2ludCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyAqam9pblN0cmVhbSh0aHJlYWRJZCwgb3B0aW9uc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hc3luY0NhbGxlci5mZXRjaCguLi50aGlzLnByZXBhcmVGZXRjaE9wdGlvbnMoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3N0cmVhbWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnM/Lmxhc3RFdmVudElkXG4gICAgICAgICAgICAgICAgPyB7IFwiTGFzdC1FdmVudC1JRFwiOiBvcHRpb25zLmxhc3RFdmVudElkIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBhcmFtczogb3B0aW9ucz8uc3RyZWFtTW9kZVxuICAgICAgICAgICAgICAgID8geyBzdHJlYW1fbW9kZTogb3B0aW9ucy5zdHJlYW1Nb2RlIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCBzdHJlYW0gPSAocmVzcG9uc2UuYm9keSB8fCBuZXcgUmVhZGFibGVTdHJlYW0oeyBzdGFydDogKGN0cmwpID0+IGN0cmwuY2xvc2UoKSB9KSlcbiAgICAgICAgICAgIC5waXBlVGhyb3VnaChCeXRlc0xpbmVEZWNvZGVyKCkpXG4gICAgICAgICAgICAucGlwZVRocm91Z2goU1NFRGVjb2RlcigpKTtcbiAgICAgICAgeWllbGQqIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bnNDbGllbnQgZXh0ZW5kcyBCYXNlQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBydW4gYW5kIHN0cmVhbSB0aGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gYXNzaXN0YW50SWQgQXNzaXN0YW50IElEIHRvIHVzZSBmb3IgdGhpcyBydW4uXG4gICAgICogQHBhcmFtIHBheWxvYWQgUGF5bG9hZCBmb3IgY3JlYXRpbmcgYSBydW4uXG4gICAgICovXG4gICAgYXN5bmMgKnN0cmVhbSh0aHJlYWRJZCwgYXNzaXN0YW50SWQsIHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHtcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkPy5pbnB1dCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IHBheWxvYWQ/LmNvbW1hbmQsXG4gICAgICAgICAgICBjb25maWc6IHBheWxvYWQ/LmNvbmZpZyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHBheWxvYWQ/LmNvbnRleHQsXG4gICAgICAgICAgICBtZXRhZGF0YTogcGF5bG9hZD8ubWV0YWRhdGEsXG4gICAgICAgICAgICBzdHJlYW1fbW9kZTogcGF5bG9hZD8uc3RyZWFtTW9kZSxcbiAgICAgICAgICAgIHN0cmVhbV9zdWJncmFwaHM6IHBheWxvYWQ/LnN0cmVhbVN1YmdyYXBocyxcbiAgICAgICAgICAgIHN0cmVhbV9yZXN1bWFibGU6IHBheWxvYWQ/LnN0cmVhbVJlc3VtYWJsZSxcbiAgICAgICAgICAgIGZlZWRiYWNrX2tleXM6IHBheWxvYWQ/LmZlZWRiYWNrS2V5cyxcbiAgICAgICAgICAgIGFzc2lzdGFudF9pZDogYXNzaXN0YW50SWQsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYmVmb3JlOiBwYXlsb2FkPy5pbnRlcnJ1cHRCZWZvcmUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYWZ0ZXI6IHBheWxvYWQ/LmludGVycnVwdEFmdGVyLFxuICAgICAgICAgICAgY2hlY2twb2ludDogcGF5bG9hZD8uY2hlY2twb2ludCxcbiAgICAgICAgICAgIGNoZWNrcG9pbnRfaWQ6IHBheWxvYWQ/LmNoZWNrcG9pbnRJZCxcbiAgICAgICAgICAgIHdlYmhvb2s6IHBheWxvYWQ/LndlYmhvb2ssXG4gICAgICAgICAgICBtdWx0aXRhc2tfc3RyYXRlZ3k6IHBheWxvYWQ/Lm11bHRpdGFza1N0cmF0ZWd5LFxuICAgICAgICAgICAgb25fY29tcGxldGlvbjogcGF5bG9hZD8ub25Db21wbGV0aW9uLFxuICAgICAgICAgICAgb25fZGlzY29ubmVjdDogcGF5bG9hZD8ub25EaXNjb25uZWN0LFxuICAgICAgICAgICAgYWZ0ZXJfc2Vjb25kczogcGF5bG9hZD8uYWZ0ZXJTZWNvbmRzLFxuICAgICAgICAgICAgaWZfbm90X2V4aXN0czogcGF5bG9hZD8uaWZOb3RFeGlzdHMsXG4gICAgICAgICAgICBjaGVja3BvaW50X2R1cmluZzogcGF5bG9hZD8uY2hlY2twb2ludER1cmluZyxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHBheWxvYWQ/LmR1cmFiaWxpdHksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhyZWFkSWQgPT0gbnVsbCA/IGAvcnVucy9zdHJlYW1gIDogYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvc3RyZWFtYDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFzeW5jQ2FsbGVyLmZldGNoKC4uLnRoaXMucHJlcGFyZUZldGNoT3B0aW9ucyhlbmRwb2ludCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICB0aW1lb3V0TXM6IG51bGwsXG4gICAgICAgICAgICBzaWduYWw6IHBheWxvYWQ/LnNpZ25hbCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBydW5NZXRhZGF0YSA9IGdldFJ1bk1ldGFkYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHJ1bk1ldGFkYXRhKVxuICAgICAgICAgICAgcGF5bG9hZD8ub25SdW5DcmVhdGVkPy4ocnVuTWV0YWRhdGEpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCBzdHJlYW0gPSAocmVzcG9uc2UuYm9keSB8fCBuZXcgUmVhZGFibGVTdHJlYW0oeyBzdGFydDogKGN0cmwpID0+IGN0cmwuY2xvc2UoKSB9KSlcbiAgICAgICAgICAgIC5waXBlVGhyb3VnaChCeXRlc0xpbmVEZWNvZGVyKCkpXG4gICAgICAgICAgICAucGlwZVRocm91Z2goU1NFRGVjb2RlcigpKTtcbiAgICAgICAgeWllbGQqIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJ1bi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gYXNzaXN0YW50SWQgQXNzaXN0YW50IElEIHRvIHVzZSBmb3IgdGhpcyBydW4uXG4gICAgICogQHBhcmFtIHBheWxvYWQgUGF5bG9hZCBmb3IgY3JlYXRpbmcgYSBydW4uXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgcnVuLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZSh0aHJlYWRJZCwgYXNzaXN0YW50SWQsIHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHtcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkPy5pbnB1dCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IHBheWxvYWQ/LmNvbW1hbmQsXG4gICAgICAgICAgICBjb25maWc6IHBheWxvYWQ/LmNvbmZpZyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHBheWxvYWQ/LmNvbnRleHQsXG4gICAgICAgICAgICBtZXRhZGF0YTogcGF5bG9hZD8ubWV0YWRhdGEsXG4gICAgICAgICAgICBzdHJlYW1fbW9kZTogcGF5bG9hZD8uc3RyZWFtTW9kZSxcbiAgICAgICAgICAgIHN0cmVhbV9zdWJncmFwaHM6IHBheWxvYWQ/LnN0cmVhbVN1YmdyYXBocyxcbiAgICAgICAgICAgIHN0cmVhbV9yZXN1bWFibGU6IHBheWxvYWQ/LnN0cmVhbVJlc3VtYWJsZSxcbiAgICAgICAgICAgIGFzc2lzdGFudF9pZDogYXNzaXN0YW50SWQsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYmVmb3JlOiBwYXlsb2FkPy5pbnRlcnJ1cHRCZWZvcmUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYWZ0ZXI6IHBheWxvYWQ/LmludGVycnVwdEFmdGVyLFxuICAgICAgICAgICAgd2ViaG9vazogcGF5bG9hZD8ud2ViaG9vayxcbiAgICAgICAgICAgIGNoZWNrcG9pbnQ6IHBheWxvYWQ/LmNoZWNrcG9pbnQsXG4gICAgICAgICAgICBjaGVja3BvaW50X2lkOiBwYXlsb2FkPy5jaGVja3BvaW50SWQsXG4gICAgICAgICAgICBtdWx0aXRhc2tfc3RyYXRlZ3k6IHBheWxvYWQ/Lm11bHRpdGFza1N0cmF0ZWd5LFxuICAgICAgICAgICAgYWZ0ZXJfc2Vjb25kczogcGF5bG9hZD8uYWZ0ZXJTZWNvbmRzLFxuICAgICAgICAgICAgaWZfbm90X2V4aXN0czogcGF5bG9hZD8uaWZOb3RFeGlzdHMsXG4gICAgICAgICAgICBjaGVja3BvaW50X2R1cmluZzogcGF5bG9hZD8uY2hlY2twb2ludER1cmluZyxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHBheWxvYWQ/LmR1cmFiaWxpdHksXG4gICAgICAgICAgICBsYW5nc21pdGhfdHJhY2VyOiBwYXlsb2FkPy5fbGFuZ3NtaXRoVHJhY2VyXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RfbmFtZTogcGF5bG9hZD8uX2xhbmdzbWl0aFRyYWNlcj8ucHJvamVjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YW1wbGVfaWQ6IHBheWxvYWQ/Ll9sYW5nc21pdGhUcmFjZXI/LmV4YW1wbGVJZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IFtydW4sIHJlc3BvbnNlXSA9IGF3YWl0IHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIHNpZ25hbDogcGF5bG9hZD8uc2lnbmFsLFxuICAgICAgICAgICAgd2l0aFJlc3BvbnNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVuTWV0YWRhdGEgPSBnZXRSdW5NZXRhZGF0YUZyb21SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGlmIChydW5NZXRhZGF0YSlcbiAgICAgICAgICAgIHBheWxvYWQ/Lm9uUnVuQ3JlYXRlZD8uKHJ1bk1ldGFkYXRhKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYmF0Y2ggb2Ygc3RhdGVsZXNzIGJhY2tncm91bmQgcnVucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXlsb2FkcyBBbiBhcnJheSBvZiBwYXlsb2FkcyBmb3IgY3JlYXRpbmcgcnVucy5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiBjcmVhdGVkIHJ1bnMuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQmF0Y2gocGF5bG9hZHMpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRQYXlsb2FkcyA9IHBheWxvYWRzXG4gICAgICAgICAgICAubWFwKChwYXlsb2FkKSA9PiAoeyAuLi5wYXlsb2FkLCBhc3Npc3RhbnRfaWQ6IHBheWxvYWQuYXNzaXN0YW50SWQgfSkpXG4gICAgICAgICAgICAubWFwKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHBheWxvYWQpLmZpbHRlcigoW18sIHZdKSA9PiB2ICE9PSB1bmRlZmluZWQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKFwiL3J1bnMvYmF0Y2hcIiwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGpzb246IGZpbHRlcmVkUGF5bG9hZHMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBydW4gYW5kIHdhaXQgZm9yIGl0IHRvIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZElkIFRoZSBJRCBvZiB0aGUgdGhyZWFkLlxuICAgICAqIEBwYXJhbSBhc3Npc3RhbnRJZCBBc3Npc3RhbnQgSUQgdG8gdXNlIGZvciB0aGlzIHJ1bi5cbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBQYXlsb2FkIGZvciBjcmVhdGluZyBhIHJ1bi5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGFzdCB2YWx1ZXMgY2h1bmsgb2YgdGhlIHRocmVhZC5cbiAgICAgKi9cbiAgICBhc3luYyB3YWl0KHRocmVhZElkLCBhc3Npc3RhbnRJZCwgcGF5bG9hZCkge1xuICAgICAgICBjb25zdCBqc29uID0ge1xuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQ/LmlucHV0LFxuICAgICAgICAgICAgY29tbWFuZDogcGF5bG9hZD8uY29tbWFuZCxcbiAgICAgICAgICAgIGNvbmZpZzogcGF5bG9hZD8uY29uZmlnLFxuICAgICAgICAgICAgY29udGV4dDogcGF5bG9hZD8uY29udGV4dCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBwYXlsb2FkPy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGFzc2lzdGFudF9pZDogYXNzaXN0YW50SWQsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYmVmb3JlOiBwYXlsb2FkPy5pbnRlcnJ1cHRCZWZvcmUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfYWZ0ZXI6IHBheWxvYWQ/LmludGVycnVwdEFmdGVyLFxuICAgICAgICAgICAgY2hlY2twb2ludDogcGF5bG9hZD8uY2hlY2twb2ludCxcbiAgICAgICAgICAgIGNoZWNrcG9pbnRfaWQ6IHBheWxvYWQ/LmNoZWNrcG9pbnRJZCxcbiAgICAgICAgICAgIHdlYmhvb2s6IHBheWxvYWQ/LndlYmhvb2ssXG4gICAgICAgICAgICBtdWx0aXRhc2tfc3RyYXRlZ3k6IHBheWxvYWQ/Lm11bHRpdGFza1N0cmF0ZWd5LFxuICAgICAgICAgICAgb25fY29tcGxldGlvbjogcGF5bG9hZD8ub25Db21wbGV0aW9uLFxuICAgICAgICAgICAgb25fZGlzY29ubmVjdDogcGF5bG9hZD8ub25EaXNjb25uZWN0LFxuICAgICAgICAgICAgYWZ0ZXJfc2Vjb25kczogcGF5bG9hZD8uYWZ0ZXJTZWNvbmRzLFxuICAgICAgICAgICAgaWZfbm90X2V4aXN0czogcGF5bG9hZD8uaWZOb3RFeGlzdHMsXG4gICAgICAgICAgICBjaGVja3BvaW50X2R1cmluZzogcGF5bG9hZD8uY2hlY2twb2ludER1cmluZyxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHBheWxvYWQ/LmR1cmFiaWxpdHksXG4gICAgICAgICAgICBsYW5nc21pdGhfdHJhY2VyOiBwYXlsb2FkPy5fbGFuZ3NtaXRoVHJhY2VyXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RfbmFtZTogcGF5bG9hZD8uX2xhbmdzbWl0aFRyYWNlcj8ucHJvamVjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YW1wbGVfaWQ6IHBheWxvYWQ/Ll9sYW5nc21pdGhUcmFjZXI/LmV4YW1wbGVJZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhyZWFkSWQgPT0gbnVsbCA/IGAvcnVucy93YWl0YCA6IGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zL3dhaXRgO1xuICAgICAgICBjb25zdCBbcnVuLCByZXNwb25zZV0gPSBhd2FpdCB0aGlzLmZldGNoKGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIHRpbWVvdXRNczogbnVsbCxcbiAgICAgICAgICAgIHNpZ25hbDogcGF5bG9hZD8uc2lnbmFsLFxuICAgICAgICAgICAgd2l0aFJlc3BvbnNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVuTWV0YWRhdGEgPSBnZXRSdW5NZXRhZGF0YUZyb21SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGlmIChydW5NZXRhZGF0YSlcbiAgICAgICAgICAgIHBheWxvYWQ/Lm9uUnVuQ3JlYXRlZD8uKHJ1bk1ldGFkYXRhKTtcbiAgICAgICAgY29uc3QgcmFpc2VFcnJvciA9IHBheWxvYWQ/LnJhaXNlRXJyb3IgIT09IHVuZGVmaW5lZCA/IHBheWxvYWQucmFpc2VFcnJvciA6IHRydWU7XG4gICAgICAgIGlmIChyYWlzZUVycm9yICYmXG4gICAgICAgICAgICBcIl9fZXJyb3JfX1wiIGluIHJ1biAmJlxuICAgICAgICAgICAgdHlwZW9mIHJ1bi5fX2Vycm9yX18gPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIHJ1bi5fX2Vycm9yX18gJiZcbiAgICAgICAgICAgIFwiZXJyb3JcIiBpbiBydW4uX19lcnJvcl9fICYmXG4gICAgICAgICAgICBcIm1lc3NhZ2VcIiBpbiBydW4uX19lcnJvcl9fKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cnVuLl9fZXJyb3JfXz8uZXJyb3J9OiAke3J1bi5fX2Vycm9yX18/Lm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBhbGwgcnVucyBmb3IgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGhyZWFkSWQgVGhlIElEIG9mIHRoZSB0aHJlYWQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgRmlsdGVyaW5nIGFuZCBwYWdpbmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBydW5zLlxuICAgICAqL1xuICAgIGFzeW5jIGxpc3QodGhyZWFkSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogb3B0aW9ucz8ubGltaXQgPz8gMTAsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gMCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IG9wdGlvbnM/LnN0YXR1cyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0OiBvcHRpb25zPy5zZWxlY3QgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHJ1biBieSBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gcnVuSWQgVGhlIElEIG9mIHRoZSBydW4uXG4gICAgICogQHJldHVybnMgVGhlIHJ1bi5cbiAgICAgKi9cbiAgICBhc3luYyBnZXQodGhyZWFkSWQsIHJ1bklkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbCBhIHJ1bi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRJZCBUaGUgSUQgb2YgdGhlIHRocmVhZC5cbiAgICAgKiBAcGFyYW0gcnVuSWQgVGhlIElEIG9mIHRoZSBydW4uXG4gICAgICogQHBhcmFtIHdhaXQgV2hldGhlciB0byBibG9jayB3aGVuIGNhbmNlbGluZ1xuICAgICAqIEBwYXJhbSBhY3Rpb24gQWN0aW9uIHRvIHRha2Ugd2hlbiBjYW5jZWxsaW5nIHRoZSBydW4uIFBvc3NpYmxlIHZhbHVlcyBhcmUgYGludGVycnVwdGAgb3IgYHJvbGxiYWNrYC4gRGVmYXVsdCBpcyBgaW50ZXJydXB0YC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIGNhbmNlbCh0aHJlYWRJZCwgcnVuSWQsIHdhaXQgPSBmYWxzZSwgYWN0aW9uID0gXCJpbnRlcnJ1cHRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9jYW5jZWxgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgd2FpdDogd2FpdCA/IFwiMVwiIDogXCIwXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJsb2NrIHVudGlsIGEgcnVuIGlzIGRvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGhyZWFkSWQgVGhlIElEIG9mIHRoZSB0aHJlYWQuXG4gICAgICogQHBhcmFtIHJ1bklkIFRoZSBJRCBvZiB0aGUgcnVuLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgam9pbih0aHJlYWRJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vam9pbmAsIHtcbiAgICAgICAgICAgIHRpbWVvdXRNczogbnVsbCxcbiAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucz8uc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RyZWFtIG91dHB1dCBmcm9tIGEgcnVuIGluIHJlYWwtdGltZSwgdW50aWwgdGhlIHJ1biBpcyBkb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZElkIFRoZSBJRCBvZiB0aGUgdGhyZWFkLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB8IGB1bmRlZmluZWRgIGZvciBzdGF0ZWxlc3MgcnVucy5cbiAgICAgKiBAcGFyYW0gcnVuSWQgVGhlIElEIG9mIHRoZSBydW4uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zIGZvciBjb250cm9sbGluZyB0aGUgc3RyZWFtIGJlaGF2aW9yOlxuICAgICAqICAgLSBzaWduYWw6IEFuIEFib3J0U2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBzdHJlYW0gcmVxdWVzdFxuICAgICAqICAgLSBsYXN0RXZlbnRJZDogVGhlIElEIG9mIHRoZSBsYXN0IGV2ZW50IHJlY2VpdmVkLiBDYW4gYmUgdXNlZCB0byByZWNvbm5lY3QgdG8gYSBzdHJlYW0gd2l0aG91dCBsb3NpbmcgZXZlbnRzLlxuICAgICAqICAgLSBjYW5jZWxPbkRpc2Nvbm5lY3Q6IFdoZW4gdHJ1ZSwgYXV0b21hdGljYWxseSBjYW5jZWxzIHRoZSBydW4gaWYgdGhlIGNsaWVudCBkaXNjb25uZWN0cyBmcm9tIHRoZSBzdHJlYW1cbiAgICAgKiAgIC0gc3RyZWFtTW9kZTogQ29udHJvbHMgd2hhdCB0eXBlcyBvZiBldmVudHMgdG8gcmVjZWl2ZSBmcm9tIHRoZSBzdHJlYW0gKGNhbiBiZSBhIHNpbmdsZSBtb2RlIG9yIGFycmF5IG9mIG1vZGVzKVxuICAgICAqICAgICAgICBNdXN0IGJlIGEgc3Vic2V0IG9mIHRoZSBzdHJlYW0gbW9kZXMgcGFzc2VkIHdoZW4gY3JlYXRpbmcgdGhlIHJ1bi4gQmFja2dyb3VuZCBydW5zIGRlZmF1bHQgdG8gaGF2aW5nIHRoZSB1bmlvbiBvZiBhbGxcbiAgICAgKiAgICAgICAgc3RyZWFtIG1vZGVzIGVuYWJsZWQuXG4gICAgICogQHJldHVybnMgQW4gYXN5bmMgZ2VuZXJhdG9yIHlpZWxkaW5nIHN0cmVhbSBwYXJ0cy5cbiAgICAgKi9cbiAgICBhc3luYyAqam9pblN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIG9wdGlvbnNcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkge1xuICAgICAgICBjb25zdCBvcHRzID0gdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIG9wdGlvbnMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgb3B0aW9ucyBpbnN0YW5jZW9mIEFib3J0U2lnbmFsXG4gICAgICAgICAgICA/IHsgc2lnbmFsOiBvcHRpb25zIH1cbiAgICAgICAgICAgIDogb3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFzeW5jQ2FsbGVyLmZldGNoKC4uLnRoaXMucHJlcGFyZUZldGNoT3B0aW9ucyh0aHJlYWRJZCAhPSBudWxsXG4gICAgICAgICAgICA/IGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N0cmVhbWBcbiAgICAgICAgICAgIDogYC9ydW5zLyR7cnVuSWR9L3N0cmVhbWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIHRpbWVvdXRNczogbnVsbCxcbiAgICAgICAgICAgIHNpZ25hbDogb3B0cz8uc2lnbmFsLFxuICAgICAgICAgICAgaGVhZGVyczogb3B0cz8ubGFzdEV2ZW50SWRcbiAgICAgICAgICAgICAgICA/IHsgXCJMYXN0LUV2ZW50LUlEXCI6IG9wdHMubGFzdEV2ZW50SWQgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsX29uX2Rpc2Nvbm5lY3Q6IG9wdHM/LmNhbmNlbE9uRGlzY29ubmVjdCA/IFwiMVwiIDogXCIwXCIsXG4gICAgICAgICAgICAgICAgc3RyZWFtX21vZGU6IG9wdHM/LnN0cmVhbU1vZGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IChyZXNwb25zZS5ib2R5IHx8IG5ldyBSZWFkYWJsZVN0cmVhbSh7IHN0YXJ0OiAoY3RybCkgPT4gY3RybC5jbG9zZSgpIH0pKVxuICAgICAgICAgICAgLnBpcGVUaHJvdWdoKEJ5dGVzTGluZURlY29kZXIoKSlcbiAgICAgICAgICAgIC5waXBlVGhyb3VnaChTU0VEZWNvZGVyKCkpO1xuICAgICAgICB5aWVsZCogSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgcnVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRocmVhZElkIFRoZSBJRCBvZiB0aGUgdGhyZWFkLlxuICAgICAqIEBwYXJhbSBydW5JZCBUaGUgSUQgb2YgdGhlIHJ1bi5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZSh0aHJlYWRJZCwgcnVuSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTdG9yZUNsaWVudCBleHRlbmRzIEJhc2VDbGllbnQge1xuICAgIC8qKlxuICAgICAqIFN0b3JlIG9yIHVwZGF0ZSBhbiBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWVzcGFjZSBBIGxpc3Qgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIG5hbWVzcGFjZSBwYXRoLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgaXRlbSB3aXRoaW4gdGhlIG5hbWVzcGFjZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgQSBkaWN0aW9uYXJ5IGNvbnRhaW5pbmcgdGhlIGl0ZW0ncyBkYXRhLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmluZGV4IENvbnRyb2xzIHNlYXJjaCBpbmRleGluZyAtIG51bGwgKHVzZSBkZWZhdWx0cyksIGZhbHNlIChkaXNhYmxlKSwgb3IgbGlzdCBvZiBmaWVsZCBwYXRocyB0byBpbmRleC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50dGwgT3B0aW9uYWwgdGltZS10by1saXZlIGluIG1pbnV0ZXMgZm9yIHRoZSBpdGVtLCBvciBudWxsIGZvciBubyBleHBpcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGF3YWl0IGNsaWVudC5zdG9yZS5wdXRJdGVtKFxuICAgICAqICAgW1wiZG9jdW1lbnRzXCIsIFwidXNlcjEyM1wiXSxcbiAgICAgKiAgIFwiaXRlbTQ1NlwiLFxuICAgICAqICAgeyB0aXRsZTogXCJNeSBEb2N1bWVudFwiLCBjb250ZW50OiBcIkhlbGxvIFdvcmxkXCIgfSxcbiAgICAgKiAgIHsgdHRsOiA2MCB9IC8vIGV4cGlyZXMgaW4gNjAgbWludXRlc1xuICAgICAqICk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgcHV0SXRlbShuYW1lc3BhY2UsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgbmFtZXNwYWNlLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICAgICAgICBpZiAobGFiZWwuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5hbWVzcGFjZSBsYWJlbCAnJHtsYWJlbH0nLiBOYW1lc3BhY2UgbGFiZWxzIGNhbm5vdCBjb250YWluIHBlcmlvZHMgKCcuJylgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGluZGV4OiBvcHRpb25zPy5pbmRleCxcbiAgICAgICAgICAgIHR0bDogb3B0aW9ucz8udHRsLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChcIi9zdG9yZS9pdGVtc1wiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgICBqc29uOiBwYXlsb2FkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBzaW5nbGUgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgQSBsaXN0IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHRoZSBuYW1lc3BhY2UgcGF0aC5cbiAgICAgKiBAcGFyYW0ga2V5IFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGl0ZW0uXG4gICAgICogQHBhcmFtIG9wdGlvbnMucmVmcmVzaFR0bCBXaGV0aGVyIHRvIHJlZnJlc2ggdGhlIFRUTCBvbiB0aGlzIHJlYWQgb3BlcmF0aW9uLiBJZiBudWxsLCB1c2VzIHRoZSBzdG9yZSdzIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJdGVtPlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgaXRlbSA9IGF3YWl0IGNsaWVudC5zdG9yZS5nZXRJdGVtKFxuICAgICAqICAgW1wiZG9jdW1lbnRzXCIsIFwidXNlcjEyM1wiXSxcbiAgICAgKiAgIFwiaXRlbTQ1NlwiLFxuICAgICAqICAgeyByZWZyZXNoVHRsOiB0cnVlIH1cbiAgICAgKiApO1xuICAgICAqIGNvbnNvbGUubG9nKGl0ZW0pO1xuICAgICAqIC8vIHtcbiAgICAgKiAvLyAgIG5hbWVzcGFjZTogW1wiZG9jdW1lbnRzXCIsIFwidXNlcjEyM1wiXSxcbiAgICAgKiAvLyAgIGtleTogXCJpdGVtNDU2XCIsXG4gICAgICogLy8gICB2YWx1ZTogeyB0aXRsZTogXCJNeSBEb2N1bWVudFwiLCBjb250ZW50OiBcIkhlbGxvIFdvcmxkXCIgfSxcbiAgICAgKiAvLyAgIGNyZWF0ZWRBdDogXCIyMDI0LTA3LTMwVDEyOjAwOjAwWlwiLFxuICAgICAqIC8vICAgdXBkYXRlZEF0OiBcIjIwMjQtMDctMzBUMTI6MDA6MDBaXCJcbiAgICAgKiAvLyB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgZ2V0SXRlbShuYW1lc3BhY2UsIGtleSwgb3B0aW9ucykge1xuICAgICAgICBuYW1lc3BhY2UuZm9yRWFjaCgobGFiZWwpID0+IHtcbiAgICAgICAgICAgIGlmIChsYWJlbC5pbmNsdWRlcyhcIi5cIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbmFtZXNwYWNlIGxhYmVsICcke2xhYmVsfScuIE5hbWVzcGFjZSBsYWJlbHMgY2Fubm90IGNvbnRhaW4gcGVyaW9kcyAoJy4nKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2Uuam9pbihcIi5cIiksXG4gICAgICAgICAgICBrZXksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zPy5yZWZyZXNoVHRsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5yZWZyZXNoX3R0bCA9IG9wdGlvbnMucmVmcmVzaFR0bDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2goXCIvc3RvcmUvaXRlbXNcIiwge1xuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHJlc3BvbnNlLmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiByZXNwb25zZS51cGRhdGVkX2F0LFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgQSBsaXN0IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHRoZSBuYW1lc3BhY2UgcGF0aC5cbiAgICAgKiBAcGFyYW0ga2V5IFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGl0ZW0uXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZUl0ZW0obmFtZXNwYWNlLCBrZXkpIHtcbiAgICAgICAgbmFtZXNwYWNlLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICAgICAgICBpZiAobGFiZWwuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5hbWVzcGFjZSBsYWJlbCAnJHtsYWJlbH0nLiBOYW1lc3BhY2UgbGFiZWxzIGNhbm5vdCBjb250YWluIHBlcmlvZHMgKCcuJylgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKFwiL3N0b3JlL2l0ZW1zXCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGpzb246IHsgbmFtZXNwYWNlLCBrZXkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBmb3IgaXRlbXMgd2l0aGluIGEgbmFtZXNwYWNlIHByZWZpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2VQcmVmaXggTGlzdCBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgbmFtZXNwYWNlIHByZWZpeC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5maWx0ZXIgT3B0aW9uYWwgZGljdGlvbmFyeSBvZiBrZXktdmFsdWUgcGFpcnMgdG8gZmlsdGVyIHJlc3VsdHMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMubGltaXQgTWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdG8gcmV0dXJuIChkZWZhdWx0IGlzIDEwKS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgTnVtYmVyIG9mIGl0ZW1zIHRvIHNraXAgYmVmb3JlIHJldHVybmluZyByZXN1bHRzIChkZWZhdWx0IGlzIDApLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnF1ZXJ5IE9wdGlvbmFsIHNlYXJjaCBxdWVyeS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWZyZXNoVHRsIFdoZXRoZXIgdG8gcmVmcmVzaCB0aGUgVFRMIG9uIGl0ZW1zIHJldHVybmVkIGJ5IHRoaXMgc2VhcmNoLiBJZiBudWxsLCB1c2VzIHRoZSBzdG9yZSdzIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxTZWFyY2hJdGVtc1Jlc3BvbnNlPlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgcmVzdWx0cyA9IGF3YWl0IGNsaWVudC5zdG9yZS5zZWFyY2hJdGVtcyhcbiAgICAgKiAgIFtcImRvY3VtZW50c1wiXSxcbiAgICAgKiAgIHtcbiAgICAgKiAgICAgZmlsdGVyOiB7IGF1dGhvcjogXCJKb2huIERvZVwiIH0sXG4gICAgICogICAgIGxpbWl0OiA1LFxuICAgICAqICAgICByZWZyZXNoVHRsOiB0cnVlXG4gICAgICogICB9XG4gICAgICogKTtcbiAgICAgKiBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICAgKiAvLyB7XG4gICAgICogLy8gICBpdGVtczogW1xuICAgICAqIC8vICAgICB7XG4gICAgICogLy8gICAgICAgbmFtZXNwYWNlOiBbXCJkb2N1bWVudHNcIiwgXCJ1c2VyMTIzXCJdLFxuICAgICAqIC8vICAgICAgIGtleTogXCJpdGVtNzg5XCIsXG4gICAgICogLy8gICAgICAgdmFsdWU6IHsgdGl0bGU6IFwiQW5vdGhlciBEb2N1bWVudFwiLCBhdXRob3I6IFwiSm9obiBEb2VcIiB9LFxuICAgICAqIC8vICAgICAgIGNyZWF0ZWRBdDogXCIyMDI0LTA3LTMwVDEyOjAwOjAwWlwiLFxuICAgICAqIC8vICAgICAgIHVwZGF0ZWRBdDogXCIyMDI0LTA3LTMwVDEyOjAwOjAwWlwiXG4gICAgICogLy8gICAgIH0sXG4gICAgICogLy8gICAgIC8vIC4uLiBhZGRpdGlvbmFsIGl0ZW1zIC4uLlxuICAgICAqIC8vICAgXVxuICAgICAqIC8vIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyBzZWFyY2hJdGVtcyhuYW1lc3BhY2VQcmVmaXgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIG5hbWVzcGFjZV9wcmVmaXg6IG5hbWVzcGFjZVByZWZpeCxcbiAgICAgICAgICAgIGZpbHRlcjogb3B0aW9ucz8uZmlsdGVyLFxuICAgICAgICAgICAgbGltaXQ6IG9wdGlvbnM/LmxpbWl0ID8/IDEwLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gMCxcbiAgICAgICAgICAgIHF1ZXJ5OiBvcHRpb25zPy5xdWVyeSxcbiAgICAgICAgICAgIHJlZnJlc2hfdHRsOiBvcHRpb25zPy5yZWZyZXNoVHRsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2goXCIvc3RvcmUvaXRlbXMvc2VhcmNoXCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBqc29uOiBwYXlsb2FkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGl0ZW1zOiByZXNwb25zZS5pdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGl0ZW0uY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGl0ZW0udXBkYXRlZF9hdCxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBuYW1lc3BhY2VzIHdpdGggb3B0aW9uYWwgbWF0Y2ggY29uZGl0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnByZWZpeCBPcHRpb25hbCBsaXN0IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHRoZSBwcmVmaXggdG8gZmlsdGVyIG5hbWVzcGFjZXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuc3VmZml4IE9wdGlvbmFsIGxpc3Qgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIHN1ZmZpeCB0byBmaWx0ZXIgbmFtZXNwYWNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5tYXhEZXB0aCBPcHRpb25hbCBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIG1heGltdW0gZGVwdGggb2YgbmFtZXNwYWNlcyB0byByZXR1cm4uXG4gICAgICogQHBhcmFtIG9wdGlvbnMubGltaXQgTWF4aW11bSBudW1iZXIgb2YgbmFtZXNwYWNlcyB0byByZXR1cm4gKGRlZmF1bHQgaXMgMTAwKS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgTnVtYmVyIG9mIG5hbWVzcGFjZXMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIHJlc3VsdHMgKGRlZmF1bHQgaXMgMCkuXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxMaXN0TmFtZXNwYWNlUmVzcG9uc2U+XG4gICAgICovXG4gICAgYXN5bmMgbGlzdE5hbWVzcGFjZXMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgcHJlZml4OiBvcHRpb25zPy5wcmVmaXgsXG4gICAgICAgICAgICBzdWZmaXg6IG9wdGlvbnM/LnN1ZmZpeCxcbiAgICAgICAgICAgIG1heF9kZXB0aDogb3B0aW9ucz8ubWF4RGVwdGgsXG4gICAgICAgICAgICBsaW1pdDogb3B0aW9ucz8ubGltaXQgPz8gMTAwLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gMCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2goXCIvc3RvcmUvbmFtZXNwYWNlc1wiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAganNvbjogcGF5bG9hZCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgVWlDbGllbnQgZXh0ZW5kcyBCYXNlQ2xpZW50IHtcbiAgICBzdGF0aWMgZ2V0T3JDYWNoZWQoa2V5LCBmbikge1xuICAgICAgICBpZiAoVWlDbGllbnQucHJvbWlzZUNhY2hlW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFVpQ2xpZW50LnByb21pc2VDYWNoZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBmbigpO1xuICAgICAgICBVaUNsaWVudC5wcm9taXNlQ2FjaGVba2V5XSA9IHByb21pc2U7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBhc3luYyBnZXRDb21wb25lbnQoYXNzaXN0YW50SWQsIGFnZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gVWlDbGllbnQuZ2V0T3JDYWNoZWQoYCR7dGhpcy5hcGlVcmx9LSR7YXNzaXN0YW50SWR9LSR7YWdlbnROYW1lfWAsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hc3luY0NhbGxlci5mZXRjaCguLi50aGlzLnByZXBhcmVGZXRjaE9wdGlvbnMoYC91aS8ke2Fzc2lzdGFudElkfWAsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogXCJ0ZXh0L2h0bWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGpzb246IHsgbmFtZTogYWdlbnROYW1lIH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVWlDbGllbnQsIFwicHJvbWlzZUNhY2hlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZToge31cbn0pO1xuZXhwb3J0IGNsYXNzIENsaWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIGFzc2lzdGFudHMuXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhc3Npc3RhbnRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHRocmVhZHMuXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHJlYWRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHJ1bnMuXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJydW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIGNyb24gcnVucy5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNyb25zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBLViBzdG9yZS5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3JlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xpZW50IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBVSS5cbiAgICAgICAgICogQGludGVybmFsIFVzZWQgYnkgTG9hZEV4dGVybmFsQ29tcG9uZW50IGFuZCB0aGUgQVBJIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwifnVpXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWwgVXNlZCB0byBvYnRhaW4gYSBzdGFibGUga2V5IHJlcHJlc2VudGluZyB0aGUgY2xpZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwifmNvbmZpZ0hhc2hcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpc1tcIn5jb25maWdIYXNoXCJdID0gKCgpID0+IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGFwaVVybDogY29uZmlnPy5hcGlVcmwsXG4gICAgICAgICAgICBhcGlLZXk6IGNvbmZpZz8uYXBpS2V5LFxuICAgICAgICAgICAgdGltZW91dE1zOiBjb25maWc/LnRpbWVvdXRNcyxcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiBjb25maWc/LmRlZmF1bHRIZWFkZXJzLFxuICAgICAgICAgICAgbWF4Q29uY3VycmVuY3k6IGNvbmZpZz8uY2FsbGVyT3B0aW9ucz8ubWF4Q29uY3VycmVuY3ksXG4gICAgICAgICAgICBtYXhSZXRyaWVzOiBjb25maWc/LmNhbGxlck9wdGlvbnM/Lm1heFJldHJpZXMsXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICBvbkZhaWxlZFJlc3BvbnNlSG9vazogY29uZmlnPy5jYWxsZXJPcHRpb25zPy5vbkZhaWxlZFJlc3BvbnNlSG9vayAhPSBudWxsLFxuICAgICAgICAgICAgICAgIG9uUmVxdWVzdDogY29uZmlnPy5vblJlcXVlc3QgIT0gbnVsbCxcbiAgICAgICAgICAgICAgICBmZXRjaDogY29uZmlnPy5jYWxsZXJPcHRpb25zPy5mZXRjaCAhPSBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpKCk7XG4gICAgICAgIHRoaXMuYXNzaXN0YW50cyA9IG5ldyBBc3Npc3RhbnRzQ2xpZW50KGNvbmZpZyk7XG4gICAgICAgIHRoaXMudGhyZWFkcyA9IG5ldyBUaHJlYWRzQ2xpZW50KGNvbmZpZyk7XG4gICAgICAgIHRoaXMucnVucyA9IG5ldyBSdW5zQ2xpZW50KGNvbmZpZyk7XG4gICAgICAgIHRoaXMuY3JvbnMgPSBuZXcgQ3JvbnNDbGllbnQoY29uZmlnKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTdG9yZUNsaWVudChjb25maWcpO1xuICAgICAgICB0aGlzW1wifnVpXCJdID0gbmV3IFVpQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWwgVXNlZCB0byBvYnRhaW4gYSBzdGFibGUga2V5IHJlcHJlc2VudGluZyB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xpZW50Q29uZmlnSGFzaChjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50W1wifmNvbmZpZ0hhc2hcIl07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/index.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/index.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.Client),\n/* harmony export */   getApiKey: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.getApiKey),\n/* harmony export */   overrideFetchImplementation: () => (/* reexport safe */ _singletons_fetch_js__WEBPACK_IMPORTED_MODULE_1__.overrideFetchImplementation)\n/* harmony export */ });\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/client.js\");\n/* harmony import */ var _singletons_fetch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./singletons/fetch.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/singletons/fetch.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNvQiIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBDbGllbnQsIGdldEFwaUtleSB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuZXhwb3J0IHsgb3ZlcnJpZGVGZXRjaEltcGxlbWVudGF0aW9uIH0gZnJvbSBcIi4vc2luZ2xldG9ucy9mZXRjaC5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/client.js":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/client.js ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("var react__WEBPACK_IMPORTED_MODULE_1___namespace_cache;\nvar react_dom__WEBPACK_IMPORTED_MODULE_2___namespace_cache;\nvar react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LoadExternalComponent: () => (/* binding */ LoadExternalComponent),\n/* harmony export */   bootstrapUiContext: () => (/* binding */ bootstrapUiContext),\n/* harmony export */   experimental_loadShare: () => (/* binding */ experimental_loadShare),\n/* harmony export */   useStreamContext: () => (/* binding */ useStreamContext)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.3.2_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.3.2_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/.pnpm/next@15.3.2_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _react_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../react/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/index.js\");\n/* __next_internal_client_entry_do_not_use__ useStreamContext,LoadExternalComponent,experimental_loadShare,bootstrapUiContext auto */ \n\n\n\n\nconst UseStreamContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);\nfunction useStreamContext() {\n    const ctx = react__WEBPACK_IMPORTED_MODULE_1__.useContext(UseStreamContext);\n    if (!ctx) {\n        throw new Error(\"useStreamContext must be used within a LoadExternalComponent\");\n    }\n    return new Proxy(ctx, {\n        get (target, prop) {\n            if (prop === \"meta\") return target.meta;\n            return target.stream[prop];\n        }\n    });\n}\nclass ComponentStore {\n    constructor(){\n        Object.defineProperty(this, \"cache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        Object.defineProperty(this, \"boundCache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        Object.defineProperty(this, \"callbacks\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n    }\n    respond(shadowRootId, comp, targetElement) {\n        this.cache[shadowRootId] = {\n            comp,\n            target: targetElement\n        };\n        this.callbacks[shadowRootId]?.forEach((c)=>c(comp, targetElement));\n    }\n    getBoundStore(shadowRootId) {\n        this.boundCache[shadowRootId] ??= {\n            subscribe: (onStoreChange)=>{\n                this.callbacks[shadowRootId] ??= [];\n                this.callbacks[shadowRootId].push(onStoreChange);\n                return ()=>{\n                    this.callbacks[shadowRootId] = this.callbacks[shadowRootId].filter((c)=>c !== onStoreChange);\n                };\n            },\n            getSnapshot: ()=>this.cache[shadowRootId]\n        };\n        return this.boundCache[shadowRootId];\n    }\n}\nconst COMPONENT_STORE = new ComponentStore();\nconst EXT_STORE_SYMBOL = Symbol.for(\"LGUI_EXT_STORE\");\nconst REQUIRE_SYMBOL = Symbol.for(\"LGUI_REQUIRE\");\nconst REQUIRE_EXTRA_SYMBOL = Symbol.for(\"LGUI_REQUIRE_EXTRA\");\nconst isIterable = (value)=>value != null && typeof value === \"object\" && Symbol.iterator in value;\nconst isPromise = (value)=>value != null && typeof value === \"object\" && \"then\" in value && typeof value.then === \"function\";\nconst isReactNode = (value)=>{\n    if (/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(value)) return true;\n    if (value == null) return true;\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"bigint\" || typeof value === \"boolean\") {\n        return true;\n    }\n    if (isIterable(value)) return true;\n    if (isPromise(value)) return true;\n    return false;\n};\nfunction LoadExternalComponent({ stream, namespace, message, meta, fallback, components, ...props }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const id = react__WEBPACK_IMPORTED_MODULE_1__.useId();\n    const shadowRootId = `child-shadow-${id}`;\n    const store = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"LoadExternalComponent.useMemo[store]\": ()=>COMPONENT_STORE.getBoundStore(shadowRootId)\n    }[\"LoadExternalComponent.useMemo[store]\"], [\n        shadowRootId\n    ]);\n    const state = react__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore(store.subscribe, store.getSnapshot);\n    const clientComponent = components?.[message.name];\n    const hasClientComponent = clientComponent != null;\n    let fallbackComponent = null;\n    if (isReactNode(fallback)) {\n        fallbackComponent = fallback;\n    } else if (typeof fallback === \"object\" && fallback != null) {\n        fallbackComponent = fallback?.[message.name];\n    }\n    const uiNamespace = namespace ?? stream.assistantId;\n    const uiClient = stream.client[\"~ui\"];\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"LoadExternalComponent.useEffect\": ()=>{\n            if (hasClientComponent) return;\n            void uiClient.getComponent(uiNamespace, message.name).then({\n                \"LoadExternalComponent.useEffect\": (html)=>{\n                    const dom = ref.current;\n                    if (!dom) return;\n                    const root = dom.shadowRoot ?? dom.attachShadow({\n                        mode: \"open\"\n                    });\n                    const fragment = document.createRange().createContextualFragment(html.replace(\"{{shadowRootId}}\", shadowRootId));\n                    root.appendChild(fragment);\n                }\n            }[\"LoadExternalComponent.useEffect\"]);\n        }\n    }[\"LoadExternalComponent.useEffect\"], [\n        uiClient,\n        uiNamespace,\n        message.name,\n        shadowRootId,\n        hasClientComponent\n    ]);\n    if (hasClientComponent) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UseStreamContext.Provider, {\n            value: {\n                stream,\n                meta\n            },\n            children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(clientComponent, message.props)\n        });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                id: shadowRootId,\n                ref: ref,\n                ...props\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UseStreamContext.Provider, {\n                value: {\n                    stream,\n                    meta\n                },\n                children: state?.target != null ? /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(state.comp, message.props), state.target) : fallbackComponent\n            })\n        ]\n    });\n}\nfunction experimental_loadShare(name, module) {\n    if (true) return;\n    window[REQUIRE_EXTRA_SYMBOL] ??= {};\n    window[REQUIRE_EXTRA_SYMBOL][name] = module;\n}\nfunction bootstrapUiContext() {\n    if (true) {\n        return;\n    }\n    window[EXT_STORE_SYMBOL] = COMPONENT_STORE;\n    window[REQUIRE_SYMBOL] = (name)=>{\n        if (name === \"react\") return /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_1__, 2)));\n        if (name === \"react-dom\") return /*#__PURE__*/ (react_dom__WEBPACK_IMPORTED_MODULE_2___namespace_cache || (react_dom__WEBPACK_IMPORTED_MODULE_2___namespace_cache = __webpack_require__.t(react_dom__WEBPACK_IMPORTED_MODULE_2__, 2)));\n        if (name === \"react/jsx-runtime\") return /*#__PURE__*/ (react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__, 2)));\n        if (name === \"@langchain/langgraph-sdk/react\") return {\n            useStream: _react_index_js__WEBPACK_IMPORTED_MODULE_3__.useStream\n        };\n        if (name === \"@langchain/langgraph-sdk/react-ui\") {\n            return {\n                useStreamContext,\n                LoadExternalComponent: ()=>{\n                    throw new Error(\"Nesting LoadExternalComponent is not supported\");\n                }\n            };\n        }\n        if (window[REQUIRE_EXTRA_SYMBOL] != null && typeof window[REQUIRE_EXTRA_SYMBOL] === \"object\" && name in window[REQUIRE_EXTRA_SYMBOL]) {\n            return window[REQUIRE_EXTRA_SYMBOL][name];\n        }\n        throw new Error(`Unknown module...: ${name}`);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC11aS9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7c0lBQ3NGO0FBQ3ZEO0FBQ087QUFDVTtBQUNGO0FBQzlDLE1BQU1VLGlDQUFtQkosZ0RBQW1CLENBQUM7QUFDdEMsU0FBU007SUFDWixNQUFNQyxNQUFNUCw2Q0FBZ0IsQ0FBQ0k7SUFDN0IsSUFBSSxDQUFDRyxLQUFLO1FBQ04sTUFBTSxJQUFJRSxNQUFNO0lBQ3BCO0lBQ0EsT0FBTyxJQUFJQyxNQUFNSCxLQUFLO1FBQ2xCSSxLQUFJQyxNQUFNLEVBQUVDLElBQUk7WUFDWixJQUFJQSxTQUFTLFFBQ1QsT0FBT0QsT0FBT0UsSUFBSTtZQUN0QixPQUFPRixPQUFPRyxNQUFNLENBQUNGLEtBQUs7UUFDOUI7SUFDSjtBQUNKO0FBQ0EsTUFBTUc7SUFDRkMsYUFBYztRQUNWQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFNBQVM7WUFDakNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sQ0FBQztRQUNaO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsY0FBYztZQUN0Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxDQUFDO1FBQ1o7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxhQUFhO1lBQ3JDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLENBQUM7UUFDWjtJQUNKO0lBQ0FDLFFBQVFDLFlBQVksRUFBRUMsSUFBSSxFQUFFQyxhQUFhLEVBQUU7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QUFxQixLQUFLLENBQUM7SUFDbENrRCxNQUFNLENBQUNsRCxxQkFBcUIsQ0FBQ3NCLEtBQUssR0FBRzJCO0FBQ3pDO0FBQ08sU0FBU0U7SUFDWixJQUFJLElBQTZCLEVBQUU7UUFDL0I7SUFDSjtJQUNBRCxNQUFNLENBQUN0RCxpQkFBaUIsR0FBR0Q7SUFDM0J1RCxNQUFNLENBQUNuRCxlQUFlLEdBQUcsQ0FBQ3VCO1FBQ3RCLElBQUlBLFNBQVMsU0FDVCxPQUFPbEUseUxBQUtBO1FBQ2hCLElBQUlrRSxTQUFTLGFBQ1QsT0FBT2pFLHFNQUFRQTtRQUNuQixJQUFJaUUsU0FBUyxxQkFDVCxPQUFPaEUsNk5BQVVBO1FBQ3JCLElBQUlnRSxTQUFTLGtDQUNULE9BQU87WUFBRS9ELFNBQVNBLHdEQUFBQTtRQUFDO1FBQ3ZCLElBQUkrRCxTQUFTLHFDQUFxQztZQUM5QyxPQUFPO2dCQUNINUQ7Z0JBQ0E2Qyx1QkFBdUI7b0JBQ25CLE1BQU0sSUFBSTFDLE1BQU07Z0JBQ3BCO1lBQ0o7UUFDSjtRQUNBLElBQUlxRixNQUFNLENBQUNsRCxxQkFBcUIsSUFBSSxRQUNoQyxPQUFPa0QsTUFBTSxDQUFDbEQscUJBQXFCLEtBQUssWUFDeENzQixRQUFRNEIsTUFBTSxDQUFDbEQscUJBQXFCLEVBQUU7WUFDdEMsT0FBT2tELE1BQU0sQ0FBQ2xELHFCQUFxQixDQUFDc0IsS0FBSztRQUM3QztRQUNBLE1BQU0sSUFBSXpELE1BQU0sQ0FBQyxtQkFBbUIsRUFBRXlELE1BQU07SUFDaEQ7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC11aS9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCAqIGFzIEpzeFJ1bnRpbWUgZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VTdHJlYW0gfSBmcm9tIFwiLi4vcmVhY3QvaW5kZXguanNcIjtcbmNvbnN0IFVzZVN0cmVhbUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0cmVhbUNvbnRleHQoKSB7XG4gICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChVc2VTdHJlYW1Db250ZXh0KTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VTdHJlYW1Db250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBMb2FkRXh0ZXJuYWxDb21wb25lbnRcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJveHkoY3R4LCB7XG4gICAgICAgIGdldCh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSBcIm1ldGFcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1ldGE7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnN0cmVhbVtwcm9wXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmNsYXNzIENvbXBvbmVudFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FjaGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJib3VuZENhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGJhY2tzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzcG9uZChzaGFkb3dSb290SWQsIGNvbXAsIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jYWNoZVtzaGFkb3dSb290SWRdID0geyBjb21wLCB0YXJnZXQ6IHRhcmdldEVsZW1lbnQgfTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Nbc2hhZG93Um9vdElkXT8uZm9yRWFjaCgoYykgPT4gYyhjb21wLCB0YXJnZXRFbGVtZW50KSk7XG4gICAgfVxuICAgIGdldEJvdW5kU3RvcmUoc2hhZG93Um9vdElkKSB7XG4gICAgICAgIHRoaXMuYm91bmRDYWNoZVtzaGFkb3dSb290SWRdID8/PSB7XG4gICAgICAgICAgICBzdWJzY3JpYmU6IChvblN0b3JlQ2hhbmdlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Nbc2hhZG93Um9vdElkXSA/Pz0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Nbc2hhZG93Um9vdElkXS5wdXNoKG9uU3RvcmVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW3NoYWRvd1Jvb3RJZF0gPSB0aGlzLmNhbGxiYWNrc1tzaGFkb3dSb290SWRdLmZpbHRlcigoYykgPT4gYyAhPT0gb25TdG9yZUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTbmFwc2hvdDogKCkgPT4gdGhpcy5jYWNoZVtzaGFkb3dSb290SWRdLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5ib3VuZENhY2hlW3NoYWRvd1Jvb3RJZF07XG4gICAgfVxufVxuY29uc3QgQ09NUE9ORU5UX1NUT1JFID0gbmV3IENvbXBvbmVudFN0b3JlKCk7XG5jb25zdCBFWFRfU1RPUkVfU1lNQk9MID0gU3ltYm9sLmZvcihcIkxHVUlfRVhUX1NUT1JFXCIpO1xuY29uc3QgUkVRVUlSRV9TWU1CT0wgPSBTeW1ib2wuZm9yKFwiTEdVSV9SRVFVSVJFXCIpO1xuY29uc3QgUkVRVUlSRV9FWFRSQV9TWU1CT0wgPSBTeW1ib2wuZm9yKFwiTEdVSV9SRVFVSVJFX0VYVFJBXCIpO1xuY29uc3QgaXNJdGVyYWJsZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIHZhbHVlO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgXCJ0aGVuXCIgaW4gdmFsdWUgJiZcbiAgICB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNSZWFjdE5vZGUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQodmFsdWUpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiIHx8XG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgZnVuY3Rpb24gTG9hZEV4dGVybmFsQ29tcG9uZW50KHsgc3RyZWFtLCBuYW1lc3BhY2UsIG1lc3NhZ2UsIG1ldGEsIGZhbGxiYWNrLCBjb21wb25lbnRzLCAuLi5wcm9wcyB9KSB7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlkID0gUmVhY3QudXNlSWQoKTtcbiAgICBjb25zdCBzaGFkb3dSb290SWQgPSBgY2hpbGQtc2hhZG93LSR7aWR9YDtcbiAgICBjb25zdCBzdG9yZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gQ09NUE9ORU5UX1NUT1JFLmdldEJvdW5kU3RvcmUoc2hhZG93Um9vdElkKSwgW3NoYWRvd1Jvb3RJZF0pO1xuICAgIGNvbnN0IHN0YXRlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoc3RvcmUuc3Vic2NyaWJlLCBzdG9yZS5nZXRTbmFwc2hvdCk7XG4gICAgY29uc3QgY2xpZW50Q29tcG9uZW50ID0gY29tcG9uZW50cz8uW21lc3NhZ2UubmFtZV07XG4gICAgY29uc3QgaGFzQ2xpZW50Q29tcG9uZW50ID0gY2xpZW50Q29tcG9uZW50ICE9IG51bGw7XG4gICAgbGV0IGZhbGxiYWNrQ29tcG9uZW50ID0gbnVsbDtcbiAgICBpZiAoaXNSZWFjdE5vZGUoZmFsbGJhY2spKSB7XG4gICAgICAgIGZhbGxiYWNrQ29tcG9uZW50ID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBmYWxsYmFjayA9PT0gXCJvYmplY3RcIiAmJiBmYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIGZhbGxiYWNrQ29tcG9uZW50ID0gZmFsbGJhY2s/LlttZXNzYWdlLm5hbWVdO1xuICAgIH1cbiAgICBjb25zdCB1aU5hbWVzcGFjZSA9IG5hbWVzcGFjZSA/PyBzdHJlYW0uYXNzaXN0YW50SWQ7XG4gICAgY29uc3QgdWlDbGllbnQgPSBzdHJlYW0uY2xpZW50W1wifnVpXCJdO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNDbGllbnRDb21wb25lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZvaWQgdWlDbGllbnQuZ2V0Q29tcG9uZW50KHVpTmFtZXNwYWNlLCBtZXNzYWdlLm5hbWUpLnRoZW4oKGh0bWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRvbSA9IHJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCFkb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IGRvbS5zaGFkb3dSb290ID8/IGRvbS5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAuY3JlYXRlUmFuZ2UoKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbC5yZXBsYWNlKFwie3tzaGFkb3dSb290SWR9fVwiLCBzaGFkb3dSb290SWQpKTtcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9LCBbdWlDbGllbnQsIHVpTmFtZXNwYWNlLCBtZXNzYWdlLm5hbWUsIHNoYWRvd1Jvb3RJZCwgaGFzQ2xpZW50Q29tcG9uZW50XSk7XG4gICAgaWYgKGhhc0NsaWVudENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gKF9qc3goVXNlU3RyZWFtQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBzdHJlYW0sIG1ldGEgfSwgY2hpbGRyZW46IFJlYWN0LmNyZWF0ZUVsZW1lbnQoY2xpZW50Q29tcG9uZW50LCBtZXNzYWdlLnByb3BzKSB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGlkOiBzaGFkb3dSb290SWQsIHJlZjogcmVmLCAuLi5wcm9wcyB9KSwgX2pzeChVc2VTdHJlYW1Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHN0cmVhbSwgbWV0YSB9LCBjaGlsZHJlbjogc3RhdGU/LnRhcmdldCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gUmVhY3RET00uY3JlYXRlUG9ydGFsKFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RhdGUuY29tcCwgbWVzc2FnZS5wcm9wcyksIHN0YXRlLnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxsYmFja0NvbXBvbmVudCB9KV0gfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnRhbF9sb2FkU2hhcmUobmFtZSwgbW9kdWxlKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybjtcbiAgICB3aW5kb3dbUkVRVUlSRV9FWFRSQV9TWU1CT0xdID8/PSB7fTtcbiAgICB3aW5kb3dbUkVRVUlSRV9FWFRSQV9TWU1CT0xdW25hbWVdID0gbW9kdWxlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJvb3RzdHJhcFVpQ29udGV4dCgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvd1tFWFRfU1RPUkVfU1lNQk9MXSA9IENPTVBPTkVOVF9TVE9SRTtcbiAgICB3aW5kb3dbUkVRVUlSRV9TWU1CT0xdID0gKG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwicmVhY3RcIilcbiAgICAgICAgICAgIHJldHVybiBSZWFjdDtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwicmVhY3QtZG9tXCIpXG4gICAgICAgICAgICByZXR1cm4gUmVhY3RET007XG4gICAgICAgIGlmIChuYW1lID09PSBcInJlYWN0L2pzeC1ydW50aW1lXCIpXG4gICAgICAgICAgICByZXR1cm4gSnN4UnVudGltZTtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrL3JlYWN0XCIpXG4gICAgICAgICAgICByZXR1cm4geyB1c2VTdHJlYW0gfTtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrL3JlYWN0LXVpXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlU3RyZWFtQ29udGV4dCxcbiAgICAgICAgICAgICAgICBMb2FkRXh0ZXJuYWxDb21wb25lbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmVzdGluZyBMb2FkRXh0ZXJuYWxDb21wb25lbnQgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93W1JFUVVJUkVfRVhUUkFfU1lNQk9MXSAhPSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93W1JFUVVJUkVfRVhUUkFfU1lNQk9MXSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgbmFtZSBpbiB3aW5kb3dbUkVRVUlSRV9FWFRSQV9TWU1CT0xdKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93W1JFUVVJUkVfRVhUUkFfU1lNQk9MXVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbW9kdWxlLi4uOiAke25hbWV9YCk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJqc3hzIiwiX2pzeHMiLCJSZWFjdCIsIlJlYWN0RE9NIiwiSnN4UnVudGltZSIsInVzZVN0cmVhbSIsIlVzZVN0cmVhbUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlU3RyZWFtQ29udGV4dCIsImN0eCIsInVzZUNvbnRleHQiLCJFcnJvciIsIlByb3h5IiwiZ2V0IiwidGFyZ2V0IiwicHJvcCIsIm1ldGEiLCJzdHJlYW0iLCJDb21wb25lbnRTdG9yZSIsImNvbnN0cnVjdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsInJlc3BvbmQiLCJzaGFkb3dSb290SWQiLCJjb21wIiwidGFyZ2V0RWxlbWVudCIsImNhY2hlIiwiY2FsbGJhY2tzIiwiZm9yRWFjaCIsImMiLCJnZXRCb3VuZFN0b3JlIiwiYm91bmRDYWNoZSIsInN1YnNjcmliZSIsIm9uU3RvcmVDaGFuZ2UiLCJwdXNoIiwiZmlsdGVyIiwiZ2V0U25hcHNob3QiLCJDT01QT05FTlRfU1RPUkUiLCJFWFRfU1RPUkVfU1lNQk9MIiwiU3ltYm9sIiwiZm9yIiwiUkVRVUlSRV9TWU1CT0wiLCJSRVFVSVJFX0VYVFJBX1NZTUJPTCIsImlzSXRlcmFibGUiLCJpdGVyYXRvciIsImlzUHJvbWlzZSIsInRoZW4iLCJpc1JlYWN0Tm9kZSIsImlzVmFsaWRFbGVtZW50IiwiTG9hZEV4dGVybmFsQ29tcG9uZW50IiwibmFtZXNwYWNlIiwibWVzc2FnZSIsImZhbGxiYWNrIiwiY29tcG9uZW50cyIsInByb3BzIiwicmVmIiwidXNlUmVmIiwiaWQiLCJ1c2VJZCIsInN0b3JlIiwidXNlTWVtbyIsInN0YXRlIiwidXNlU3luY0V4dGVybmFsU3RvcmUiLCJjbGllbnRDb21wb25lbnQiLCJuYW1lIiwiaGFzQ2xpZW50Q29tcG9uZW50IiwiZmFsbGJhY2tDb21wb25lbnQiLCJ1aU5hbWVzcGFjZSIsImFzc2lzdGFudElkIiwidWlDbGllbnQiLCJjbGllbnQiLCJ1c2VFZmZlY3QiLCJnZXRDb21wb25lbnQiLCJodG1sIiwiZG9tIiwiY3VycmVudCIsInJvb3QiLCJzaGFkb3dSb290IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImZyYWdtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCIsInJlcGxhY2UiLCJhcHBlbmRDaGlsZCIsIlByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlUG9ydGFsIiwiZXhwZXJpbWVudGFsX2xvYWRTaGFyZSIsIm1vZHVsZSIsIndpbmRvdyIsImJvb3RzdHJhcFVpQ29udGV4dCJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/index.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/index.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LoadExternalComponent: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.LoadExternalComponent),\n/* harmony export */   experimental_loadShare: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.experimental_loadShare),\n/* harmony export */   isRemoveUIMessage: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_1__.isRemoveUIMessage),\n/* harmony export */   isUIMessage: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_1__.isUIMessage),\n/* harmony export */   uiMessageReducer: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_1__.uiMessageReducer),\n/* harmony export */   useStreamContext: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_0__.useStreamContext)\n/* harmony export */ });\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/client.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/types.js\");\n\n(0,_client_js__WEBPACK_IMPORTED_MODULE_0__.bootstrapUiContext)();\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC11aS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFpRDtBQUNqRCw4REFBa0I7QUFDNkU7QUFDaEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ieXRlZGFuY2UvUHljaGFybVByb2plY3RzL215X2Jlc3QvbGFuZ2dyYXBoX3RlYWNoL2FnZW50X2NoYXRfdWkvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoLXNka0AwLjEuMF9AbGFuZ2NoYWluK2NvcmVAMC4zLjU2X29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RAMy4yNC40X19fcl9nNXZhYXl4N3NpNjUzaGxsZHVoZmQ1YmF2bS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrL2Rpc3QvcmVhY3QtdWkvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9vdHN0cmFwVWlDb250ZXh0IH0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG5ib290c3RyYXBVaUNvbnRleHQoKTtcbmV4cG9ydCB7IHVzZVN0cmVhbUNvbnRleHQsIExvYWRFeHRlcm5hbENvbXBvbmVudCwgZXhwZXJpbWVudGFsX2xvYWRTaGFyZSwgfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmV4cG9ydCB7IHVpTWVzc2FnZVJlZHVjZXIsIGlzVUlNZXNzYWdlLCBpc1JlbW92ZVVJTWVzc2FnZSwgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/types.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/types.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRemoveUIMessage: () => (/* binding */ isRemoveUIMessage),\n/* harmony export */   isUIMessage: () => (/* binding */ isUIMessage),\n/* harmony export */   uiMessageReducer: () => (/* binding */ uiMessageReducer)\n/* harmony export */ });\nfunction isUIMessage(message) {\n    if (typeof message !== \"object\" || message == null)\n        return false;\n    if (!(\"type\" in message))\n        return false;\n    return message.type === \"ui\";\n}\nfunction isRemoveUIMessage(message) {\n    if (typeof message !== \"object\" || message == null)\n        return false;\n    if (!(\"type\" in message))\n        return false;\n    return message.type === \"remove-ui\";\n}\nfunction uiMessageReducer(state, update) {\n    const events = Array.isArray(update) ? update : [update];\n    let newState = state.slice();\n    for (const event of events) {\n        if (event.type === \"remove-ui\") {\n            newState = newState.filter((ui) => ui.id !== event.id);\n            continue;\n        }\n        const index = state.findIndex((ui) => ui.id === event.id);\n        if (index !== -1) {\n            newState[index] =\n                typeof event.metadata === \"object\" &&\n                    event.metadata != null &&\n                    event.metadata.merge\n                    ? { ...event, props: { ...state[index].props, ...event.props } }\n                    : event;\n        }\n        else {\n            newState.push(event);\n        }\n    }\n    return newState;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC11aS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC11aS90eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNVSU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlID09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIShcInR5cGVcIiBpbiBtZXNzYWdlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlLnR5cGUgPT09IFwidWlcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlbW92ZVVJTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghKFwidHlwZVwiIGluIG1lc3NhZ2UpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2UudHlwZSA9PT0gXCJyZW1vdmUtdWlcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aU1lc3NhZ2VSZWR1Y2VyKHN0YXRlLCB1cGRhdGUpIHtcbiAgICBjb25zdCBldmVudHMgPSBBcnJheS5pc0FycmF5KHVwZGF0ZSkgPyB1cGRhdGUgOiBbdXBkYXRlXTtcbiAgICBsZXQgbmV3U3RhdGUgPSBzdGF0ZS5zbGljZSgpO1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcInJlbW92ZS11aVwiKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlLmZpbHRlcigodWkpID0+IHVpLmlkICE9PSBldmVudC5pZCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRlLmZpbmRJbmRleCgodWkpID0+IHVpLmlkID09PSBldmVudC5pZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlW2luZGV4XSA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50Lm1ldGFkYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm1ldGFkYXRhICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQubWV0YWRhdGEubWVyZ2VcbiAgICAgICAgICAgICAgICAgICAgPyB7IC4uLmV2ZW50LCBwcm9wczogeyAuLi5zdGF0ZVtpbmRleF0ucHJvcHMsIC4uLmV2ZW50LnByb3BzIH0gfVxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3U3RhdGUucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/branching.js":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/branching.js ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBranchContext: () => (/* binding */ getBranchContext),\n/* harmony export */   getBranchSequence: () => (/* binding */ getBranchSequence),\n/* harmony export */   getBranchView: () => (/* binding */ getBranchView)\n/* harmony export */ });\nfunction getBranchSequence(history) {\n    const nodeIds = new Set();\n    const childrenMap = {};\n    // Short circuit if there's only a singular one state\n    if (history.length <= 1) {\n        return {\n            rootSequence: {\n                type: \"sequence\",\n                items: history.map((value) => ({ type: \"node\", value, path: [] })),\n            },\n            paths: [],\n        };\n    }\n    // First pass - collect nodes for each checkpoint\n    history.forEach((state) => {\n        const checkpointId = state.parent_checkpoint?.checkpoint_id ?? \"$\";\n        childrenMap[checkpointId] ??= [];\n        childrenMap[checkpointId].push(state);\n        if (state.checkpoint?.checkpoint_id != null) {\n            nodeIds.add(state.checkpoint.checkpoint_id);\n        }\n    });\n    // If dealing with partial history, take the branch\n    // with the latest checkpoint and mark it as the root.\n    const maxId = (...ids) => ids\n        .filter((i) => i != null)\n        .sort((a, b) => a.localeCompare(b))\n        .at(-1);\n    const lastOrphanedNode = childrenMap.$ == null\n        ? Object.keys(childrenMap)\n            .filter((parentId) => !nodeIds.has(parentId))\n            .map((parentId) => {\n            const queue = [parentId];\n            const seen = new Set();\n            let lastId = parentId;\n            while (queue.length > 0) {\n                const current = queue.shift();\n                if (seen.has(current))\n                    continue;\n                seen.add(current);\n                const children = (childrenMap[current] ?? []).flatMap((i) => i.checkpoint?.checkpoint_id ?? []);\n                lastId = maxId(lastId, ...children);\n                queue.push(...children);\n            }\n            return { parentId, lastId };\n        })\n            .sort((a, b) => a.lastId.localeCompare(b.lastId))\n            .at(-1)?.parentId\n        : undefined;\n    if (lastOrphanedNode != null)\n        childrenMap.$ = childrenMap[lastOrphanedNode];\n    const rootSequence = { type: \"sequence\", items: [] };\n    const queue = [{ id: \"$\", sequence: rootSequence, path: [] }];\n    const paths = [];\n    const visited = new Set();\n    while (queue.length > 0) {\n        const task = queue.shift();\n        if (visited.has(task.id))\n            continue;\n        visited.add(task.id);\n        const children = childrenMap[task.id];\n        if (children == null || children.length === 0)\n            continue;\n        // If we've encountered a fork (2+ children), push the fork\n        // to the sequence and add a new sequence for each child\n        let fork;\n        if (children.length > 1) {\n            fork = { type: \"fork\", items: [] };\n            task.sequence.items.push(fork);\n        }\n        for (const value of children) {\n            const id = value.checkpoint?.checkpoint_id;\n            if (id == null)\n                continue;\n            let { sequence } = task;\n            let { path } = task;\n            if (fork != null) {\n                sequence = { type: \"sequence\", items: [] };\n                fork.items.unshift(sequence);\n                path = path.slice();\n                path.push(id);\n                paths.push(path);\n            }\n            sequence.items.push({ type: \"node\", value, path });\n            queue.push({ id, sequence, path });\n        }\n    }\n    return { rootSequence, paths };\n}\nconst PATH_SEP = \">\";\nconst ROOT_ID = \"$\";\n// Get flat view\nfunction getBranchView(sequence, paths, branch) {\n    const path = branch.split(PATH_SEP);\n    const pathMap = {};\n    for (const path of paths) {\n        const parent = path.at(-2) ?? ROOT_ID;\n        pathMap[parent] ??= [];\n        pathMap[parent].unshift(path);\n    }\n    const history = [];\n    const branchByCheckpoint = {};\n    const forkStack = path.slice();\n    const queue = [...sequence.items];\n    while (queue.length > 0) {\n        const item = queue.shift();\n        if (item.type === \"node\") {\n            history.push(item.value);\n            const checkpointId = item.value.checkpoint?.checkpoint_id;\n            if (checkpointId == null)\n                continue;\n            branchByCheckpoint[checkpointId] = {\n                branch: item.path.join(PATH_SEP),\n                branchOptions: (item.path.length > 0\n                    ? pathMap[item.path.at(-2) ?? ROOT_ID] ?? []\n                    : []).map((p) => p.join(PATH_SEP)),\n            };\n        }\n        if (item.type === \"fork\") {\n            const forkId = forkStack.shift();\n            const index = forkId != null\n                ? item.items.findIndex((value) => {\n                    const firstItem = value.items.at(0);\n                    if (!firstItem || firstItem.type !== \"node\")\n                        return false;\n                    return firstItem.value.checkpoint?.checkpoint_id === forkId;\n                })\n                : -1;\n            const nextItems = item.items.at(index)?.items ?? [];\n            queue.push(...nextItems);\n        }\n    }\n    return { history, branchByCheckpoint };\n}\nfunction getBranchContext(branch, history) {\n    const { rootSequence: branchTree, paths } = getBranchSequence(history ?? []);\n    const { history: flatHistory, branchByCheckpoint } = getBranchView(branchTree, paths, branch);\n    return {\n        branchTree,\n        flatHistory,\n        branchByCheckpoint,\n        threadHead: flatHistory.at(-1),\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9icmFuY2hpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwrQkFBK0I7QUFDaEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IscUJBQXFCLDJDQUEyQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixXQUFXO0FBQzdCLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkJBQTJCO0FBQzdELHlCQUF5QixvQkFBb0I7QUFDN0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDTztBQUNQLFlBQVksa0NBQWtDO0FBQzlDLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYnl0ZWRhbmNlL1B5Y2hhcm1Qcm9qZWN0cy9teV9iZXN0L2xhbmdncmFwaF90ZWFjaC9hZ2VudF9jaGF0X3VpL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaC1zZGtAMC4xLjBfQGxhbmdjaGFpbitjb3JlQDAuMy41Nl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDMuMjQuNF9fX3JfZzV2YWF5eDdzaTY1M2hsbGR1aGZkNWJhdm0vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoLXNkay9kaXN0L3JlYWN0L2JyYW5jaGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0QnJhbmNoU2VxdWVuY2UoaGlzdG9yeSkge1xuICAgIGNvbnN0IG5vZGVJZHMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgY2hpbGRyZW5NYXAgPSB7fTtcbiAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIHRoZXJlJ3Mgb25seSBhIHNpbmd1bGFyIG9uZSBzdGF0ZVxuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb290U2VxdWVuY2U6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNlcXVlbmNlXCIsXG4gICAgICAgICAgICAgICAgaXRlbXM6IGhpc3RvcnkubWFwKCh2YWx1ZSkgPT4gKHsgdHlwZTogXCJub2RlXCIsIHZhbHVlLCBwYXRoOiBbXSB9KSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBGaXJzdCBwYXNzIC0gY29sbGVjdCBub2RlcyBmb3IgZWFjaCBjaGVja3BvaW50XG4gICAgaGlzdG9yeS5mb3JFYWNoKChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja3BvaW50SWQgPSBzdGF0ZS5wYXJlbnRfY2hlY2twb2ludD8uY2hlY2twb2ludF9pZCA/PyBcIiRcIjtcbiAgICAgICAgY2hpbGRyZW5NYXBbY2hlY2twb2ludElkXSA/Pz0gW107XG4gICAgICAgIGNoaWxkcmVuTWFwW2NoZWNrcG9pbnRJZF0ucHVzaChzdGF0ZSk7XG4gICAgICAgIGlmIChzdGF0ZS5jaGVja3BvaW50Py5jaGVja3BvaW50X2lkICE9IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGVJZHMuYWRkKHN0YXRlLmNoZWNrcG9pbnQuY2hlY2twb2ludF9pZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggcGFydGlhbCBoaXN0b3J5LCB0YWtlIHRoZSBicmFuY2hcbiAgICAvLyB3aXRoIHRoZSBsYXRlc3QgY2hlY2twb2ludCBhbmQgbWFyayBpdCBhcyB0aGUgcm9vdC5cbiAgICBjb25zdCBtYXhJZCA9ICguLi5pZHMpID0+IGlkc1xuICAgICAgICAuZmlsdGVyKChpKSA9PiBpICE9IG51bGwpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpXG4gICAgICAgIC5hdCgtMSk7XG4gICAgY29uc3QgbGFzdE9ycGhhbmVkTm9kZSA9IGNoaWxkcmVuTWFwLiQgPT0gbnVsbFxuICAgICAgICA/IE9iamVjdC5rZXlzKGNoaWxkcmVuTWFwKVxuICAgICAgICAgICAgLmZpbHRlcigocGFyZW50SWQpID0+ICFub2RlSWRzLmhhcyhwYXJlbnRJZCkpXG4gICAgICAgICAgICAubWFwKChwYXJlbnRJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBbcGFyZW50SWRdO1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGxldCBsYXN0SWQgPSBwYXJlbnRJZDtcbiAgICAgICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBzZWVuLmFkZChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IChjaGlsZHJlbk1hcFtjdXJyZW50XSA/PyBbXSkuZmxhdE1hcCgoaSkgPT4gaS5jaGVja3BvaW50Py5jaGVja3BvaW50X2lkID8/IFtdKTtcbiAgICAgICAgICAgICAgICBsYXN0SWQgPSBtYXhJZChsYXN0SWQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKC4uLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHBhcmVudElkLCBsYXN0SWQgfTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxhc3RJZC5sb2NhbGVDb21wYXJlKGIubGFzdElkKSlcbiAgICAgICAgICAgIC5hdCgtMSk/LnBhcmVudElkXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChsYXN0T3JwaGFuZWROb2RlICE9IG51bGwpXG4gICAgICAgIGNoaWxkcmVuTWFwLiQgPSBjaGlsZHJlbk1hcFtsYXN0T3JwaGFuZWROb2RlXTtcbiAgICBjb25zdCByb290U2VxdWVuY2UgPSB7IHR5cGU6IFwic2VxdWVuY2VcIiwgaXRlbXM6IFtdIH07XG4gICAgY29uc3QgcXVldWUgPSBbeyBpZDogXCIkXCIsIHNlcXVlbmNlOiByb290U2VxdWVuY2UsIHBhdGg6IFtdIH1dO1xuICAgIGNvbnN0IHBhdGhzID0gW107XG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB0YXNrID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKHZpc2l0ZWQuaGFzKHRhc2suaWQpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZpc2l0ZWQuYWRkKHRhc2suaWQpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGNoaWxkcmVuTWFwW3Rhc2suaWRdO1xuICAgICAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gSWYgd2UndmUgZW5jb3VudGVyZWQgYSBmb3JrICgyKyBjaGlsZHJlbiksIHB1c2ggdGhlIGZvcmtcbiAgICAgICAgLy8gdG8gdGhlIHNlcXVlbmNlIGFuZCBhZGQgYSBuZXcgc2VxdWVuY2UgZm9yIGVhY2ggY2hpbGRcbiAgICAgICAgbGV0IGZvcms7XG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3JrID0geyB0eXBlOiBcImZvcmtcIiwgaXRlbXM6IFtdIH07XG4gICAgICAgICAgICB0YXNrLnNlcXVlbmNlLml0ZW1zLnB1c2goZm9yayk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB2YWx1ZS5jaGVja3BvaW50Py5jaGVja3BvaW50X2lkO1xuICAgICAgICAgICAgaWYgKGlkID09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgeyBzZXF1ZW5jZSB9ID0gdGFzaztcbiAgICAgICAgICAgIGxldCB7IHBhdGggfSA9IHRhc2s7XG4gICAgICAgICAgICBpZiAoZm9yayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2UgPSB7IHR5cGU6IFwic2VxdWVuY2VcIiwgaXRlbXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZm9yay5pdGVtcy51bnNoaWZ0KHNlcXVlbmNlKTtcbiAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgcGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlcXVlbmNlLml0ZW1zLnB1c2goeyB0eXBlOiBcIm5vZGVcIiwgdmFsdWUsIHBhdGggfSk7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHsgaWQsIHNlcXVlbmNlLCBwYXRoIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHJvb3RTZXF1ZW5jZSwgcGF0aHMgfTtcbn1cbmNvbnN0IFBBVEhfU0VQID0gXCI+XCI7XG5jb25zdCBST09UX0lEID0gXCIkXCI7XG4vLyBHZXQgZmxhdCB2aWV3XG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJhbmNoVmlldyhzZXF1ZW5jZSwgcGF0aHMsIGJyYW5jaCkge1xuICAgIGNvbnN0IHBhdGggPSBicmFuY2guc3BsaXQoUEFUSF9TRVApO1xuICAgIGNvbnN0IHBhdGhNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aHMpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGF0aC5hdCgtMikgPz8gUk9PVF9JRDtcbiAgICAgICAgcGF0aE1hcFtwYXJlbnRdID8/PSBbXTtcbiAgICAgICAgcGF0aE1hcFtwYXJlbnRdLnVuc2hpZnQocGF0aCk7XG4gICAgfVxuICAgIGNvbnN0IGhpc3RvcnkgPSBbXTtcbiAgICBjb25zdCBicmFuY2hCeUNoZWNrcG9pbnQgPSB7fTtcbiAgICBjb25zdCBmb3JrU3RhY2sgPSBwYXRoLnNsaWNlKCk7XG4gICAgY29uc3QgcXVldWUgPSBbLi4uc2VxdWVuY2UuaXRlbXNdO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSBcIm5vZGVcIikge1xuICAgICAgICAgICAgaGlzdG9yeS5wdXNoKGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2twb2ludElkID0gaXRlbS52YWx1ZS5jaGVja3BvaW50Py5jaGVja3BvaW50X2lkO1xuICAgICAgICAgICAgaWYgKGNoZWNrcG9pbnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgYnJhbmNoQnlDaGVja3BvaW50W2NoZWNrcG9pbnRJZF0gPSB7XG4gICAgICAgICAgICAgICAgYnJhbmNoOiBpdGVtLnBhdGguam9pbihQQVRIX1NFUCksXG4gICAgICAgICAgICAgICAgYnJhbmNoT3B0aW9uczogKGl0ZW0ucGF0aC5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gcGF0aE1hcFtpdGVtLnBhdGguYXQoLTIpID8/IFJPT1RfSURdID8/IFtdXG4gICAgICAgICAgICAgICAgICAgIDogW10pLm1hcCgocCkgPT4gcC5qb2luKFBBVEhfU0VQKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwiZm9ya1wiKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JrSWQgPSBmb3JrU3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZm9ya0lkICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IGl0ZW0uaXRlbXMuZmluZEluZGV4KCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSB2YWx1ZS5pdGVtcy5hdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdEl0ZW0gfHwgZmlyc3RJdGVtLnR5cGUgIT09IFwibm9kZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RJdGVtLnZhbHVlLmNoZWNrcG9pbnQ/LmNoZWNrcG9pbnRfaWQgPT09IGZvcmtJZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogLTE7XG4gICAgICAgICAgICBjb25zdCBuZXh0SXRlbXMgPSBpdGVtLml0ZW1zLmF0KGluZGV4KT8uaXRlbXMgPz8gW107XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKC4uLm5leHRJdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgaGlzdG9yeSwgYnJhbmNoQnlDaGVja3BvaW50IH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJhbmNoQ29udGV4dChicmFuY2gsIGhpc3RvcnkpIHtcbiAgICBjb25zdCB7IHJvb3RTZXF1ZW5jZTogYnJhbmNoVHJlZSwgcGF0aHMgfSA9IGdldEJyYW5jaFNlcXVlbmNlKGhpc3RvcnkgPz8gW10pO1xuICAgIGNvbnN0IHsgaGlzdG9yeTogZmxhdEhpc3RvcnksIGJyYW5jaEJ5Q2hlY2twb2ludCB9ID0gZ2V0QnJhbmNoVmlldyhicmFuY2hUcmVlLCBwYXRocywgYnJhbmNoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBicmFuY2hUcmVlLFxuICAgICAgICBmbGF0SGlzdG9yeSxcbiAgICAgICAgYnJhbmNoQnlDaGVja3BvaW50LFxuICAgICAgICB0aHJlYWRIZWFkOiBmbGF0SGlzdG9yeS5hdCgtMSksXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/branching.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/errors.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/errors.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamError: () => (/* binding */ StreamError)\n/* harmony export */ });\nclass StreamError extends Error {\n    constructor(data) {\n        super(data.message);\n        this.name = data.name ?? data.error ?? \"StreamError\";\n    }\n    static isStructuredError(error) {\n        return typeof error === \"object\" && error != null && \"message\" in error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9lcnJvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFN0cmVhbUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lID8/IGRhdGEuZXJyb3IgPz8gXCJTdHJlYW1FcnJvclwiO1xuICAgIH1cbiAgICBzdGF0aWMgaXNTdHJ1Y3R1cmVkRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBlcnJvciAhPSBudWxsICYmIFwibWVzc2FnZVwiIGluIGVycm9yO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/index.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/index.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStream: () => (/* reexport safe */ _stream_js__WEBPACK_IMPORTED_MODULE_0__.useStream)\n/* harmony export */ });\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/stream.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QyIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyB1c2VTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW0uanNcIjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/manager.js":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/manager.js ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamManager: () => (/* binding */ StreamManager)\n/* harmony export */ });\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/messages.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/errors.js\");\n\n\nclass StreamManager {\n    constructor(messages) {\n        Object.defineProperty(this, \"abortRef\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new AbortController()\n        });\n        Object.defineProperty(this, \"messages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"listeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Set()\n        });\n        Object.defineProperty(this, \"state\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"setState\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (newState) => {\n                this.state = { ...this.state, ...newState };\n                this.notifyListeners();\n            }\n        });\n        Object.defineProperty(this, \"notifyListeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => {\n                this.listeners.forEach((listener) => listener());\n            }\n        });\n        Object.defineProperty(this, \"subscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (listener) => {\n                this.listeners.add(listener);\n                return () => this.listeners.delete(listener);\n            }\n        });\n        Object.defineProperty(this, \"getSnapshot\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => this.state\n        });\n        Object.defineProperty(this, \"setStreamValues\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (values, kind = \"stream\") => {\n                if (typeof values === \"function\") {\n                    const [prevValues, prevKind] = this.state.values ?? [null, \"stream\"];\n                    const nextValues = values(prevValues, prevKind);\n                    this.setState({ values: nextValues != null ? [nextValues, kind] : null });\n                }\n                else {\n                    const nextValues = values != null ? [values, kind] : null;\n                    this.setState({ values: nextValues });\n                }\n            }\n        });\n        Object.defineProperty(this, \"getMutateFn\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (kind, historyValues) => {\n                return (update) => {\n                    const prev = { ...historyValues, ...this.state.values };\n                    const next = typeof update === \"function\" ? update(prev) : update;\n                    this.setStreamValues({ ...prev, ...next }, kind);\n                };\n            }\n        });\n        Object.defineProperty(this, \"matchEventType\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: (expected, actual, _data) => {\n                return expected === actual || actual.startsWith(`${expected}|`);\n            }\n        });\n        Object.defineProperty(this, \"start\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: async (action, options) => {\n                if (this.state.isLoading)\n                    return;\n                try {\n                    this.setState({ isLoading: true, error: undefined });\n                    this.abortRef = new AbortController();\n                    const run = await action(this.abortRef.signal);\n                    let streamError;\n                    for await (const { event, data } of run) {\n                        if (event === \"error\") {\n                            streamError = new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StreamError(data);\n                            break;\n                        }\n                        const namespace = event.includes(\"|\")\n                            ? event.split(\"|\").slice(1)\n                            : undefined;\n                        const mutate = this.getMutateFn(\"stream\", options.initialValues);\n                        if (event === \"metadata\")\n                            options.callbacks.onMetadataEvent?.(data);\n                        if (event === \"events\")\n                            options.callbacks.onLangChainEvent?.(data);\n                        if (this.matchEventType(\"updates\", event, data)) {\n                            options.callbacks.onUpdateEvent?.(data, { namespace, mutate });\n                        }\n                        if (this.matchEventType(\"custom\", event, data)) {\n                            options.callbacks.onCustomEvent?.(data, { namespace, mutate });\n                        }\n                        if (this.matchEventType(\"checkpoints\", event, data)) {\n                            options.callbacks.onCheckpointEvent?.(data, { namespace });\n                        }\n                        if (this.matchEventType(\"tasks\", event, data)) {\n                            options.callbacks.onTaskEvent?.(data, { namespace });\n                        }\n                        if (this.matchEventType(\"debug\", event, data)) {\n                            options.callbacks.onDebugEvent?.(data, { namespace });\n                        }\n                        if (event === \"values\") {\n                            // don't update values on interrupt values event\n                            if (\"__interrupt__\" in data)\n                                continue;\n                            this.setStreamValues(data);\n                        }\n                        if (this.matchEventType(\"messages\", event, data)) {\n                            const [serialized, metadata] = data;\n                            const messageId = this.messages.add(serialized, metadata);\n                            if (!messageId) {\n                                console.warn(\"Failed to add message to manager, no message ID found\");\n                                continue;\n                            }\n                            this.setStreamValues((streamValues) => {\n                                const values = { ...options.initialValues, ...streamValues };\n                                // Assumption: we're concatenating the message\n                                const messages = options.getMessages(values).slice();\n                                const { chunk, index } = this.messages.get(messageId, messages.length) ?? {};\n                                if (!chunk || index == null)\n                                    return values;\n                                messages[index] = (0,_messages_js__WEBPACK_IMPORTED_MODULE_0__.toMessageDict)(chunk);\n                                return options.setMessages(values, messages);\n                            });\n                        }\n                    }\n                    if (streamError != null)\n                        throw streamError;\n                    const values = await options.onSuccess?.();\n                    if (typeof values !== \"undefined\")\n                        this.setStreamValues(values);\n                }\n                catch (error) {\n                    if (!(error instanceof Error && // eslint-disable-line no-instanceof/no-instanceof\n                        (error.name === \"AbortError\" || error.name === \"TimeoutError\"))) {\n                        console.error(error);\n                        this.setState({ error });\n                        await options.onError?.(error);\n                    }\n                }\n                finally {\n                    this.setState({ isLoading: false });\n                    this.abortRef = new AbortController();\n                }\n            }\n        });\n        Object.defineProperty(this, \"stop\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: async (historyValues, options) => {\n                if (this.abortRef) {\n                    this.abortRef.abort();\n                    this.abortRef = new AbortController();\n                }\n                options.onStop?.({ mutate: this.getMutateFn(\"stop\", historyValues) });\n            }\n        });\n        Object.defineProperty(this, \"clear\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: () => {\n                this.setState({ error: undefined, values: null });\n                this.messages.clear();\n            }\n        });\n        this.messages = messages;\n        this.state = { isLoading: false, values: null, error: undefined };\n    }\n    get isLoading() {\n        return this.state.isLoading;\n    }\n    get values() {\n        return this.state.values?.[0] ?? null;\n    }\n    get error() {\n        return this.state.error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUNKO0FBQ25DO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3REFBd0Q7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLDJDQUEyQyxrQkFBa0I7QUFDN0Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFNBQVM7QUFDNUU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtQ0FBbUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGNBQWM7QUFDckQ7QUFDQSw4Q0FBOEMsbURBQVc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxtQkFBbUI7QUFDekY7QUFDQTtBQUNBLHNFQUFzRSxtQkFBbUI7QUFDekY7QUFDQTtBQUNBLDBFQUEwRSxXQUFXO0FBQ3JGO0FBQ0E7QUFDQSxvRUFBb0UsV0FBVztBQUMvRTtBQUNBO0FBQ0EscUVBQXFFLFdBQVc7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0Esa0RBQWtELDJEQUFhO0FBQy9EO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxPQUFPO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlEQUFpRDtBQUNwRjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdDQUFnQztBQUNoRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ieXRlZGFuY2UvUHljaGFybVByb2plY3RzL215X2Jlc3QvbGFuZ2dyYXBoX3RlYWNoL2FnZW50X2NoYXRfdWkvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoLXNka0AwLjEuMF9AbGFuZ2NoYWluK2NvcmVAMC4zLjU2X29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RAMy4yNC40X19fcl9nNXZhYXl4N3NpNjUzaGxsZHVoZmQ1YmF2bS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrL2Rpc3QvcmVhY3QvbWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b01lc3NhZ2VEaWN0IH0gZnJvbSBcIi4vbWVzc2FnZXMuanNcIjtcbmltcG9ydCB7IFN0cmVhbUVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgY2xhc3MgU3RyZWFtTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZXMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWJvcnRSZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGlzdGVuZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldFN0YXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAobmV3U3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJub3RpZnlMaXN0ZW5lcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWJzY3JpYmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRTbmFwc2hvdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4gdGhpcy5zdGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0U3RyZWFtVmFsdWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAodmFsdWVzLCBraW5kID0gXCJzdHJlYW1cIikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3ByZXZWYWx1ZXMsIHByZXZLaW5kXSA9IHRoaXMuc3RhdGUudmFsdWVzID8/IFtudWxsLCBcInN0cmVhbVwiXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFZhbHVlcyA9IHZhbHVlcyhwcmV2VmFsdWVzLCBwcmV2S2luZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZXM6IG5leHRWYWx1ZXMgIT0gbnVsbCA/IFtuZXh0VmFsdWVzLCBraW5kXSA6IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VmFsdWVzID0gdmFsdWVzICE9IG51bGwgPyBbdmFsdWVzLCBraW5kXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZXM6IG5leHRWYWx1ZXMgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0TXV0YXRlRm5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IChraW5kLCBoaXN0b3J5VmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh1cGRhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHsgLi4uaGlzdG9yeVZhbHVlcywgLi4udGhpcy5zdGF0ZS52YWx1ZXMgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHR5cGVvZiB1cGRhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHVwZGF0ZShwcmV2KSA6IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJlYW1WYWx1ZXMoeyAuLi5wcmV2LCAuLi5uZXh0IH0sIGtpbmQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXRjaEV2ZW50VHlwZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogKGV4cGVjdGVkLCBhY3R1YWwsIF9kYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkID09PSBhY3R1YWwgfHwgYWN0dWFsLnN0YXJ0c1dpdGgoYCR7ZXhwZWN0ZWR9fGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGFzeW5jIChhY3Rpb24sIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlLCBlcnJvcjogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0UmVmID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBydW4gPSBhd2FpdCBhY3Rpb24odGhpcy5hYm9ydFJlZi5zaWduYWwpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RyZWFtRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgeyBldmVudCwgZGF0YSB9IG9mIHJ1bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1FcnJvciA9IG5ldyBTdHJlYW1FcnJvcihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGV2ZW50LmluY2x1ZGVzKFwifFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXZlbnQuc3BsaXQoXCJ8XCIpLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtdXRhdGUgPSB0aGlzLmdldE11dGF0ZUZuKFwic3RyZWFtXCIsIG9wdGlvbnMuaW5pdGlhbFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IFwibWV0YWRhdGFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrcy5vbk1ldGFkYXRhRXZlbnQ/LihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gXCJldmVudHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrcy5vbkxhbmdDaGFpbkV2ZW50Py4oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaEV2ZW50VHlwZShcInVwZGF0ZXNcIiwgZXZlbnQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja3Mub25VcGRhdGVFdmVudD8uKGRhdGEsIHsgbmFtZXNwYWNlLCBtdXRhdGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaEV2ZW50VHlwZShcImN1c3RvbVwiLCBldmVudCwgZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrcy5vbkN1c3RvbUV2ZW50Py4oZGF0YSwgeyBuYW1lc3BhY2UsIG11dGF0ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoRXZlbnRUeXBlKFwiY2hlY2twb2ludHNcIiwgZXZlbnQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja3Mub25DaGVja3BvaW50RXZlbnQ/LihkYXRhLCB7IG5hbWVzcGFjZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoRXZlbnRUeXBlKFwidGFza3NcIiwgZXZlbnQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja3Mub25UYXNrRXZlbnQ/LihkYXRhLCB7IG5hbWVzcGFjZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoRXZlbnRUeXBlKFwiZGVidWdcIiwgZXZlbnQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFja3Mub25EZWJ1Z0V2ZW50Py4oZGF0YSwgeyBuYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09IFwidmFsdWVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCB1cGRhdGUgdmFsdWVzIG9uIGludGVycnVwdCB2YWx1ZXMgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJfX2ludGVycnVwdF9fXCIgaW4gZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJlYW1WYWx1ZXMoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaEV2ZW50VHlwZShcIm1lc3NhZ2VzXCIsIGV2ZW50LCBkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtzZXJpYWxpemVkLCBtZXRhZGF0YV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZXMuYWRkKHNlcmlhbGl6ZWQsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gYWRkIG1lc3NhZ2UgdG8gbWFuYWdlciwgbm8gbWVzc2FnZSBJRCBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RyZWFtVmFsdWVzKChzdHJlYW1WYWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0geyAuLi5vcHRpb25zLmluaXRpYWxWYWx1ZXMsIC4uLnN0cmVhbVZhbHVlcyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bXB0aW9uOiB3ZSdyZSBjb25jYXRlbmF0aW5nIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gb3B0aW9ucy5nZXRNZXNzYWdlcyh2YWx1ZXMpLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY2h1bmssIGluZGV4IH0gPSB0aGlzLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQsIG1lc3NhZ2VzLmxlbmd0aCkgPz8ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2h1bmsgfHwgaW5kZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzW2luZGV4XSA9IHRvTWVzc2FnZURpY3QoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zZXRNZXNzYWdlcyh2YWx1ZXMsIG1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtRXJyb3IgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHN0cmVhbUVycm9yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBvcHRpb25zLm9uU3VjY2Vzcz8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJlYW1WYWx1ZXModmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgICAgICAgICAgICAgIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIiB8fCBlcnJvci5uYW1lID09PSBcIlRpbWVvdXRFcnJvclwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgb3B0aW9ucy5vbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydFJlZiA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBhc3luYyAoaGlzdG9yeVZhbHVlcywgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFib3J0UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRSZWYuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydFJlZiA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5vblN0b3A/Lih7IG11dGF0ZTogdGhpcy5nZXRNdXRhdGVGbihcInN0b3BcIiwgaGlzdG9yeVZhbHVlcykgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGVhclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogdW5kZWZpbmVkLCB2YWx1ZXM6IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgICAgICB0aGlzLnN0YXRlID0geyBpc0xvYWRpbmc6IGZhbHNlLCB2YWx1ZXM6IG51bGwsIGVycm9yOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaXNMb2FkaW5nO1xuICAgIH1cbiAgICBnZXQgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS52YWx1ZXM/LlswXSA/PyBudWxsO1xuICAgIH1cbiAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/messages.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/messages.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageTupleManager: () => (/* binding */ MessageTupleManager),\n/* harmony export */   toMessageDict: () => (/* binding */ toMessageDict)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4_/node_modules/@langchain/core/messages.js\");\n\nfunction tryConvertToChunk(message) {\n    try {\n        return (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.convertToChunk)(message);\n    }\n    catch {\n        return null;\n    }\n}\nclass MessageTupleManager {\n    constructor() {\n        Object.defineProperty(this, \"chunks\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        this.chunks = {};\n    }\n    add(serialized, metadata) {\n        // TODO: this is sometimes sent from the API\n        // figure out how to prevent this or move this to LC.js\n        if (serialized.type.endsWith(\"MessageChunk\")) {\n            // eslint-disable-next-line no-param-reassign\n            serialized.type = serialized.type\n                .slice(0, -\"MessageChunk\".length)\n                .toLowerCase();\n        }\n        const message = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.coerceMessageLikeToMessage)(serialized);\n        const chunk = tryConvertToChunk(message);\n        const { id } = chunk ?? message;\n        if (!id) {\n            console.warn(\"No message ID found for chunk, ignoring in state\", serialized);\n            return null;\n        }\n        this.chunks[id] ??= {};\n        this.chunks[id].metadata = metadata ?? this.chunks[id].metadata;\n        if (chunk) {\n            const prev = this.chunks[id].chunk;\n            this.chunks[id].chunk =\n                ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_0__.isBaseMessageChunk)(prev) ? prev : null)?.concat(chunk) ?? chunk;\n        }\n        else {\n            this.chunks[id].chunk = message;\n        }\n        return id;\n    }\n    clear() {\n        this.chunks = {};\n    }\n    get(id, defaultIndex) {\n        if (id == null)\n            return null;\n        if (this.chunks[id] == null)\n            return null;\n        if (defaultIndex != null)\n            this.chunks[id].index ??= defaultIndex;\n        return this.chunks[id];\n    }\n}\nconst toMessageDict = (chunk) => {\n    const { type, data } = chunk.toDict();\n    return { ...data, type };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9tZXNzYWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkc7QUFDM0c7QUFDQTtBQUNBLGVBQWUsd0VBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0ZBQTBCO0FBQ2xEO0FBQ0EsZ0JBQWdCLEtBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRFQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxhQUFhO0FBQ3pCLGFBQWE7QUFDYiIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9tZXNzYWdlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb252ZXJ0VG9DaHVuaywgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGlzQmFzZU1lc3NhZ2VDaHVuaywgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5mdW5jdGlvbiB0cnlDb252ZXJ0VG9DaHVuayhtZXNzYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRUb0NodW5rKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlVHVwbGVNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2h1bmtzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSB7fTtcbiAgICB9XG4gICAgYWRkKHNlcmlhbGl6ZWQsIG1ldGFkYXRhKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgc29tZXRpbWVzIHNlbnQgZnJvbSB0aGUgQVBJXG4gICAgICAgIC8vIGZpZ3VyZSBvdXQgaG93IHRvIHByZXZlbnQgdGhpcyBvciBtb3ZlIHRoaXMgdG8gTEMuanNcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQudHlwZS5lbmRzV2l0aChcIk1lc3NhZ2VDaHVua1wiKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBzZXJpYWxpemVkLnR5cGUgPSBzZXJpYWxpemVkLnR5cGVcbiAgICAgICAgICAgICAgICAuc2xpY2UoMCwgLVwiTWVzc2FnZUNodW5rXCIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShzZXJpYWxpemVkKTtcbiAgICAgICAgY29uc3QgY2h1bmsgPSB0cnlDb252ZXJ0VG9DaHVuayhtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gY2h1bmsgPz8gbWVzc2FnZTtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gbWVzc2FnZSBJRCBmb3VuZCBmb3IgY2h1bmssIGlnbm9yaW5nIGluIHN0YXRlXCIsIHNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVua3NbaWRdID8/PSB7fTtcbiAgICAgICAgdGhpcy5jaHVua3NbaWRdLm1ldGFkYXRhID0gbWV0YWRhdGEgPz8gdGhpcy5jaHVua3NbaWRdLm1ldGFkYXRhO1xuICAgICAgICBpZiAoY2h1bmspIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLmNodW5rc1tpZF0uY2h1bms7XG4gICAgICAgICAgICB0aGlzLmNodW5rc1tpZF0uY2h1bmsgPVxuICAgICAgICAgICAgICAgIChpc0Jhc2VNZXNzYWdlQ2h1bmsocHJldikgPyBwcmV2IDogbnVsbCk/LmNvbmNhdChjaHVuaykgPz8gY2h1bms7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rc1tpZF0uY2h1bmsgPSBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2h1bmtzID0ge307XG4gICAgfVxuICAgIGdldChpZCwgZGVmYXVsdEluZGV4KSB7XG4gICAgICAgIGlmIChpZCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0aGlzLmNodW5rc1tpZF0gPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoZGVmYXVsdEluZGV4ICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLmNodW5rc1tpZF0uaW5kZXggPz89IGRlZmF1bHRJbmRleDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtzW2lkXTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgdG9NZXNzYWdlRGljdCA9IChjaHVuaykgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZGF0YSB9ID0gY2h1bmsudG9EaWN0KCk7XG4gICAgcmV0dXJuIHsgLi4uZGF0YSwgdHlwZSB9O1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/messages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/stream.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/stream.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStream: () => (/* binding */ useStream)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.3.2_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/utils.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/errors.js\");\n/* harmony import */ var _branching_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./branching.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/branching.js\");\n/* harmony import */ var _manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./manager.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/manager.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../client.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/client.js\");\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./messages.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/messages.js\");\n/* __LC_ALLOW_ENTRYPOINT_SIDE_EFFECTS__ */ /* __next_internal_client_entry_do_not_use__ useStream auto */ \n\n\n\n\n\n\nfunction fetchHistory(client, threadId, options) {\n    if (options?.limit === false) {\n        return client.threads.getState(threadId).then((state)=>{\n            if (state.checkpoint == null) return [];\n            return [\n                state\n            ];\n        });\n    }\n    const limit = typeof options?.limit === \"number\" ? options.limit : 10;\n    return client.threads.getHistory(threadId, {\n        limit\n    });\n}\nfunction useThreadHistory(threadId, client, limit, clearCallbackRef, submittingRef, onErrorRef) {\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useThreadHistory.useState\": ()=>{\n            if (threadId == null) return false;\n            return true;\n        }\n    }[\"useThreadHistory.useState\"]);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);\n    const clientHash = (0,_client_js__WEBPACK_IMPORTED_MODULE_5__.getClientConfigHash)(client);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(client);\n    clientRef.current = client;\n    const fetcher = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useThreadHistory.useCallback[fetcher]\": (threadId)=>{\n            if (threadId != null) {\n                const client = clientRef.current;\n                setIsLoading(true);\n                return fetchHistory(client, threadId, {\n                    limit\n                }).then({\n                    \"useThreadHistory.useCallback[fetcher]\": (history)=>{\n                        setHistory(history);\n                        return history;\n                    }\n                }[\"useThreadHistory.useCallback[fetcher]\"], {\n                    \"useThreadHistory.useCallback[fetcher]\": (error)=>{\n                        setError(error);\n                        onErrorRef.current?.(error);\n                        return Promise.reject(error);\n                    }\n                }[\"useThreadHistory.useCallback[fetcher]\"]).finally({\n                    \"useThreadHistory.useCallback[fetcher]\": ()=>{\n                        setIsLoading(false);\n                    }\n                }[\"useThreadHistory.useCallback[fetcher]\"]);\n            }\n            setHistory(undefined);\n            setError(undefined);\n            setIsLoading(false);\n            clearCallbackRef.current?.();\n            return Promise.resolve([]);\n        }\n    }[\"useThreadHistory.useCallback[fetcher]\"], [\n        clearCallbackRef,\n        onErrorRef,\n        limit\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useThreadHistory.useEffect\": ()=>{\n            if (submittingRef.current) return;\n            void fetcher(threadId);\n        }\n    }[\"useThreadHistory.useEffect\"], [\n        fetcher,\n        submittingRef,\n        clientHash,\n        limit,\n        threadId\n    ]);\n    return {\n        data: history,\n        isLoading,\n        error,\n        mutate: (mutateId)=>fetcher(mutateId ?? threadId)\n    };\n}\nconst useControllableThreadId = (options)=>{\n    const [localThreadId, _setLocalThreadId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(options?.threadId ?? null);\n    const onThreadIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(options?.onThreadId);\n    onThreadIdRef.current = options?.onThreadId;\n    const onThreadId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useControllableThreadId.useCallback[onThreadId]\": (threadId)=>{\n            _setLocalThreadId(threadId);\n            onThreadIdRef.current?.(threadId);\n        }\n    }[\"useControllableThreadId.useCallback[onThreadId]\"], []);\n    if (!options || !(\"threadId\" in options)) {\n        return [\n            localThreadId,\n            onThreadId\n        ];\n    }\n    return [\n        options.threadId ?? null,\n        onThreadId\n    ];\n};\nfunction useStream(options) {\n    const reconnectOnMountRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(options.reconnectOnMount);\n    const runMetadataStorage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useStream.useMemo[runMetadataStorage]\": ()=>{\n            if (true) return null;\n            const storage = reconnectOnMountRef.current;\n            if (storage === true) return window.sessionStorage;\n            if (typeof storage === \"function\") return storage();\n            return null;\n        }\n    }[\"useStream.useMemo[runMetadataStorage]\"], []);\n    const client = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useStream.useMemo[client]\": ()=>options.client ?? new _client_js__WEBPACK_IMPORTED_MODULE_5__.Client({\n                apiUrl: options.apiUrl,\n                apiKey: options.apiKey,\n                callerOptions: options.callerOptions,\n                defaultHeaders: options.defaultHeaders\n            })\n    }[\"useStream.useMemo[client]\"], [\n        options.client,\n        options.apiKey,\n        options.apiUrl,\n        options.callerOptions,\n        options.defaultHeaders\n    ]);\n    const [messageManager] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useStream.useState\": ()=>new _messages_js__WEBPACK_IMPORTED_MODULE_6__.MessageTupleManager()\n    }[\"useStream.useState\"]);\n    const [stream] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useStream.useState\": ()=>new _manager_js__WEBPACK_IMPORTED_MODULE_4__.StreamManager(messageManager)\n    }[\"useStream.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(stream.subscribe, stream.getSnapshot, stream.getSnapshot);\n    const [threadId, onThreadId] = useControllableThreadId(options);\n    const trackStreamModeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const trackStreamMode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStream.useCallback[trackStreamMode]\": (...mode)=>{\n            const ref = trackStreamModeRef.current;\n            for (const m of mode){\n                if (!ref.includes(m)) ref.push(m);\n            }\n        }\n    }[\"useStream.useCallback[trackStreamMode]\"], []);\n    const hasUpdateListener = options.onUpdateEvent != null;\n    const hasCustomListener = options.onCustomEvent != null;\n    const hasLangChainListener = options.onLangChainEvent != null;\n    const hasDebugListener = options.onDebugEvent != null;\n    const hasCheckpointListener = options.onCheckpointEvent != null;\n    const hasTaskListener = options.onTaskEvent != null;\n    const callbackStreamMode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useStream.useMemo[callbackStreamMode]\": ()=>{\n            const modes = [];\n            if (hasUpdateListener) modes.push(\"updates\");\n            if (hasCustomListener) modes.push(\"custom\");\n            if (hasLangChainListener) modes.push(\"events\");\n            if (hasDebugListener) modes.push(\"debug\");\n            if (hasCheckpointListener) modes.push(\"checkpoints\");\n            if (hasTaskListener) modes.push(\"tasks\");\n            return modes;\n        }\n    }[\"useStream.useMemo[callbackStreamMode]\"], [\n        hasUpdateListener,\n        hasCustomListener,\n        hasLangChainListener,\n        hasDebugListener,\n        hasCheckpointListener,\n        hasTaskListener\n    ]);\n    const clearCallbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    clearCallbackRef.current = stream.clear;\n    const submittingRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    submittingRef.current = stream.isLoading;\n    const onErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);\n    onErrorRef.current = options.onError;\n    const historyLimit = typeof options.fetchStateHistory === \"object\" && options.fetchStateHistory != null ? options.fetchStateHistory.limit ?? false : options.fetchStateHistory ?? false;\n    const history = useThreadHistory(threadId, client, historyLimit, clearCallbackRef, submittingRef, onErrorRef);\n    const getMessages = (value)=>{\n        const messagesKey = options.messagesKey ?? \"messages\";\n        return Array.isArray(value[messagesKey]) ? value[messagesKey] : [];\n    };\n    const setMessages = (current, messages)=>{\n        const messagesKey = options.messagesKey ?? \"messages\";\n        return {\n            ...current,\n            [messagesKey]: messages\n        };\n    };\n    const [branch, setBranch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const branchContext = (0,_branching_js__WEBPACK_IMPORTED_MODULE_3__.getBranchContext)(branch, history.data);\n    const historyValues = branchContext.threadHead?.values ?? options.initialValues ?? {};\n    const historyError = (()=>{\n        const error = branchContext.threadHead?.tasks?.at(-1)?.error;\n        if (error == null) return undefined;\n        try {\n            const parsed = JSON.parse(error);\n            if (_errors_js__WEBPACK_IMPORTED_MODULE_2__.StreamError.isStructuredError(parsed)) return new _errors_js__WEBPACK_IMPORTED_MODULE_2__.StreamError(parsed);\n            return parsed;\n        } catch  {\n        // do nothing\n        }\n        return error;\n    })();\n    const messageMetadata = (()=>{\n        const alreadyShown = new Set();\n        return getMessages(historyValues).map((message, idx)=>{\n            const messageId = message.id ?? idx;\n            // Find the first checkpoint where the message was seen\n            const firstSeenState = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.findLast)(history.data ?? [], (state)=>getMessages(state.values).map((m, idx)=>m.id ?? idx).includes(messageId));\n            const checkpointId = firstSeenState?.checkpoint?.checkpoint_id;\n            let branch = checkpointId != null ? branchContext.branchByCheckpoint[checkpointId] : undefined;\n            if (!branch?.branch?.length) branch = undefined;\n            // serialize branches\n            const optionsShown = branch?.branchOptions?.flat(2).join(\",\");\n            if (optionsShown) {\n                if (alreadyShown.has(optionsShown)) branch = undefined;\n                alreadyShown.add(optionsShown);\n            }\n            return {\n                messageId: messageId.toString(),\n                firstSeenState,\n                branch: branch?.branch,\n                branchOptions: branch?.branchOptions\n            };\n        });\n    })();\n    const stop = ()=>stream.stop(historyValues, {\n            onStop: options.onStop\n        });\n    // --- TRANSPORT ---\n    const submit = async (values, submitOptions)=>{\n        // Unbranch things\n        const checkpointId = submitOptions?.checkpoint?.checkpoint_id;\n        setBranch(checkpointId != null ? branchContext.branchByCheckpoint[checkpointId]?.branch ?? \"\" : \"\");\n        stream.setStreamValues(()=>{\n            if (submitOptions?.optimisticValues != null) {\n                return {\n                    ...historyValues,\n                    ...typeof submitOptions.optimisticValues === \"function\" ? submitOptions.optimisticValues(historyValues) : submitOptions.optimisticValues\n                };\n            }\n            return {\n                ...historyValues\n            };\n        });\n        // When `fetchStateHistory` is requested, thus we assume that branching\n        // is enabled. We then need to include the implicit branch.\n        const includeImplicitBranch = historyLimit === true || typeof historyLimit === \"number\";\n        let callbackMeta;\n        let rejoinKey;\n        let usableThreadId = threadId;\n        await stream.start(async (signal)=>{\n            if (!usableThreadId) {\n                const thread = await client.threads.create({\n                    threadId: submitOptions?.threadId,\n                    metadata: submitOptions?.metadata\n                });\n                onThreadId(thread.thread_id);\n                usableThreadId = thread.thread_id;\n            }\n            if (!usableThreadId) {\n                throw new Error(\"Failed to obtain valid thread ID.\");\n            }\n            const streamMode = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.unique)([\n                ...submitOptions?.streamMode ?? [],\n                ...trackStreamModeRef.current,\n                ...callbackStreamMode\n            ]);\n            let checkpoint = submitOptions?.checkpoint ?? (includeImplicitBranch ? branchContext.threadHead?.checkpoint : undefined) ?? undefined;\n            // Avoid specifying a checkpoint if user explicitly set it to null\n            if (submitOptions?.checkpoint === null) checkpoint = undefined;\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            if (checkpoint != null) delete checkpoint.thread_id;\n            const streamResumable = submitOptions?.streamResumable ?? !!runMetadataStorage;\n            return client.runs.stream(usableThreadId, options.assistantId, {\n                input: values,\n                config: submitOptions?.config,\n                context: submitOptions?.context,\n                command: submitOptions?.command,\n                interruptBefore: submitOptions?.interruptBefore,\n                interruptAfter: submitOptions?.interruptAfter,\n                metadata: submitOptions?.metadata,\n                multitaskStrategy: submitOptions?.multitaskStrategy,\n                onCompletion: submitOptions?.onCompletion,\n                onDisconnect: submitOptions?.onDisconnect ?? (streamResumable ? \"continue\" : \"cancel\"),\n                signal,\n                checkpoint,\n                streamMode,\n                streamSubgraphs: submitOptions?.streamSubgraphs,\n                streamResumable,\n                durability: submitOptions?.durability,\n                onRunCreated (params) {\n                    callbackMeta = {\n                        run_id: params.run_id,\n                        thread_id: params.thread_id ?? usableThreadId\n                    };\n                    if (runMetadataStorage) {\n                        rejoinKey = `lg:stream:${usableThreadId}`;\n                        runMetadataStorage.setItem(rejoinKey, callbackMeta.run_id);\n                    }\n                    options.onCreated?.(callbackMeta);\n                }\n            });\n        }, {\n            getMessages,\n            setMessages,\n            initialValues: historyValues,\n            callbacks: options,\n            async onSuccess () {\n                if (rejoinKey) runMetadataStorage?.removeItem(rejoinKey);\n                const shouldRefetch = // We're expecting the whole thread state in onFinish\n                options.onFinish != null || // We're fetching history, thus we need the latest checkpoint\n                // to ensure we're not accidentally submitting to a wrong branch\n                includeImplicitBranch;\n                if (shouldRefetch) {\n                    const newHistory = await history.mutate(usableThreadId);\n                    const lastHead = newHistory.at(0);\n                    if (lastHead) {\n                        // We now have the latest update from /history\n                        // Thus we can clear the local stream state\n                        options.onFinish?.(lastHead, callbackMeta);\n                        return null;\n                    }\n                }\n                return undefined;\n            },\n            onError (error) {\n                options.onError?.(error, callbackMeta);\n            }\n        });\n    };\n    const joinStream = async (runId, lastEventId, joinOptions)=>{\n        // eslint-disable-next-line no-param-reassign\n        lastEventId ??= \"-1\";\n        if (!threadId) return;\n        const callbackMeta = {\n            thread_id: threadId,\n            run_id: runId\n        };\n        await stream.start(async (signal)=>{\n            return client.runs.joinStream(threadId, runId, {\n                signal,\n                lastEventId,\n                streamMode: joinOptions?.streamMode\n            });\n        }, {\n            getMessages,\n            setMessages,\n            initialValues: historyValues,\n            callbacks: options,\n            async onSuccess () {\n                runMetadataStorage?.removeItem(`lg:stream:${threadId}`);\n                const newHistory = await history.mutate(threadId);\n                const lastHead = newHistory.at(0);\n                if (lastHead) options.onFinish?.(lastHead, callbackMeta);\n            },\n            onError (error) {\n                options.onError?.(error, callbackMeta);\n            }\n        });\n    };\n    const reconnectKey = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useStream.useMemo[reconnectKey]\": ()=>{\n            if (!runMetadataStorage || stream.isLoading) return undefined;\n            if (true) return undefined;\n            const runId = runMetadataStorage?.getItem(`lg:stream:${threadId}`);\n            if (!runId) return undefined;\n            return {\n                runId,\n                threadId\n            };\n        }\n    }[\"useStream.useMemo[reconnectKey]\"], [\n        runMetadataStorage,\n        stream.isLoading,\n        threadId\n    ]);\n    const shouldReconnect = !!runMetadataStorage;\n    const reconnectRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        threadId,\n        shouldReconnect\n    });\n    const joinStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(joinStream);\n    joinStreamRef.current = joinStream;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStream.useEffect\": ()=>{\n            // reset shouldReconnect when switching threads\n            if (reconnectRef.current.threadId !== threadId) {\n                reconnectRef.current = {\n                    threadId,\n                    shouldReconnect\n                };\n            }\n        }\n    }[\"useStream.useEffect\"], [\n        threadId,\n        shouldReconnect\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStream.useEffect\": ()=>{\n            if (reconnectKey && reconnectRef.current.shouldReconnect) {\n                reconnectRef.current.shouldReconnect = false;\n                void joinStreamRef.current?.(reconnectKey.runId);\n            }\n        }\n    }[\"useStream.useEffect\"], [\n        reconnectKey\n    ]);\n    // --- END TRANSPORT ---\n    const error = stream.error ?? historyError ?? history.error;\n    const values = stream.values ?? historyValues;\n    return {\n        get values () {\n            trackStreamMode(\"values\");\n            return values;\n        },\n        client,\n        assistantId: options.assistantId,\n        error,\n        isLoading: stream.isLoading,\n        stop,\n        submit,\n        joinStream,\n        branch,\n        setBranch,\n        get history () {\n            if (historyLimit === false) {\n                throw new Error(\"`fetchStateHistory` must be set to `true` to use `history`\");\n            }\n            return branchContext.flatHistory;\n        },\n        isThreadLoading: history.isLoading && history.data == null,\n        get experimental_branchTree () {\n            if (historyLimit === false) {\n                throw new Error(\"`fetchStateHistory` must be set to `true` to use `experimental_branchTree`\");\n            }\n            return branchContext.branchTree;\n        },\n        get interrupt () {\n            // Don't show the interrupt if the stream is loading\n            if (stream.isLoading) return undefined;\n            const interrupts = branchContext.threadHead?.tasks?.at(-1)?.interrupts;\n            if (interrupts == null || interrupts.length === 0) {\n                // check if there's a next task present\n                const next = branchContext.threadHead?.next ?? [];\n                if (!next.length || error != null) return undefined;\n                return {\n                    when: \"breakpoint\"\n                };\n            }\n            // Return only the current interrupt\n            return interrupts.at(-1);\n        },\n        get messages () {\n            trackStreamMode(\"messages-tuple\", \"values\");\n            return getMessages(values);\n        },\n        getMessagesMetadata (message, index) {\n            trackStreamMode(\"values\");\n            const streamMetadata = messageManager.get(message.id)?.metadata;\n            const historyMetadata = messageMetadata?.find((m)=>m.messageId === (message.id ?? index));\n            if (streamMetadata != null || historyMetadata != null) {\n                return {\n                    ...historyMetadata,\n                    streamMetadata\n                };\n            }\n            return undefined;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBd0Msa0VBRXlEO0FBQ25EO0FBQ0o7QUFDUTtBQUNMO0FBQ2M7QUFDUDtBQUNwRCxTQUFTYyxhQUFhQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsT0FBTztJQUMzQyxJQUFJQSxTQUFTQyxVQUFVLE9BQU87UUFDMUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxRQUFRLENBQUNKLFVBQVVLLElBQUksQ0FBQyxDQUFDQztZQUMzQyxJQUFJQSxNQUFNQyxVQUFVLElBQUksTUFDcEIsT0FBTyxFQUFFO1lBQ2IsT0FBTztnQkFBQ0Q7YUFBTTtRQUNsQjtJQUNKO0lBQ0EsTUFBTUosUUFBUSxPQUFPRCxTQUFTQyxVQUFVLFdBQVdELFFBQVFDLEtBQUssR0FBRztJQUNuRSxPQUFPSCxPQUFPSSxPQUFPLENBQUNLLFVBQVUsQ0FBQ1IsVUFBVTtRQUFFRTtJQUFNO0FBQ3ZEO0FBQ0EsU0FBU08saUJBQWlCVCxRQUFRLEVBQUVELE1BQU0sRUFBRUcsS0FBSyxFQUFFUSxnQkFBZ0IsRUFBRUMsYUFBYSxFQUFFQyxVQUFVO0lBQzFGLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHMUIsK0NBQVFBLENBQUMyQjtJQUN2QyxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBRzdCLCtDQUFRQTtxQ0FBQztZQUN2QyxJQUFJWSxZQUFZLE1BQ1osT0FBTztZQUNYLE9BQU87UUFDWDs7SUFDQSxNQUFNLENBQUNrQixPQUFPQyxTQUFTLEdBQUcvQiwrQ0FBUUEsQ0FBQzJC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LEtBQUtuRSxNQUFNLElBQUkzRixTQUFTLE1BQ3pCLE9BQU9IO2dCQUNYLE9BQU87b0JBQUVrSyxNQUFNO2dCQUFhO1lBQ2hDO1lBQ0Esb0NBQW9DO1lBQ3BDLE9BQU9GLFdBQVduRixFQUFFLENBQUMsQ0FBQztRQUMxQjtRQUNBLElBQUlWLFlBQVc7WUFDWDlCLGdCQUFnQixrQkFBa0I7WUFDbEMsT0FBT3dCLFlBQVlZO1FBQ3ZCO1FBQ0EwRixxQkFBb0I3RSxPQUFPLEVBQUU4RSxLQUFLO1lBQzlCL0gsZ0JBQWdCO1lBQ2hCLE1BQU1nSSxpQkFBaUJySSxlQUFlc0ksR0FBRyxDQUFDaEYsUUFBUUcsRUFBRSxHQUFHMkI7WUFDdkQsTUFBTW1ELGtCQUFrQnJGLGlCQUFpQnNGLEtBQUssQ0FBQ2hJLElBQU1BLEVBQUVnRCxTQUFTLEtBQU1GLENBQUFBLFFBQVFHLEVBQUUsSUFBSTJFLEtBQUk7WUFDeEYsSUFBSUMsa0JBQWtCLFFBQVFFLG1CQUFtQixNQUFNO2dCQUNuRCxPQUFPO29CQUNILEdBQUdBLGVBQWU7b0JBQ2xCRjtnQkFDSjtZQUNKO1lBQ0EsT0FBT3JLO1FBQ1g7SUFDSjtBQUNKIiwic291cmNlcyI6WyIvVXNlcnMvYnl0ZWRhbmNlL1B5Y2hhcm1Qcm9qZWN0cy9teV9iZXN0L2xhbmdncmFwaF90ZWFjaC9hZ2VudF9jaGF0X3VpL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaC1zZGtAMC4xLjBfQGxhbmdjaGFpbitjb3JlQDAuMy41Nl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDMuMjQuNF9fX3JfZzV2YWF5eDdzaTY1M2hsbGR1aGZkNWJhdm0vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoLXNkay9kaXN0L3JlYWN0L3N0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBfX0xDX0FMTE9XX0VOVFJZUE9JTlRfU0lERV9FRkZFQ1RTX18gKi9cblwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlU3luY0V4dGVybmFsU3RvcmUsIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBmaW5kTGFzdCwgdW5pcXVlIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IFN0cmVhbUVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBnZXRCcmFuY2hDb250ZXh0IH0gZnJvbSBcIi4vYnJhbmNoaW5nLmpzXCI7XG5pbXBvcnQgeyBTdHJlYW1NYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50LCBnZXRDbGllbnRDb25maWdIYXNoIH0gZnJvbSBcIi4uL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgTWVzc2FnZVR1cGxlTWFuYWdlciB9IGZyb20gXCIuL21lc3NhZ2VzLmpzXCI7XG5mdW5jdGlvbiBmZXRjaEhpc3RvcnkoY2xpZW50LCB0aHJlYWRJZCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zPy5saW1pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC50aHJlYWRzLmdldFN0YXRlKHRocmVhZElkKS50aGVuKChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNoZWNrcG9pbnQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICByZXR1cm4gW3N0YXRlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGxpbWl0ID0gdHlwZW9mIG9wdGlvbnM/LmxpbWl0ID09PSBcIm51bWJlclwiID8gb3B0aW9ucy5saW1pdCA6IDEwO1xuICAgIHJldHVybiBjbGllbnQudGhyZWFkcy5nZXRIaXN0b3J5KHRocmVhZElkLCB7IGxpbWl0IH0pO1xufVxuZnVuY3Rpb24gdXNlVGhyZWFkSGlzdG9yeSh0aHJlYWRJZCwgY2xpZW50LCBsaW1pdCwgY2xlYXJDYWxsYmFja1JlZiwgc3VibWl0dGluZ1JlZiwgb25FcnJvclJlZikge1xuICAgIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlKHVuZGVmaW5lZCk7XG4gICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgaWYgKHRocmVhZElkID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcbiAgICBjb25zdCBjbGllbnRIYXNoID0gZ2V0Q2xpZW50Q29uZmlnSGFzaChjbGllbnQpO1xuICAgIGNvbnN0IGNsaWVudFJlZiA9IHVzZVJlZihjbGllbnQpO1xuICAgIGNsaWVudFJlZi5jdXJyZW50ID0gY2xpZW50O1xuICAgIGNvbnN0IGZldGNoZXIgPSB1c2VDYWxsYmFjaygodGhyZWFkSWQpID0+IHtcbiAgICAgICAgaWYgKHRocmVhZElkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGNsaWVudFJlZi5jdXJyZW50O1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoSGlzdG9yeShjbGllbnQsIHRocmVhZElkLCB7XG4gICAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChoaXN0b3J5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SGlzdG9yeShoaXN0b3J5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlzdG9yeTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBvbkVycm9yUmVmLmN1cnJlbnQ/LihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRIaXN0b3J5KHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEVycm9yKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGNsZWFyQ2FsbGJhY2tSZWYuY3VycmVudD8uKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH0sIFtjbGVhckNhbGxiYWNrUmVmLCBvbkVycm9yUmVmLCBsaW1pdF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdWJtaXR0aW5nUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZvaWQgZmV0Y2hlcih0aHJlYWRJZCk7XG4gICAgfSwgW2ZldGNoZXIsIHN1Ym1pdHRpbmdSZWYsIGNsaWVudEhhc2gsIGxpbWl0LCB0aHJlYWRJZF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGhpc3RvcnksXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIG11dGF0ZTogKG11dGF0ZUlkKSA9PiBmZXRjaGVyKG11dGF0ZUlkID8/IHRocmVhZElkKSxcbiAgICB9O1xufVxuY29uc3QgdXNlQ29udHJvbGxhYmxlVGhyZWFkSWQgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IFtsb2NhbFRocmVhZElkLCBfc2V0TG9jYWxUaHJlYWRJZF0gPSB1c2VTdGF0ZShvcHRpb25zPy50aHJlYWRJZCA/PyBudWxsKTtcbiAgICBjb25zdCBvblRocmVhZElkUmVmID0gdXNlUmVmKG9wdGlvbnM/Lm9uVGhyZWFkSWQpO1xuICAgIG9uVGhyZWFkSWRSZWYuY3VycmVudCA9IG9wdGlvbnM/Lm9uVGhyZWFkSWQ7XG4gICAgY29uc3Qgb25UaHJlYWRJZCA9IHVzZUNhbGxiYWNrKCh0aHJlYWRJZCkgPT4ge1xuICAgICAgICBfc2V0TG9jYWxUaHJlYWRJZCh0aHJlYWRJZCk7XG4gICAgICAgIG9uVGhyZWFkSWRSZWYuY3VycmVudD8uKHRocmVhZElkKTtcbiAgICB9LCBbXSk7XG4gICAgaWYgKCFvcHRpb25zIHx8ICEoXCJ0aHJlYWRJZFwiIGluIG9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBbbG9jYWxUaHJlYWRJZCwgb25UaHJlYWRJZF07XG4gICAgfVxuICAgIHJldHVybiBbb3B0aW9ucy50aHJlYWRJZCA/PyBudWxsLCBvblRocmVhZElkXTtcbn07XG5leHBvcnQgZnVuY3Rpb24gdXNlU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBjb25zdCByZWNvbm5lY3RPbk1vdW50UmVmID0gdXNlUmVmKG9wdGlvbnMucmVjb25uZWN0T25Nb3VudCk7XG4gICAgY29uc3QgcnVuTWV0YWRhdGFTdG9yYWdlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2UgPSByZWNvbm5lY3RPbk1vdW50UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChzdG9yYWdlID09PSB0cnVlKVxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdG9yYWdlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gc3RvcmFnZSgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlTWVtbygoKSA9PiBvcHRpb25zLmNsaWVudCA/P1xuICAgICAgICBuZXcgQ2xpZW50KHtcbiAgICAgICAgICAgIGFwaVVybDogb3B0aW9ucy5hcGlVcmwsXG4gICAgICAgICAgICBhcGlLZXk6IG9wdGlvbnMuYXBpS2V5LFxuICAgICAgICAgICAgY2FsbGVyT3B0aW9uczogb3B0aW9ucy5jYWxsZXJPcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IG9wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgIH0pLCBbXG4gICAgICAgIG9wdGlvbnMuY2xpZW50LFxuICAgICAgICBvcHRpb25zLmFwaUtleSxcbiAgICAgICAgb3B0aW9ucy5hcGlVcmwsXG4gICAgICAgIG9wdGlvbnMuY2FsbGVyT3B0aW9ucyxcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICBdKTtcbiAgICBjb25zdCBbbWVzc2FnZU1hbmFnZXJdID0gdXNlU3RhdGUoKCkgPT4gbmV3IE1lc3NhZ2VUdXBsZU1hbmFnZXIoKSk7XG4gICAgY29uc3QgW3N0cmVhbV0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgU3RyZWFtTWFuYWdlcihtZXNzYWdlTWFuYWdlcikpO1xuICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN0cmVhbS5zdWJzY3JpYmUsIHN0cmVhbS5nZXRTbmFwc2hvdCwgc3RyZWFtLmdldFNuYXBzaG90KTtcbiAgICBjb25zdCBbdGhyZWFkSWQsIG9uVGhyZWFkSWRdID0gdXNlQ29udHJvbGxhYmxlVGhyZWFkSWQob3B0aW9ucyk7XG4gICAgY29uc3QgdHJhY2tTdHJlYW1Nb2RlUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCB0cmFja1N0cmVhbU1vZGUgPSB1c2VDYWxsYmFjaygoLi4ubW9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZWYgPSB0cmFja1N0cmVhbU1vZGVSZWYuY3VycmVudDtcbiAgICAgICAgZm9yIChjb25zdCBtIG9mIG1vZGUpIHtcbiAgICAgICAgICAgIGlmICghcmVmLmluY2x1ZGVzKG0pKVxuICAgICAgICAgICAgICAgIHJlZi5wdXNoKG0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhc1VwZGF0ZUxpc3RlbmVyID0gb3B0aW9ucy5vblVwZGF0ZUV2ZW50ICE9IG51bGw7XG4gICAgY29uc3QgaGFzQ3VzdG9tTGlzdGVuZXIgPSBvcHRpb25zLm9uQ3VzdG9tRXZlbnQgIT0gbnVsbDtcbiAgICBjb25zdCBoYXNMYW5nQ2hhaW5MaXN0ZW5lciA9IG9wdGlvbnMub25MYW5nQ2hhaW5FdmVudCAhPSBudWxsO1xuICAgIGNvbnN0IGhhc0RlYnVnTGlzdGVuZXIgPSBvcHRpb25zLm9uRGVidWdFdmVudCAhPSBudWxsO1xuICAgIGNvbnN0IGhhc0NoZWNrcG9pbnRMaXN0ZW5lciA9IG9wdGlvbnMub25DaGVja3BvaW50RXZlbnQgIT0gbnVsbDtcbiAgICBjb25zdCBoYXNUYXNrTGlzdGVuZXIgPSBvcHRpb25zLm9uVGFza0V2ZW50ICE9IG51bGw7XG4gICAgY29uc3QgY2FsbGJhY2tTdHJlYW1Nb2RlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVzID0gW107XG4gICAgICAgIGlmIChoYXNVcGRhdGVMaXN0ZW5lcilcbiAgICAgICAgICAgIG1vZGVzLnB1c2goXCJ1cGRhdGVzXCIpO1xuICAgICAgICBpZiAoaGFzQ3VzdG9tTGlzdGVuZXIpXG4gICAgICAgICAgICBtb2Rlcy5wdXNoKFwiY3VzdG9tXCIpO1xuICAgICAgICBpZiAoaGFzTGFuZ0NoYWluTGlzdGVuZXIpXG4gICAgICAgICAgICBtb2Rlcy5wdXNoKFwiZXZlbnRzXCIpO1xuICAgICAgICBpZiAoaGFzRGVidWdMaXN0ZW5lcilcbiAgICAgICAgICAgIG1vZGVzLnB1c2goXCJkZWJ1Z1wiKTtcbiAgICAgICAgaWYgKGhhc0NoZWNrcG9pbnRMaXN0ZW5lcilcbiAgICAgICAgICAgIG1vZGVzLnB1c2goXCJjaGVja3BvaW50c1wiKTtcbiAgICAgICAgaWYgKGhhc1Rhc2tMaXN0ZW5lcilcbiAgICAgICAgICAgIG1vZGVzLnB1c2goXCJ0YXNrc1wiKTtcbiAgICAgICAgcmV0dXJuIG1vZGVzO1xuICAgIH0sIFtcbiAgICAgICAgaGFzVXBkYXRlTGlzdGVuZXIsXG4gICAgICAgIGhhc0N1c3RvbUxpc3RlbmVyLFxuICAgICAgICBoYXNMYW5nQ2hhaW5MaXN0ZW5lcixcbiAgICAgICAgaGFzRGVidWdMaXN0ZW5lcixcbiAgICAgICAgaGFzQ2hlY2twb2ludExpc3RlbmVyLFxuICAgICAgICBoYXNUYXNrTGlzdGVuZXIsXG4gICAgXSk7XG4gICAgY29uc3QgY2xlYXJDYWxsYmFja1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjbGVhckNhbGxiYWNrUmVmLmN1cnJlbnQgPSBzdHJlYW0uY2xlYXI7XG4gICAgY29uc3Qgc3VibWl0dGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgc3VibWl0dGluZ1JlZi5jdXJyZW50ID0gc3RyZWFtLmlzTG9hZGluZztcbiAgICBjb25zdCBvbkVycm9yUmVmID0gdXNlUmVmKHVuZGVmaW5lZCk7XG4gICAgb25FcnJvclJlZi5jdXJyZW50ID0gb3B0aW9ucy5vbkVycm9yO1xuICAgIGNvbnN0IGhpc3RvcnlMaW1pdCA9IHR5cGVvZiBvcHRpb25zLmZldGNoU3RhdGVIaXN0b3J5ID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIG9wdGlvbnMuZmV0Y2hTdGF0ZUhpc3RvcnkgIT0gbnVsbFxuICAgICAgICA/IG9wdGlvbnMuZmV0Y2hTdGF0ZUhpc3RvcnkubGltaXQgPz8gZmFsc2VcbiAgICAgICAgOiBvcHRpb25zLmZldGNoU3RhdGVIaXN0b3J5ID8/IGZhbHNlO1xuICAgIGNvbnN0IGhpc3RvcnkgPSB1c2VUaHJlYWRIaXN0b3J5KHRocmVhZElkLCBjbGllbnQsIGhpc3RvcnlMaW1pdCwgY2xlYXJDYWxsYmFja1JlZiwgc3VibWl0dGluZ1JlZiwgb25FcnJvclJlZik7XG4gICAgY29uc3QgZ2V0TWVzc2FnZXMgPSAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNLZXkgPSBvcHRpb25zLm1lc3NhZ2VzS2V5ID8/IFwibWVzc2FnZXNcIjtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWVbbWVzc2FnZXNLZXldKSA/IHZhbHVlW21lc3NhZ2VzS2V5XSA6IFtdO1xuICAgIH07XG4gICAgY29uc3Qgc2V0TWVzc2FnZXMgPSAoY3VycmVudCwgbWVzc2FnZXMpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNLZXkgPSBvcHRpb25zLm1lc3NhZ2VzS2V5ID8/IFwibWVzc2FnZXNcIjtcbiAgICAgICAgcmV0dXJuIHsgLi4uY3VycmVudCwgW21lc3NhZ2VzS2V5XTogbWVzc2FnZXMgfTtcbiAgICB9O1xuICAgIGNvbnN0IFticmFuY2gsIHNldEJyYW5jaF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBicmFuY2hDb250ZXh0ID0gZ2V0QnJhbmNoQ29udGV4dChicmFuY2gsIGhpc3RvcnkuZGF0YSk7XG4gICAgY29uc3QgaGlzdG9yeVZhbHVlcyA9IGJyYW5jaENvbnRleHQudGhyZWFkSGVhZD8udmFsdWVzID8/XG4gICAgICAgIG9wdGlvbnMuaW5pdGlhbFZhbHVlcyA/P1xuICAgICAgICB7fTtcbiAgICBjb25zdCBoaXN0b3J5RXJyb3IgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvciA9IGJyYW5jaENvbnRleHQudGhyZWFkSGVhZD8udGFza3M/LmF0KC0xKT8uZXJyb3I7XG4gICAgICAgIGlmIChlcnJvciA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZXJyb3IpO1xuICAgICAgICAgICAgaWYgKFN0cmVhbUVycm9yLmlzU3RydWN0dXJlZEVycm9yKHBhcnNlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1FcnJvcihwYXJzZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH0pKCk7XG4gICAgY29uc3QgbWVzc2FnZU1ldGFkYXRhID0gKCgpID0+IHtcbiAgICAgICAgY29uc3QgYWxyZWFkeVNob3duID0gbmV3IFNldCgpO1xuICAgICAgICByZXR1cm4gZ2V0TWVzc2FnZXMoaGlzdG9yeVZhbHVlcykubWFwKChtZXNzYWdlLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IG1lc3NhZ2UuaWQgPz8gaWR4O1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgY2hlY2twb2ludCB3aGVyZSB0aGUgbWVzc2FnZSB3YXMgc2VlblxuICAgICAgICAgICAgY29uc3QgZmlyc3RTZWVuU3RhdGUgPSBmaW5kTGFzdChoaXN0b3J5LmRhdGEgPz8gW10sIChzdGF0ZSkgPT4gZ2V0TWVzc2FnZXMoc3RhdGUudmFsdWVzKVxuICAgICAgICAgICAgICAgIC5tYXAoKG0sIGlkeCkgPT4gbS5pZCA/PyBpZHgpXG4gICAgICAgICAgICAgICAgLmluY2x1ZGVzKG1lc3NhZ2VJZCkpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2twb2ludElkID0gZmlyc3RTZWVuU3RhdGU/LmNoZWNrcG9pbnQ/LmNoZWNrcG9pbnRfaWQ7XG4gICAgICAgICAgICBsZXQgYnJhbmNoID0gY2hlY2twb2ludElkICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IGJyYW5jaENvbnRleHQuYnJhbmNoQnlDaGVja3BvaW50W2NoZWNrcG9pbnRJZF1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghYnJhbmNoPy5icmFuY2g/Lmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmFuY2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBzZXJpYWxpemUgYnJhbmNoZXNcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNTaG93biA9IGJyYW5jaD8uYnJhbmNoT3B0aW9ucz8uZmxhdCgyKS5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zU2hvd24pIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeVNob3duLmhhcyhvcHRpb25zU2hvd24pKVxuICAgICAgICAgICAgICAgICAgICBicmFuY2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYWxyZWFkeVNob3duLmFkZChvcHRpb25zU2hvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGZpcnN0U2VlblN0YXRlLFxuICAgICAgICAgICAgICAgIGJyYW5jaDogYnJhbmNoPy5icmFuY2gsXG4gICAgICAgICAgICAgICAgYnJhbmNoT3B0aW9uczogYnJhbmNoPy5icmFuY2hPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSkoKTtcbiAgICBjb25zdCBzdG9wID0gKCkgPT4gc3RyZWFtLnN0b3AoaGlzdG9yeVZhbHVlcywgeyBvblN0b3A6IG9wdGlvbnMub25TdG9wIH0pO1xuICAgIC8vIC0tLSBUUkFOU1BPUlQgLS0tXG4gICAgY29uc3Qgc3VibWl0ID0gYXN5bmMgKHZhbHVlcywgc3VibWl0T3B0aW9ucykgPT4ge1xuICAgICAgICAvLyBVbmJyYW5jaCB0aGluZ3NcbiAgICAgICAgY29uc3QgY2hlY2twb2ludElkID0gc3VibWl0T3B0aW9ucz8uY2hlY2twb2ludD8uY2hlY2twb2ludF9pZDtcbiAgICAgICAgc2V0QnJhbmNoKGNoZWNrcG9pbnRJZCAhPSBudWxsXG4gICAgICAgICAgICA/IGJyYW5jaENvbnRleHQuYnJhbmNoQnlDaGVja3BvaW50W2NoZWNrcG9pbnRJZF0/LmJyYW5jaCA/PyBcIlwiXG4gICAgICAgICAgICA6IFwiXCIpO1xuICAgICAgICBzdHJlYW0uc2V0U3RyZWFtVmFsdWVzKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJtaXRPcHRpb25zPy5vcHRpbWlzdGljVmFsdWVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5oaXN0b3J5VmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAuLi4odHlwZW9mIHN1Ym1pdE9wdGlvbnMub3B0aW1pc3RpY1ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN1Ym1pdE9wdGlvbnMub3B0aW1pc3RpY1ZhbHVlcyhoaXN0b3J5VmFsdWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdWJtaXRPcHRpb25zLm9wdGltaXN0aWNWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5oaXN0b3J5VmFsdWVzIH07XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXaGVuIGBmZXRjaFN0YXRlSGlzdG9yeWAgaXMgcmVxdWVzdGVkLCB0aHVzIHdlIGFzc3VtZSB0aGF0IGJyYW5jaGluZ1xuICAgICAgICAvLyBpcyBlbmFibGVkLiBXZSB0aGVuIG5lZWQgdG8gaW5jbHVkZSB0aGUgaW1wbGljaXQgYnJhbmNoLlxuICAgICAgICBjb25zdCBpbmNsdWRlSW1wbGljaXRCcmFuY2ggPSBoaXN0b3J5TGltaXQgPT09IHRydWUgfHwgdHlwZW9mIGhpc3RvcnlMaW1pdCA9PT0gXCJudW1iZXJcIjtcbiAgICAgICAgbGV0IGNhbGxiYWNrTWV0YTtcbiAgICAgICAgbGV0IHJlam9pbktleTtcbiAgICAgICAgbGV0IHVzYWJsZVRocmVhZElkID0gdGhyZWFkSWQ7XG4gICAgICAgIGF3YWl0IHN0cmVhbS5zdGFydChhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXVzYWJsZVRocmVhZElkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhyZWFkID0gYXdhaXQgY2xpZW50LnRocmVhZHMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkSWQ6IHN1Ym1pdE9wdGlvbnM/LnRocmVhZElkLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3VibWl0T3B0aW9ucz8ubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb25UaHJlYWRJZCh0aHJlYWQudGhyZWFkX2lkKTtcbiAgICAgICAgICAgICAgICB1c2FibGVUaHJlYWRJZCA9IHRocmVhZC50aHJlYWRfaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXVzYWJsZVRocmVhZElkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIG9idGFpbiB2YWxpZCB0aHJlYWQgSUQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtTW9kZSA9IHVuaXF1ZShbXG4gICAgICAgICAgICAgICAgLi4uKHN1Ym1pdE9wdGlvbnM/LnN0cmVhbU1vZGUgPz8gW10pLFxuICAgICAgICAgICAgICAgIC4uLnRyYWNrU3RyZWFtTW9kZVJlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIC4uLmNhbGxiYWNrU3RyZWFtTW9kZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbGV0IGNoZWNrcG9pbnQgPSBzdWJtaXRPcHRpb25zPy5jaGVja3BvaW50ID8/XG4gICAgICAgICAgICAgICAgKGluY2x1ZGVJbXBsaWNpdEJyYW5jaFxuICAgICAgICAgICAgICAgICAgICA/IGJyYW5jaENvbnRleHQudGhyZWFkSGVhZD8uY2hlY2twb2ludFxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCkgPz9cbiAgICAgICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBBdm9pZCBzcGVjaWZ5aW5nIGEgY2hlY2twb2ludCBpZiB1c2VyIGV4cGxpY2l0bHkgc2V0IGl0IHRvIG51bGxcbiAgICAgICAgICAgIGlmIChzdWJtaXRPcHRpb25zPy5jaGVja3BvaW50ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGNoZWNrcG9pbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBpZiAoY2hlY2twb2ludCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjaGVja3BvaW50LnRocmVhZF9pZDtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbVJlc3VtYWJsZSA9IHN1Ym1pdE9wdGlvbnM/LnN0cmVhbVJlc3VtYWJsZSA/PyAhIXJ1bk1ldGFkYXRhU3RvcmFnZTtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQucnVucy5zdHJlYW0odXNhYmxlVGhyZWFkSWQsIG9wdGlvbnMuYXNzaXN0YW50SWQsIHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdmFsdWVzLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogc3VibWl0T3B0aW9ucz8uY29uZmlnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN1Ym1pdE9wdGlvbnM/LmNvbnRleHQsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogc3VibWl0T3B0aW9ucz8uY29tbWFuZCxcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRCZWZvcmU6IHN1Ym1pdE9wdGlvbnM/LmludGVycnVwdEJlZm9yZSxcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRBZnRlcjogc3VibWl0T3B0aW9ucz8uaW50ZXJydXB0QWZ0ZXIsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHN1Ym1pdE9wdGlvbnM/Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIG11bHRpdGFza1N0cmF0ZWd5OiBzdWJtaXRPcHRpb25zPy5tdWx0aXRhc2tTdHJhdGVneSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRpb246IHN1Ym1pdE9wdGlvbnM/Lm9uQ29tcGxldGlvbixcbiAgICAgICAgICAgICAgICBvbkRpc2Nvbm5lY3Q6IHN1Ym1pdE9wdGlvbnM/Lm9uRGlzY29ubmVjdCA/P1xuICAgICAgICAgICAgICAgICAgICAoc3RyZWFtUmVzdW1hYmxlID8gXCJjb250aW51ZVwiIDogXCJjYW5jZWxcIiksXG4gICAgICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgICAgIGNoZWNrcG9pbnQsXG4gICAgICAgICAgICAgICAgc3RyZWFtTW9kZSxcbiAgICAgICAgICAgICAgICBzdHJlYW1TdWJncmFwaHM6IHN1Ym1pdE9wdGlvbnM/LnN0cmVhbVN1YmdyYXBocyxcbiAgICAgICAgICAgICAgICBzdHJlYW1SZXN1bWFibGUsXG4gICAgICAgICAgICAgICAgZHVyYWJpbGl0eTogc3VibWl0T3B0aW9ucz8uZHVyYWJpbGl0eSxcbiAgICAgICAgICAgICAgICBvblJ1bkNyZWF0ZWQocGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrTWV0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9pZDogcGFyYW1zLnJ1bl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZF9pZDogcGFyYW1zLnRocmVhZF9pZCA/PyB1c2FibGVUaHJlYWRJZCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bk1ldGFkYXRhU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqb2luS2V5ID0gYGxnOnN0cmVhbToke3VzYWJsZVRocmVhZElkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5NZXRhZGF0YVN0b3JhZ2Uuc2V0SXRlbShyZWpvaW5LZXksIGNhbGxiYWNrTWV0YS5ydW5faWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DcmVhdGVkPy4oY2FsbGJhY2tNZXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGdldE1lc3NhZ2VzLFxuICAgICAgICAgICAgc2V0TWVzc2FnZXMsXG4gICAgICAgICAgICBpbml0aWFsVmFsdWVzOiBoaXN0b3J5VmFsdWVzLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBvcHRpb25zLFxuICAgICAgICAgICAgYXN5bmMgb25TdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWpvaW5LZXkpXG4gICAgICAgICAgICAgICAgICAgIHJ1bk1ldGFkYXRhU3RvcmFnZT8ucmVtb3ZlSXRlbShyZWpvaW5LZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlZmV0Y2ggPSBcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSBleHBlY3RpbmcgdGhlIHdob2xlIHRocmVhZCBzdGF0ZSBpbiBvbkZpbmlzaFxuICAgICAgICAgICAgICAgIG9wdGlvbnMub25GaW5pc2ggIT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSdyZSBmZXRjaGluZyBoaXN0b3J5LCB0aHVzIHdlIG5lZWQgdGhlIGxhdGVzdCBjaGVja3BvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB3ZSdyZSBub3QgYWNjaWRlbnRhbGx5IHN1Ym1pdHRpbmcgdG8gYSB3cm9uZyBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZUltcGxpY2l0QnJhbmNoO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZWZldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0hpc3RvcnkgPSBhd2FpdCBoaXN0b3J5Lm11dGF0ZSh1c2FibGVUaHJlYWRJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RIZWFkID0gbmV3SGlzdG9yeS5hdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RIZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSB0aGUgbGF0ZXN0IHVwZGF0ZSBmcm9tIC9oaXN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaHVzIHdlIGNhbiBjbGVhciB0aGUgbG9jYWwgc3RyZWFtIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRmluaXNoPy4obGFzdEhlYWQsIGNhbGxiYWNrTWV0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3I/LihlcnJvciwgY2FsbGJhY2tNZXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgam9pblN0cmVhbSA9IGFzeW5jIChydW5JZCwgbGFzdEV2ZW50SWQsIGpvaW5PcHRpb25zKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBsYXN0RXZlbnRJZCA/Pz0gXCItMVwiO1xuICAgICAgICBpZiAoIXRocmVhZElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjYWxsYmFja01ldGEgPSB7XG4gICAgICAgICAgICB0aHJlYWRfaWQ6IHRocmVhZElkLFxuICAgICAgICAgICAgcnVuX2lkOiBydW5JZCxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgc3RyZWFtLnN0YXJ0KGFzeW5jIChzaWduYWwpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQucnVucy5qb2luU3RyZWFtKHRocmVhZElkLCBydW5JZCwge1xuICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICBsYXN0RXZlbnRJZCxcbiAgICAgICAgICAgICAgICBzdHJlYW1Nb2RlOiBqb2luT3B0aW9ucz8uc3RyZWFtTW9kZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBnZXRNZXNzYWdlcyxcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzLFxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlczogaGlzdG9yeVZhbHVlcyxcbiAgICAgICAgICAgIGNhbGxiYWNrczogb3B0aW9ucyxcbiAgICAgICAgICAgIGFzeW5jIG9uU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBydW5NZXRhZGF0YVN0b3JhZ2U/LnJlbW92ZUl0ZW0oYGxnOnN0cmVhbToke3RocmVhZElkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0hpc3RvcnkgPSBhd2FpdCBoaXN0b3J5Lm11dGF0ZSh0aHJlYWRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEhlYWQgPSBuZXdIaXN0b3J5LmF0KDApO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SGVhZClcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkZpbmlzaD8uKGxhc3RIZWFkLCBjYWxsYmFja01ldGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3I/LihlcnJvciwgY2FsbGJhY2tNZXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmVjb25uZWN0S2V5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghcnVuTWV0YWRhdGFTdG9yYWdlIHx8IHN0cmVhbS5pc0xvYWRpbmcpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJ1bklkID0gcnVuTWV0YWRhdGFTdG9yYWdlPy5nZXRJdGVtKGBsZzpzdHJlYW06JHt0aHJlYWRJZH1gKTtcbiAgICAgICAgaWYgKCFydW5JZClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB7IHJ1bklkLCB0aHJlYWRJZCB9O1xuICAgIH0sIFtydW5NZXRhZGF0YVN0b3JhZ2UsIHN0cmVhbS5pc0xvYWRpbmcsIHRocmVhZElkXSk7XG4gICAgY29uc3Qgc2hvdWxkUmVjb25uZWN0ID0gISFydW5NZXRhZGF0YVN0b3JhZ2U7XG4gICAgY29uc3QgcmVjb25uZWN0UmVmID0gdXNlUmVmKHsgdGhyZWFkSWQsIHNob3VsZFJlY29ubmVjdCB9KTtcbiAgICBjb25zdCBqb2luU3RyZWFtUmVmID0gdXNlUmVmKGpvaW5TdHJlYW0pO1xuICAgIGpvaW5TdHJlYW1SZWYuY3VycmVudCA9IGpvaW5TdHJlYW07XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gcmVzZXQgc2hvdWxkUmVjb25uZWN0IHdoZW4gc3dpdGNoaW5nIHRocmVhZHNcbiAgICAgICAgaWYgKHJlY29ubmVjdFJlZi5jdXJyZW50LnRocmVhZElkICE9PSB0aHJlYWRJZCkge1xuICAgICAgICAgICAgcmVjb25uZWN0UmVmLmN1cnJlbnQgPSB7IHRocmVhZElkLCBzaG91bGRSZWNvbm5lY3QgfTtcbiAgICAgICAgfVxuICAgIH0sIFt0aHJlYWRJZCwgc2hvdWxkUmVjb25uZWN0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHJlY29ubmVjdEtleSAmJiByZWNvbm5lY3RSZWYuY3VycmVudC5zaG91bGRSZWNvbm5lY3QpIHtcbiAgICAgICAgICAgIHJlY29ubmVjdFJlZi5jdXJyZW50LnNob3VsZFJlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgdm9pZCBqb2luU3RyZWFtUmVmLmN1cnJlbnQ/LihyZWNvbm5lY3RLZXkucnVuSWQpO1xuICAgICAgICB9XG4gICAgfSwgW3JlY29ubmVjdEtleV0pO1xuICAgIC8vIC0tLSBFTkQgVFJBTlNQT1JUIC0tLVxuICAgIGNvbnN0IGVycm9yID0gc3RyZWFtLmVycm9yID8/IGhpc3RvcnlFcnJvciA/PyBoaXN0b3J5LmVycm9yO1xuICAgIGNvbnN0IHZhbHVlcyA9IHN0cmVhbS52YWx1ZXMgPz8gaGlzdG9yeVZhbHVlcztcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdmFsdWVzKCkge1xuICAgICAgICAgICAgdHJhY2tTdHJlYW1Nb2RlKFwidmFsdWVzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfSxcbiAgICAgICAgY2xpZW50LFxuICAgICAgICBhc3Npc3RhbnRJZDogb3B0aW9ucy5hc3Npc3RhbnRJZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGlzTG9hZGluZzogc3RyZWFtLmlzTG9hZGluZyxcbiAgICAgICAgc3RvcCxcbiAgICAgICAgc3VibWl0LFxuICAgICAgICBqb2luU3RyZWFtLFxuICAgICAgICBicmFuY2gsXG4gICAgICAgIHNldEJyYW5jaCxcbiAgICAgICAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgICAgICAgICBpZiAoaGlzdG9yeUxpbWl0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBmZXRjaFN0YXRlSGlzdG9yeWAgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIHVzZSBgaGlzdG9yeWBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnJhbmNoQ29udGV4dC5mbGF0SGlzdG9yeTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNUaHJlYWRMb2FkaW5nOiBoaXN0b3J5LmlzTG9hZGluZyAmJiBoaXN0b3J5LmRhdGEgPT0gbnVsbCxcbiAgICAgICAgZ2V0IGV4cGVyaW1lbnRhbF9icmFuY2hUcmVlKCkge1xuICAgICAgICAgICAgaWYgKGhpc3RvcnlMaW1pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZmV0Y2hTdGF0ZUhpc3RvcnlgIG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byB1c2UgYGV4cGVyaW1lbnRhbF9icmFuY2hUcmVlYFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBicmFuY2hDb250ZXh0LmJyYW5jaFRyZWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBpbnRlcnJ1cHQoKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBzaG93IHRoZSBpbnRlcnJ1cHQgaWYgdGhlIHN0cmVhbSBpcyBsb2FkaW5nXG4gICAgICAgICAgICBpZiAoc3RyZWFtLmlzTG9hZGluZylcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJydXB0cyA9IGJyYW5jaENvbnRleHQudGhyZWFkSGVhZD8udGFza3M/LmF0KC0xKT8uaW50ZXJydXB0cztcbiAgICAgICAgICAgIGlmIChpbnRlcnJ1cHRzID09IG51bGwgfHwgaW50ZXJydXB0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGEgbmV4dCB0YXNrIHByZXNlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYnJhbmNoQ29udGV4dC50aHJlYWRIZWFkPy5uZXh0ID8/IFtdO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dC5sZW5ndGggfHwgZXJyb3IgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aGVuOiBcImJyZWFrcG9pbnRcIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0dXJuIG9ubHkgdGhlIGN1cnJlbnQgaW50ZXJydXB0XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJydXB0cy5hdCgtMSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBtZXNzYWdlcygpIHtcbiAgICAgICAgICAgIHRyYWNrU3RyZWFtTW9kZShcIm1lc3NhZ2VzLXR1cGxlXCIsIFwidmFsdWVzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGdldE1lc3NhZ2VzKHZhbHVlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE1lc3NhZ2VzTWV0YWRhdGEobWVzc2FnZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHRyYWNrU3RyZWFtTW9kZShcInZhbHVlc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbU1ldGFkYXRhID0gbWVzc2FnZU1hbmFnZXIuZ2V0KG1lc3NhZ2UuaWQpPy5tZXRhZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGhpc3RvcnlNZXRhZGF0YSA9IG1lc3NhZ2VNZXRhZGF0YT8uZmluZCgobSkgPT4gbS5tZXNzYWdlSWQgPT09IChtZXNzYWdlLmlkID8/IGluZGV4KSk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtTWV0YWRhdGEgIT0gbnVsbCB8fCBoaXN0b3J5TWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmhpc3RvcnlNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZVN5bmNFeHRlcm5hbFN0b3JlIiwiZmluZExhc3QiLCJ1bmlxdWUiLCJTdHJlYW1FcnJvciIsImdldEJyYW5jaENvbnRleHQiLCJTdHJlYW1NYW5hZ2VyIiwiQ2xpZW50IiwiZ2V0Q2xpZW50Q29uZmlnSGFzaCIsIk1lc3NhZ2VUdXBsZU1hbmFnZXIiLCJmZXRjaEhpc3RvcnkiLCJjbGllbnQiLCJ0aHJlYWRJZCIsIm9wdGlvbnMiLCJsaW1pdCIsInRocmVhZHMiLCJnZXRTdGF0ZSIsInRoZW4iLCJzdGF0ZSIsImNoZWNrcG9pbnQiLCJnZXRIaXN0b3J5IiwidXNlVGhyZWFkSGlzdG9yeSIsImNsZWFyQ2FsbGJhY2tSZWYiLCJzdWJtaXR0aW5nUmVmIiwib25FcnJvclJlZiIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwidW5kZWZpbmVkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNsaWVudEhhc2giLCJjbGllbnRSZWYiLCJjdXJyZW50IiwiZmV0Y2hlciIsIlByb21pc2UiLCJyZWplY3QiLCJmaW5hbGx5IiwicmVzb2x2ZSIsImRhdGEiLCJtdXRhdGUiLCJtdXRhdGVJZCIsInVzZUNvbnRyb2xsYWJsZVRocmVhZElkIiwibG9jYWxUaHJlYWRJZCIsIl9zZXRMb2NhbFRocmVhZElkIiwib25UaHJlYWRJZFJlZiIsIm9uVGhyZWFkSWQiLCJ1c2VTdHJlYW0iLCJyZWNvbm5lY3RPbk1vdW50UmVmIiwicmVjb25uZWN0T25Nb3VudCIsInJ1bk1ldGFkYXRhU3RvcmFnZSIsInN0b3JhZ2UiLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsImFwaVVybCIsImFwaUtleSIsImNhbGxlck9wdGlvbnMiLCJkZWZhdWx0SGVhZGVycyIsIm1lc3NhZ2VNYW5hZ2VyIiwic3RyZWFtIiwic3Vic2NyaWJlIiwiZ2V0U25hcHNob3QiLCJ0cmFja1N0cmVhbU1vZGVSZWYiLCJ0cmFja1N0cmVhbU1vZGUiLCJtb2RlIiwicmVmIiwibSIsImluY2x1ZGVzIiwicHVzaCIsImhhc1VwZGF0ZUxpc3RlbmVyIiwib25VcGRhdGVFdmVudCIsImhhc0N1c3RvbUxpc3RlbmVyIiwib25DdXN0b21FdmVudCIsImhhc0xhbmdDaGFpbkxpc3RlbmVyIiwib25MYW5nQ2hhaW5FdmVudCIsImhhc0RlYnVnTGlzdGVuZXIiLCJvbkRlYnVnRXZlbnQiLCJoYXNDaGVja3BvaW50TGlzdGVuZXIiLCJvbkNoZWNrcG9pbnRFdmVudCIsImhhc1Rhc2tMaXN0ZW5lciIsIm9uVGFza0V2ZW50IiwiY2FsbGJhY2tTdHJlYW1Nb2RlIiwibW9kZXMiLCJjbGVhciIsIm9uRXJyb3IiLCJoaXN0b3J5TGltaXQiLCJmZXRjaFN0YXRlSGlzdG9yeSIsImdldE1lc3NhZ2VzIiwidmFsdWUiLCJtZXNzYWdlc0tleSIsIkFycmF5IiwiaXNBcnJheSIsInNldE1lc3NhZ2VzIiwibWVzc2FnZXMiLCJicmFuY2giLCJzZXRCcmFuY2giLCJicmFuY2hDb250ZXh0IiwiaGlzdG9yeVZhbHVlcyIsInRocmVhZEhlYWQiLCJ2YWx1ZXMiLCJpbml0aWFsVmFsdWVzIiwiaGlzdG9yeUVycm9yIiwidGFza3MiLCJhdCIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImlzU3RydWN0dXJlZEVycm9yIiwibWVzc2FnZU1ldGFkYXRhIiwiYWxyZWFkeVNob3duIiwiU2V0IiwibWFwIiwibWVzc2FnZSIsImlkeCIsIm1lc3NhZ2VJZCIsImlkIiwiZmlyc3RTZWVuU3RhdGUiLCJjaGVja3BvaW50SWQiLCJjaGVja3BvaW50X2lkIiwiYnJhbmNoQnlDaGVja3BvaW50IiwibGVuZ3RoIiwib3B0aW9uc1Nob3duIiwiYnJhbmNoT3B0aW9ucyIsImZsYXQiLCJqb2luIiwiaGFzIiwiYWRkIiwidG9TdHJpbmciLCJzdG9wIiwib25TdG9wIiwic3VibWl0Iiwic3VibWl0T3B0aW9ucyIsInNldFN0cmVhbVZhbHVlcyIsIm9wdGltaXN0aWNWYWx1ZXMiLCJpbmNsdWRlSW1wbGljaXRCcmFuY2giLCJjYWxsYmFja01ldGEiLCJyZWpvaW5LZXkiLCJ1c2FibGVUaHJlYWRJZCIsInN0YXJ0Iiwic2lnbmFsIiwidGhyZWFkIiwiY3JlYXRlIiwibWV0YWRhdGEiLCJ0aHJlYWRfaWQiLCJFcnJvciIsInN0cmVhbU1vZGUiLCJzdHJlYW1SZXN1bWFibGUiLCJydW5zIiwiYXNzaXN0YW50SWQiLCJpbnB1dCIsImNvbmZpZyIsImNvbnRleHQiLCJjb21tYW5kIiwiaW50ZXJydXB0QmVmb3JlIiwiaW50ZXJydXB0QWZ0ZXIiLCJtdWx0aXRhc2tTdHJhdGVneSIsIm9uQ29tcGxldGlvbiIsIm9uRGlzY29ubmVjdCIsInN0cmVhbVN1YmdyYXBocyIsImR1cmFiaWxpdHkiLCJvblJ1bkNyZWF0ZWQiLCJwYXJhbXMiLCJydW5faWQiLCJzZXRJdGVtIiwib25DcmVhdGVkIiwiY2FsbGJhY2tzIiwib25TdWNjZXNzIiwicmVtb3ZlSXRlbSIsInNob3VsZFJlZmV0Y2giLCJvbkZpbmlzaCIsIm5ld0hpc3RvcnkiLCJsYXN0SGVhZCIsImpvaW5TdHJlYW0iLCJydW5JZCIsImxhc3RFdmVudElkIiwiam9pbk9wdGlvbnMiLCJyZWNvbm5lY3RLZXkiLCJnZXRJdGVtIiwic2hvdWxkUmVjb25uZWN0IiwicmVjb25uZWN0UmVmIiwiam9pblN0cmVhbVJlZiIsImZsYXRIaXN0b3J5IiwiaXNUaHJlYWRMb2FkaW5nIiwiZXhwZXJpbWVudGFsX2JyYW5jaFRyZWUiLCJicmFuY2hUcmVlIiwiaW50ZXJydXB0IiwiaW50ZXJydXB0cyIsIm5leHQiLCJ3aGVuIiwiZ2V0TWVzc2FnZXNNZXRhZGF0YSIsImluZGV4Iiwic3RyZWFtTWV0YWRhdGEiLCJnZXQiLCJoaXN0b3J5TWV0YWRhdGEiLCJmaW5kIl0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/utils.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/utils.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findLast: () => (/* binding */ findLast),\n/* harmony export */   unique: () => (/* binding */ unique)\n/* harmony export */ });\nfunction unique(array) {\n    return [...new Set(array)];\n}\nfunction findLast(array, predicate) {\n    for (let i = array.length - 1; i >= 0; i -= 1) {\n        if (predicate(array[i]))\n            return array[i];\n    }\n    return undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9yZWFjdC91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KGFycmF5KV07XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZExhc3QoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2ldKSlcbiAgICAgICAgICAgIHJldHVybiBhcnJheVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/singletons/fetch.js":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/singletons/fetch.js ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _getFetchImplementation: () => (/* binding */ _getFetchImplementation),\n/* harmony export */   overrideFetchImplementation: () => (/* binding */ overrideFetchImplementation)\n/* harmony export */ });\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Wrap the default fetch call due to issues with illegal invocations\n// in some environments:\n// https://stackoverflow.com/questions/69876859/why-does-bind-fix-failed-to-execute-fetch-on-window-illegal-invocation-err\n// @ts-expect-error Broad typing to support a range of fetch implementations\nconst DEFAULT_FETCH_IMPLEMENTATION = (...args) => fetch(...args);\nconst LANGSMITH_FETCH_IMPLEMENTATION_KEY = Symbol.for(\"lg:fetch_implementation\");\n/**\n * Overrides the fetch implementation used for LangSmith calls.\n * You should use this if you need to use an implementation of fetch\n * other than the default global (e.g. for dealing with proxies).\n * @param fetch The new fetch function to use.\n */\nconst overrideFetchImplementation = (fetch) => {\n    globalThis[LANGSMITH_FETCH_IMPLEMENTATION_KEY] = fetch;\n};\n/**\n * @internal\n */\nconst _getFetchImplementation = () => {\n    return (globalThis[LANGSMITH_FETCH_IMPLEMENTATION_KEY] ??\n        DEFAULT_FETCH_IMPLEMENTATION);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9zaW5nbGV0b25zL2ZldGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC9zaW5nbGV0b25zL2ZldGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8vIFdyYXAgdGhlIGRlZmF1bHQgZmV0Y2ggY2FsbCBkdWUgdG8gaXNzdWVzIHdpdGggaWxsZWdhbCBpbnZvY2F0aW9uc1xuLy8gaW4gc29tZSBlbnZpcm9ubWVudHM6XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82OTg3Njg1OS93aHktZG9lcy1iaW5kLWZpeC1mYWlsZWQtdG8tZXhlY3V0ZS1mZXRjaC1vbi13aW5kb3ctaWxsZWdhbC1pbnZvY2F0aW9uLWVyclxuLy8gQHRzLWV4cGVjdC1lcnJvciBCcm9hZCB0eXBpbmcgdG8gc3VwcG9ydCBhIHJhbmdlIG9mIGZldGNoIGltcGxlbWVudGF0aW9uc1xuY29uc3QgREVGQVVMVF9GRVRDSF9JTVBMRU1FTlRBVElPTiA9ICguLi5hcmdzKSA9PiBmZXRjaCguLi5hcmdzKTtcbmNvbnN0IExBTkdTTUlUSF9GRVRDSF9JTVBMRU1FTlRBVElPTl9LRVkgPSBTeW1ib2wuZm9yKFwibGc6ZmV0Y2hfaW1wbGVtZW50YXRpb25cIik7XG4vKipcbiAqIE92ZXJyaWRlcyB0aGUgZmV0Y2ggaW1wbGVtZW50YXRpb24gdXNlZCBmb3IgTGFuZ1NtaXRoIGNhbGxzLlxuICogWW91IHNob3VsZCB1c2UgdGhpcyBpZiB5b3UgbmVlZCB0byB1c2UgYW4gaW1wbGVtZW50YXRpb24gb2YgZmV0Y2hcbiAqIG90aGVyIHRoYW4gdGhlIGRlZmF1bHQgZ2xvYmFsIChlLmcuIGZvciBkZWFsaW5nIHdpdGggcHJveGllcykuXG4gKiBAcGFyYW0gZmV0Y2ggVGhlIG5ldyBmZXRjaCBmdW5jdGlvbiB0byB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBvdmVycmlkZUZldGNoSW1wbGVtZW50YXRpb24gPSAoZmV0Y2gpID0+IHtcbiAgICBnbG9iYWxUaGlzW0xBTkdTTUlUSF9GRVRDSF9JTVBMRU1FTlRBVElPTl9LRVldID0gZmV0Y2g7XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF9nZXRGZXRjaEltcGxlbWVudGF0aW9uID0gKCkgPT4ge1xuICAgIHJldHVybiAoZ2xvYmFsVGhpc1tMQU5HU01JVEhfRkVUQ0hfSU1QTEVNRU5UQVRJT05fS0VZXSA/P1xuICAgICAgICBERUZBVUxUX0ZFVENIX0lNUExFTUVOVEFUSU9OKTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/singletons/fetch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/async_caller.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/async_caller.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCaller: () => (/* binding */ AsyncCaller)\n/* harmony export */ });\n/* harmony import */ var p_retry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! p-retry */ \"(ssr)/./node_modules/.pnpm/p-retry@4.6.2/node_modules/p-retry/index.js\");\n/* harmony import */ var p_queue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! p-queue */ \"(ssr)/./node_modules/.pnpm/p-queue@6.6.2/node_modules/p-queue/dist/index.js\");\n/* harmony import */ var _singletons_fetch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../singletons/fetch.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/singletons/fetch.js\");\n\n\n\nconst STATUS_NO_RETRY = [\n    400, // Bad Request\n    401, // Unauthorized\n    402, // Payment required\n    403, // Forbidden\n    404, // Not Found\n    405, // Method Not Allowed\n    406, // Not Acceptable\n    407, // Proxy Authentication Required\n    408, // Request Timeout\n    409, // Conflict\n    422, // Unprocessable Entity\n];\n/**\n * Do not rely on globalThis.Response, rather just\n * do duck typing\n */\nfunction isResponse(x) {\n    if (x == null || typeof x !== \"object\")\n        return false;\n    return \"status\" in x && \"statusText\" in x && \"text\" in x;\n}\n/**\n * Utility error to properly handle failed requests\n */\nclass HTTPError extends Error {\n    constructor(status, message, response) {\n        super(`HTTP ${status}: ${message}`);\n        Object.defineProperty(this, \"status\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"text\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.status = status;\n        this.text = message;\n        this.response = response;\n    }\n    static async fromResponse(response, options) {\n        try {\n            return new HTTPError(response.status, await response.text(), options?.includeResponse ? response : undefined);\n        }\n        catch {\n            return new HTTPError(response.status, response.statusText, options?.includeResponse ? response : undefined);\n        }\n    }\n}\n/**\n * A class that can be used to make async calls with concurrency and retry logic.\n *\n * This is useful for making calls to any kind of \"expensive\" external resource,\n * be it because it's rate-limited, subject to network issues, etc.\n *\n * Concurrent calls are limited by the `maxConcurrency` parameter, which defaults\n * to `Infinity`. This means that by default, all calls will be made in parallel.\n *\n * Retries are limited by the `maxRetries` parameter, which defaults to 5. This\n * means that by default, each call will be retried up to 5 times, with an\n * exponential backoff between each attempt.\n */\nclass AsyncCaller {\n    constructor(params) {\n        Object.defineProperty(this, \"maxConcurrency\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"maxRetries\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"queue\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"onFailedResponseHook\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"customFetch\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxConcurrency = params.maxConcurrency ?? Infinity;\n        this.maxRetries = params.maxRetries ?? 4;\n        if ( true) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.queue = new p_queue__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                concurrency: this.maxConcurrency,\n            });\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.queue = new p_queue__WEBPACK_IMPORTED_MODULE_1__({ concurrency: this.maxConcurrency });\n        }\n        this.onFailedResponseHook = params?.onFailedResponseHook;\n        this.customFetch = params.fetch;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    call(callable, ...args) {\n        const { onFailedResponseHook } = this;\n        return this.queue.add(() => p_retry__WEBPACK_IMPORTED_MODULE_0__(() => callable(...args).catch(async (error) => {\n            // eslint-disable-next-line no-instanceof/no-instanceof\n            if (error instanceof Error) {\n                throw error;\n            }\n            else if (isResponse(error)) {\n                throw await HTTPError.fromResponse(error, {\n                    includeResponse: !!onFailedResponseHook,\n                });\n            }\n            else {\n                throw new Error(error);\n            }\n        }), {\n            async onFailedAttempt(error) {\n                if (error.message.startsWith(\"Cancel\") ||\n                    error.message.startsWith(\"TimeoutError\") ||\n                    error.message.startsWith(\"AbortError\")) {\n                    throw error;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (error?.code === \"ECONNABORTED\") {\n                    throw error;\n                }\n                // eslint-disable-next-line no-instanceof/no-instanceof\n                if (error instanceof HTTPError) {\n                    if (STATUS_NO_RETRY.includes(error.status)) {\n                        throw error;\n                    }\n                    if (onFailedResponseHook && error.response) {\n                        await onFailedResponseHook(error.response);\n                    }\n                }\n            },\n            // If needed we can change some of the defaults here,\n            // but they're quite sensible.\n            retries: this.maxRetries,\n            randomize: true,\n        }), { throwOnTimeout: true });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callWithOptions(options, callable, ...args) {\n        // Note this doesn't cancel the underlying request,\n        // when available prefer to use the signal option of the underlying call\n        if (options.signal) {\n            return Promise.race([\n                this.call(callable, ...args),\n                new Promise((_, reject) => {\n                    options.signal?.addEventListener(\"abort\", () => {\n                        reject(new Error(\"AbortError\"));\n                    });\n                }),\n            ]);\n        }\n        return this.call(callable, ...args);\n    }\n    fetch(...args) {\n        const fetchFn = this.customFetch ?? (0,_singletons_fetch_js__WEBPACK_IMPORTED_MODULE_2__._getFetchImplementation)();\n        return this.call(() => fetchFn(...args).then((res) => (res.ok ? res : Promise.reject(res))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9hc3luY19jYWxsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2QjtBQUNHO0FBQ2lDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixPQUFPLElBQUksUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsWUFBWSxLQUFzQjtBQUNsQztBQUNBLDZCQUE2QiwrQ0FBaUI7QUFDOUM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9DQUFTLEdBQUcsa0NBQWtDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkMsb0NBQW9DLG9DQUFNO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFLLHNCQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDZFQUF1QjtBQUNuRTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9ieXRlZGFuY2UvUHljaGFybVByb2plY3RzL215X2Jlc3QvbGFuZ2dyYXBoX3RlYWNoL2FnZW50X2NoYXRfdWkvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoLXNka0AwLjEuMF9AbGFuZ2NoYWluK2NvcmVAMC4zLjU2X29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RAMy4yNC40X19fcl9nNXZhYXl4N3NpNjUzaGxsZHVoZmQ1YmF2bS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrL2Rpc3QvdXRpbHMvYXN5bmNfY2FsbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcbmltcG9ydCB7IF9nZXRGZXRjaEltcGxlbWVudGF0aW9uIH0gZnJvbSBcIi4uL3NpbmdsZXRvbnMvZmV0Y2guanNcIjtcbmNvbnN0IFNUQVRVU19OT19SRVRSWSA9IFtcbiAgICA0MDAsIC8vIEJhZCBSZXF1ZXN0XG4gICAgNDAxLCAvLyBVbmF1dGhvcml6ZWRcbiAgICA0MDIsIC8vIFBheW1lbnQgcmVxdWlyZWRcbiAgICA0MDMsIC8vIEZvcmJpZGRlblxuICAgIDQwNCwgLy8gTm90IEZvdW5kXG4gICAgNDA1LCAvLyBNZXRob2QgTm90IEFsbG93ZWRcbiAgICA0MDYsIC8vIE5vdCBBY2NlcHRhYmxlXG4gICAgNDA3LCAvLyBQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFxuICAgIDQwOCwgLy8gUmVxdWVzdCBUaW1lb3V0XG4gICAgNDA5LCAvLyBDb25mbGljdFxuICAgIDQyMiwgLy8gVW5wcm9jZXNzYWJsZSBFbnRpdHlcbl07XG4vKipcbiAqIERvIG5vdCByZWx5IG9uIGdsb2JhbFRoaXMuUmVzcG9uc2UsIHJhdGhlciBqdXN0XG4gKiBkbyBkdWNrIHR5cGluZ1xuICovXG5mdW5jdGlvbiBpc1Jlc3BvbnNlKHgpIHtcbiAgICBpZiAoeCA9PSBudWxsIHx8IHR5cGVvZiB4ICE9PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIFwic3RhdHVzXCIgaW4geCAmJiBcInN0YXR1c1RleHRcIiBpbiB4ICYmIFwidGV4dFwiIGluIHg7XG59XG4vKipcbiAqIFV0aWxpdHkgZXJyb3IgdG8gcHJvcGVybHkgaGFuZGxlIGZhaWxlZCByZXF1ZXN0c1xuICovXG5jbGFzcyBIVFRQRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc3RhdHVzLCBtZXNzYWdlLCByZXNwb25zZSkge1xuICAgICAgICBzdXBlcihgSFRUUCAke3N0YXR1c306ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdHVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzcG9uc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMudGV4dCA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGZyb21SZXNwb25zZShyZXNwb25zZSwgb3B0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIVFRQRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBhd2FpdCByZXNwb25zZS50ZXh0KCksIG9wdGlvbnM/LmluY2x1ZGVSZXNwb25zZSA/IHJlc3BvbnNlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhUVFBFcnJvcihyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQsIG9wdGlvbnM/LmluY2x1ZGVSZXNwb25zZSA/IHJlc3BvbnNlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBjbGFzcyB0aGF0IGNhbiBiZSB1c2VkIHRvIG1ha2UgYXN5bmMgY2FsbHMgd2l0aCBjb25jdXJyZW5jeSBhbmQgcmV0cnkgbG9naWMuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIG1ha2luZyBjYWxscyB0byBhbnkga2luZCBvZiBcImV4cGVuc2l2ZVwiIGV4dGVybmFsIHJlc291cmNlLFxuICogYmUgaXQgYmVjYXVzZSBpdCdzIHJhdGUtbGltaXRlZCwgc3ViamVjdCB0byBuZXR3b3JrIGlzc3VlcywgZXRjLlxuICpcbiAqIENvbmN1cnJlbnQgY2FsbHMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhDb25jdXJyZW5jeWAgcGFyYW1ldGVyLCB3aGljaCBkZWZhdWx0c1xuICogdG8gYEluZmluaXR5YC4gVGhpcyBtZWFucyB0aGF0IGJ5IGRlZmF1bHQsIGFsbCBjYWxscyB3aWxsIGJlIG1hZGUgaW4gcGFyYWxsZWwuXG4gKlxuICogUmV0cmllcyBhcmUgbGltaXRlZCBieSB0aGUgYG1heFJldHJpZXNgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHMgdG8gNS4gVGhpc1xuICogbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBlYWNoIGNhbGwgd2lsbCBiZSByZXRyaWVkIHVwIHRvIDUgdGltZXMsIHdpdGggYW5cbiAqIGV4cG9uZW50aWFsIGJhY2tvZmYgYmV0d2VlbiBlYWNoIGF0dGVtcHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3luY0NhbGxlciB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heENvbmN1cnJlbmN5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFJldHJpZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicXVldWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25GYWlsZWRSZXNwb25zZUhvb2tcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3VzdG9tRmV0Y2hcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXhDb25jdXJyZW5jeSA9IHBhcmFtcy5tYXhDb25jdXJyZW5jeSA/PyBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gcGFyYW1zLm1heFJldHJpZXMgPz8gNDtcbiAgICAgICAgaWYgKFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHRoaXMucXVldWUgPSBuZXcgUFF1ZXVlTW9kLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgIGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBQUXVldWVNb2QoeyBjb25jdXJyZW5jeTogdGhpcy5tYXhDb25jdXJyZW5jeSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uRmFpbGVkUmVzcG9uc2VIb29rID0gcGFyYW1zPy5vbkZhaWxlZFJlc3BvbnNlSG9vaztcbiAgICAgICAgdGhpcy5jdXN0b21GZXRjaCA9IHBhcmFtcy5mZXRjaDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsKGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHsgb25GYWlsZWRSZXNwb25zZUhvb2sgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXVlLmFkZCgoKSA9PiBwUmV0cnkoKCkgPT4gY2FsbGFibGUoLi4uYXJncykuY2F0Y2goYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZXNwb25zZShlcnJvcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBhd2FpdCBIVFRQRXJyb3IuZnJvbVJlc3BvbnNlKGVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVSZXNwb25zZTogISFvbkZhaWxlZFJlc3BvbnNlSG9vayxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBhc3luYyBvbkZhaWxlZEF0dGVtcHQoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQ2FuY2VsXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIlRpbWVvdXRFcnJvclwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEhUVFBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKGVycm9yLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkZhaWxlZFJlc3BvbnNlSG9vayAmJiBlcnJvci5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25GYWlsZWRSZXNwb25zZUhvb2soZXJyb3IucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIElmIG5lZWRlZCB3ZSBjYW4gY2hhbmdlIHNvbWUgb2YgdGhlIGRlZmF1bHRzIGhlcmUsXG4gICAgICAgICAgICAvLyBidXQgdGhleSdyZSBxdWl0ZSBzZW5zaWJsZS5cbiAgICAgICAgICAgIHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgfSksIHsgdGhyb3dPblRpbWVvdXQ6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbFdpdGhPcHRpb25zKG9wdGlvbnMsIGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBkb2Vzbid0IGNhbmNlbCB0aGUgdW5kZXJseWluZyByZXF1ZXN0LFxuICAgICAgICAvLyB3aGVuIGF2YWlsYWJsZSBwcmVmZXIgdG8gdXNlIHRoZSBzaWduYWwgb3B0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNhbGxcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGZldGNoKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hGbiA9IHRoaXMuY3VzdG9tRmV0Y2ggPz8gX2dldEZldGNoSW1wbGVtZW50YXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaEZuKC4uLmFyZ3MpLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/async_caller.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/env.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/env.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEnvironmentVariable: () => (/* binding */ getEnvironmentVariable)\n/* harmony export */ });\nfunction getEnvironmentVariable(name) {\n    // Certain setups (Deno, frontend) will throw an error if you try to access environment variables\n    try {\n        return typeof process !== \"undefined\"\n            ? // eslint-disable-next-line no-process-env\n                process.env?.[name]\n            : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9lbnYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEVudmlyb25tZW50VmFyaWFibGUobmFtZSkge1xuICAgIC8vIENlcnRhaW4gc2V0dXBzIChEZW5vLCBmcm9udGVuZCkgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB5b3UgdHJ5IHRvIGFjY2VzcyBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnY/LltuYW1lXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/signals.js":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/signals.js ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeSignals: () => (/* binding */ mergeSignals)\n/* harmony export */ });\nfunction mergeSignals(...signals) {\n    const nonZeroSignals = signals.filter((signal) => signal != null);\n    if (nonZeroSignals.length === 0)\n        return undefined;\n    if (nonZeroSignals.length === 1)\n        return nonZeroSignals[0];\n    const controller = new AbortController();\n    for (const signal of signals) {\n        if (signal?.aborted) {\n            controller.abort(signal.reason);\n            return controller.signal;\n        }\n        signal?.addEventListener(\"abort\", () => controller.abort(signal.reason), {\n            once: true,\n        });\n    }\n    return controller.signal;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zaWduYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zaWduYWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBtZXJnZVNpZ25hbHMoLi4uc2lnbmFscykge1xuICAgIGNvbnN0IG5vblplcm9TaWduYWxzID0gc2lnbmFscy5maWx0ZXIoKHNpZ25hbCkgPT4gc2lnbmFsICE9IG51bGwpO1xuICAgIGlmIChub25aZXJvU2lnbmFscy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKG5vblplcm9TaWduYWxzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIG5vblplcm9TaWduYWxzWzBdO1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgZm9yIChjb25zdCBzaWduYWwgb2Ygc2lnbmFscykge1xuICAgICAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KHNpZ25hbC5yZWFzb24pO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoc2lnbmFsLnJlYXNvbiksIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJvbGxlci5zaWduYWw7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/signals.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/sse.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/sse.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BytesLineDecoder: () => (/* binding */ BytesLineDecoder),\n/* harmony export */   SSEDecoder: () => (/* binding */ SSEDecoder)\n/* harmony export */ });\nconst CR = \"\\r\".charCodeAt(0);\nconst LF = \"\\n\".charCodeAt(0);\nconst NULL = \"\\0\".charCodeAt(0);\nconst COLON = \":\".charCodeAt(0);\nconst SPACE = \" \".charCodeAt(0);\nconst TRAILING_NEWLINE = [CR, LF];\nfunction BytesLineDecoder() {\n    let buffer = [];\n    let trailingCr = false;\n    return new TransformStream({\n        start() {\n            buffer = [];\n            trailingCr = false;\n        },\n        transform(chunk, controller) {\n            // See https://docs.python.org/3/glossary.html#term-universal-newlines\n            let text = chunk;\n            // Handle trailing CR from previous chunk\n            if (trailingCr) {\n                text = joinArrays([[CR], text]);\n                trailingCr = false;\n            }\n            // Check for trailing CR in current chunk\n            if (text.length > 0 && text.at(-1) === CR) {\n                trailingCr = true;\n                text = text.subarray(0, -1);\n            }\n            if (!text.length)\n                return;\n            const trailingNewline = TRAILING_NEWLINE.includes(text.at(-1));\n            const lastIdx = text.length - 1;\n            const { lines } = text.reduce((acc, cur, idx) => {\n                if (acc.from > idx)\n                    return acc;\n                if (cur === CR || cur === LF) {\n                    acc.lines.push(text.subarray(acc.from, idx));\n                    if (cur === CR && text[idx + 1] === LF) {\n                        acc.from = idx + 2;\n                    }\n                    else {\n                        acc.from = idx + 1;\n                    }\n                }\n                if (idx === lastIdx && acc.from <= lastIdx) {\n                    acc.lines.push(text.subarray(acc.from));\n                }\n                return acc;\n            }, { lines: [], from: 0 });\n            if (lines.length === 1 && !trailingNewline) {\n                buffer.push(lines[0]);\n                return;\n            }\n            if (buffer.length) {\n                // Include existing buffer in first line\n                buffer.push(lines[0]);\n                lines[0] = joinArrays(buffer);\n                buffer = [];\n            }\n            if (!trailingNewline) {\n                // If the last segment is not newline terminated,\n                // buffer it for the next chunk\n                if (lines.length)\n                    buffer = [lines.pop()];\n            }\n            // Enqueue complete lines\n            for (const line of lines) {\n                controller.enqueue(line);\n            }\n        },\n        flush(controller) {\n            if (buffer.length) {\n                controller.enqueue(joinArrays(buffer));\n            }\n        },\n    });\n}\nfunction SSEDecoder() {\n    let event = \"\";\n    let data = [];\n    let lastEventId = \"\";\n    let retry = null;\n    const decoder = new TextDecoder();\n    return new TransformStream({\n        transform(chunk, controller) {\n            // Handle empty line case\n            if (!chunk.length) {\n                if (!event && !data.length && !lastEventId && retry == null)\n                    return;\n                const sse = {\n                    id: lastEventId || undefined,\n                    event,\n                    data: data.length ? decodeArraysToJson(decoder, data) : null,\n                };\n                // NOTE: as per the SSE spec, do not reset lastEventId\n                event = \"\";\n                data = [];\n                retry = null;\n                controller.enqueue(sse);\n                return;\n            }\n            // Ignore comments\n            if (chunk[0] === COLON)\n                return;\n            const sepIdx = chunk.indexOf(COLON);\n            if (sepIdx === -1)\n                return;\n            const fieldName = decoder.decode(chunk.subarray(0, sepIdx));\n            let value = chunk.subarray(sepIdx + 1);\n            if (value[0] === SPACE)\n                value = value.subarray(1);\n            if (fieldName === \"event\") {\n                event = decoder.decode(value);\n            }\n            else if (fieldName === \"data\") {\n                data.push(value);\n            }\n            else if (fieldName === \"id\") {\n                if (value.indexOf(NULL) === -1)\n                    lastEventId = decoder.decode(value);\n            }\n            else if (fieldName === \"retry\") {\n                const retryNum = Number.parseInt(decoder.decode(value), 10);\n                if (!Number.isNaN(retryNum))\n                    retry = retryNum;\n            }\n        },\n        flush(controller) {\n            if (event) {\n                controller.enqueue({\n                    id: lastEventId || undefined,\n                    event,\n                    data: data.length ? decodeArraysToJson(decoder, data) : null,\n                });\n            }\n        },\n    });\n}\nfunction joinArrays(data) {\n    const totalLength = data.reduce((acc, curr) => acc + curr.length, 0);\n    const merged = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const c of data) {\n        merged.set(c, offset);\n        offset += c.length;\n    }\n    return merged;\n}\nfunction decodeArraysToJson(decoder, data) {\n    return JSON.parse(decoder.decode(joinArrays(data)));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJLG9CQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQ1IgPSBcIlxcclwiLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBMRiA9IFwiXFxuXCIuY2hhckNvZGVBdCgwKTtcbmNvbnN0IE5VTEwgPSBcIlxcMFwiLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDT0xPTiA9IFwiOlwiLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTUEFDRSA9IFwiIFwiLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBUUkFJTElOR19ORVdMSU5FID0gW0NSLCBMRl07XG5leHBvcnQgZnVuY3Rpb24gQnl0ZXNMaW5lRGVjb2RlcigpIHtcbiAgICBsZXQgYnVmZmVyID0gW107XG4gICAgbGV0IHRyYWlsaW5nQ3IgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICB0cmFpbGluZ0NyID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZG9jcy5weXRob24ub3JnLzMvZ2xvc3NhcnkuaHRtbCN0ZXJtLXVuaXZlcnNhbC1uZXdsaW5lc1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjaHVuaztcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0cmFpbGluZyBDUiBmcm9tIHByZXZpb3VzIGNodW5rXG4gICAgICAgICAgICBpZiAodHJhaWxpbmdDcikge1xuICAgICAgICAgICAgICAgIHRleHQgPSBqb2luQXJyYXlzKFtbQ1JdLCB0ZXh0XSk7XG4gICAgICAgICAgICAgICAgdHJhaWxpbmdDciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRyYWlsaW5nIENSIGluIGN1cnJlbnQgY2h1bmtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDAgJiYgdGV4dC5hdCgtMSkgPT09IENSKSB7XG4gICAgICAgICAgICAgICAgdHJhaWxpbmdDciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3ViYXJyYXkoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0cmFpbGluZ05ld2xpbmUgPSBUUkFJTElOR19ORVdMSU5FLmluY2x1ZGVzKHRleHQuYXQoLTEpKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RJZHggPSB0ZXh0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb25zdCB7IGxpbmVzIH0gPSB0ZXh0LnJlZHVjZSgoYWNjLCBjdXIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhY2MuZnJvbSA+IGlkeClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICBpZiAoY3VyID09PSBDUiB8fCBjdXIgPT09IExGKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5saW5lcy5wdXNoKHRleHQuc3ViYXJyYXkoYWNjLmZyb20sIGlkeCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyID09PSBDUiAmJiB0ZXh0W2lkeCArIDFdID09PSBMRikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLmZyb20gPSBpZHggKyAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLmZyb20gPSBpZHggKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpZHggPT09IGxhc3RJZHggJiYgYWNjLmZyb20gPD0gbGFzdElkeCkge1xuICAgICAgICAgICAgICAgICAgICBhY2MubGluZXMucHVzaCh0ZXh0LnN1YmFycmF5KGFjYy5mcm9tKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7IGxpbmVzOiBbXSwgZnJvbTogMCB9KTtcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDEgJiYgIXRyYWlsaW5nTmV3bGluZSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGxpbmVzWzBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgZXhpc3RpbmcgYnVmZmVyIGluIGZpcnN0IGxpbmVcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChsaW5lc1swXSk7XG4gICAgICAgICAgICAgICAgbGluZXNbMF0gPSBqb2luQXJyYXlzKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRyYWlsaW5nTmV3bGluZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBsYXN0IHNlZ21lbnQgaXMgbm90IG5ld2xpbmUgdGVybWluYXRlZCxcbiAgICAgICAgICAgICAgICAvLyBidWZmZXIgaXQgZm9yIHRoZSBuZXh0IGNodW5rXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gW2xpbmVzLnBvcCgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVucXVldWUgY29tcGxldGUgbGluZXNcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoam9pbkFycmF5cyhidWZmZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBTU0VEZWNvZGVyKCkge1xuICAgIGxldCBldmVudCA9IFwiXCI7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBsZXQgbGFzdEV2ZW50SWQgPSBcIlwiO1xuICAgIGxldCByZXRyeSA9IG51bGw7XG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgZW1wdHkgbGluZSBjYXNlXG4gICAgICAgICAgICBpZiAoIWNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQgJiYgIWRhdGEubGVuZ3RoICYmICFsYXN0RXZlbnRJZCAmJiByZXRyeSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogbGFzdEV2ZW50SWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YS5sZW5ndGggPyBkZWNvZGVBcnJheXNUb0pzb24oZGVjb2RlciwgZGF0YSkgOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gTk9URTogYXMgcGVyIHRoZSBTU0Ugc3BlYywgZG8gbm90IHJlc2V0IGxhc3RFdmVudElkXG4gICAgICAgICAgICAgICAgZXZlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICByZXRyeSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHNzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWdub3JlIGNvbW1lbnRzXG4gICAgICAgICAgICBpZiAoY2h1bmtbMF0gPT09IENPTE9OKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNlcElkeCA9IGNodW5rLmluZGV4T2YoQ09MT04pO1xuICAgICAgICAgICAgaWYgKHNlcElkeCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gZGVjb2Rlci5kZWNvZGUoY2h1bmsuc3ViYXJyYXkoMCwgc2VwSWR4KSk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBjaHVuay5zdWJhcnJheShzZXBJZHggKyAxKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSA9PT0gU1BBQ0UpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJhcnJheSgxKTtcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUgPT09IFwiZXZlbnRcIikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmllbGROYW1lID09PSBcImRhdGFcIikge1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZE5hbWUgPT09IFwiaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKE5VTEwpID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZE5hbWUgPT09IFwicmV0cnlcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5TnVtID0gTnVtYmVyLnBhcnNlSW50KGRlY29kZXIuZGVjb2RlKHZhbHVlKSwgMTApO1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHJldHJ5TnVtKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0cnkgPSByZXRyeU51bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGxhc3RFdmVudElkIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEubGVuZ3RoID8gZGVjb2RlQXJyYXlzVG9Kc29uKGRlY29kZXIsIGRhdGEpIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGpvaW5BcnJheXMoZGF0YSkge1xuICAgIGNvbnN0IHRvdGFsTGVuZ3RoID0gZGF0YS5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjICsgY3Vyci5sZW5ndGgsIDApO1xuICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGNvbnN0IGMgb2YgZGF0YSkge1xuICAgICAgICBtZXJnZWQuc2V0KGMsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBjLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbmZ1bmN0aW9uIGRlY29kZUFycmF5c1RvSnNvbihkZWNvZGVyLCBkYXRhKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUoam9pbkFycmF5cyhkYXRhKSkpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/sse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/stream.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/stream.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IterableReadableStream: () => (/* binding */ IterableReadableStream)\n/* harmony export */ });\n/*\n * Support async iterator syntax for ReadableStreams in all environments.\n * Source: https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nclass IterableReadableStream extends ReadableStream {\n    constructor() {\n        super(...arguments);\n        Object.defineProperty(this, \"reader\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n    }\n    ensureReader() {\n        if (!this.reader) {\n            this.reader = this.getReader();\n        }\n    }\n    async next() {\n        this.ensureReader();\n        try {\n            const result = await this.reader.read();\n            if (result.done) {\n                this.reader.releaseLock(); // release lock when stream becomes closed\n                return {\n                    done: true,\n                    value: undefined,\n                };\n            }\n            else {\n                return {\n                    done: false,\n                    value: result.value,\n                };\n            }\n        }\n        catch (e) {\n            this.reader.releaseLock(); // release lock when stream becomes errored\n            throw e;\n        }\n    }\n    async return() {\n        this.ensureReader();\n        // If wrapped in a Node stream, cancel is already called.\n        if (this.locked) {\n            const cancelPromise = this.reader.cancel(); // cancel first, but don't await yet\n            this.reader.releaseLock(); // release lock first\n            await cancelPromise; // now await it\n        }\n        return { done: true, value: undefined };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async throw(e) {\n        this.ensureReader();\n        if (this.locked) {\n            const cancelPromise = this.reader.cancel(); // cancel first, but don't await yet\n            this.reader.releaseLock(); // release lock first\n            await cancelPromise; // now await it\n        }\n        throw e;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore Not present in Node 18 types, required in latest Node 22\n    async [Symbol.asyncDispose]() {\n        await this.return();\n    }\n    [Symbol.asyncIterator]() {\n        return this;\n    }\n    static fromReadableStream(stream) {\n        // From https://developer.mozilla.org/en-US/docs/Web/API/Streams_API/Using_readable_streams#reading_the_stream\n        const reader = stream.getReader();\n        return new IterableReadableStream({\n            start(controller) {\n                return pump();\n                function pump() {\n                    return reader.read().then(({ done, value }) => {\n                        // When no more data needs to be consumed, close the stream\n                        if (done) {\n                            controller.close();\n                            return;\n                        }\n                        // Enqueue the next data chunk into our target stream\n                        controller.enqueue(value);\n                        return pump();\n                    });\n                }\n            },\n            cancel() {\n                reader.releaseLock();\n            },\n        });\n    }\n    static fromAsyncGenerator(generator) {\n        return new IterableReadableStream({\n            async pull(controller) {\n                const { value, done } = await generator.next();\n                // When no more data needs to be consumed, close the stream\n                if (done) {\n                    controller.close();\n                }\n                // Fix: `else if (value)` will hang the streaming when nullish value (e.g. empty string) is pulled\n                controller.enqueue(value);\n            },\n            async cancel(reason) {\n                await generator.return(reason);\n            },\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hELHVDQUF1QztBQUN2QyxpQ0FBaUM7QUFDakM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RCx1Q0FBdUM7QUFDdkMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxhQUFhO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2J5dGVkYW5jZS9QeWNoYXJtUHJvamVjdHMvbXlfYmVzdC9sYW5nZ3JhcGhfdGVhY2gvYWdlbnRfY2hhdF91aS9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtc2RrQDAuMS4wX0BsYW5nY2hhaW4rY29yZUAwLjMuNTZfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEAzLjI0LjRfX19yX2c1dmFheXg3c2k2NTNobGxkdWhmZDViYXZtL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1zZGsvZGlzdC91dGlscy9zdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFN1cHBvcnQgYXN5bmMgaXRlcmF0b3Igc3ludGF4IGZvciBSZWFkYWJsZVN0cmVhbXMgaW4gYWxsIGVudmlyb25tZW50cy5cbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBjbGFzcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5zdXJlUmVhZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVSZWFkZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVJlYWRlcigpO1xuICAgICAgICAvLyBJZiB3cmFwcGVkIGluIGEgTm9kZSBzdHJlYW0sIGNhbmNlbCBpcyBhbHJlYWR5IGNhbGxlZC5cbiAgICAgICAgaWYgKHRoaXMubG9ja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7IC8vIGNhbmNlbCBmaXJzdCwgYnV0IGRvbid0IGF3YWl0IHlldFxuICAgICAgICAgICAgdGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIGZpcnN0XG4gICAgICAgICAgICBhd2FpdCBjYW5jZWxQcm9taXNlOyAvLyBub3cgYXdhaXQgaXRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgYXN5bmMgdGhyb3coZSkge1xuICAgICAgICB0aGlzLmVuc3VyZVJlYWRlcigpO1xuICAgICAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSB0aGlzLnJlYWRlci5jYW5jZWwoKTsgLy8gY2FuY2VsIGZpcnN0LCBidXQgZG9uJ3QgYXdhaXQgeWV0XG4gICAgICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgZmlyc3RcbiAgICAgICAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7IC8vIG5vdyBhd2FpdCBpdFxuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlIE5vdCBwcmVzZW50IGluIE5vZGUgMTggdHlwZXMsIHJlcXVpcmVkIGluIGxhdGVzdCBOb2RlIDIyXG4gICAgYXN5bmMgW1N5bWJvbC5hc3luY0Rpc3Bvc2VdKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJldHVybigpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3RyZWFtc19BUEkvVXNpbmdfcmVhZGFibGVfc3RyZWFtcyNyZWFkaW5nX3RoZV9zdHJlYW1cbiAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcHVtcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG5vIG1vcmUgZGF0YSBuZWVkcyB0byBiZSBjb25zdW1lZCwgY2xvc2UgdGhlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5xdWV1ZSB0aGUgbmV4dCBkYXRhIGNodW5rIGludG8gb3VyIHRhcmdldCBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsKCkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQXN5bmNHZW5lcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBnZW5lcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gbm8gbW9yZSBkYXRhIG5lZWRzIHRvIGJlIGNvbnN1bWVkLCBjbG9zZSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGaXg6IGBlbHNlIGlmICh2YWx1ZSlgIHdpbGwgaGFuZyB0aGUgc3RyZWFtaW5nIHdoZW4gbnVsbGlzaCB2YWx1ZSAoZS5nLiBlbXB0eSBzdHJpbmcpIGlzIHB1bGxlZFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgY2FuY2VsKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IGdlbmVyYXRvci5yZXR1cm4ocmVhc29uKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/utils/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/index.js":
/*!****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/index.js ***!
  \****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Client: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Client),
/* harmony export */   getApiKey: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.getApiKey),
/* harmony export */   overrideFetchImplementation: () => (/* reexport safe */ _dist_index_js__WEBPACK_IMPORTED_MODULE_0__.overrideFetchImplementation)
/* harmony export */ });
/* harmony import */ var _dist_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/index.js */ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/index.js");


/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/react-ui.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/react-ui.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoadExternalComponent: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.LoadExternalComponent),
/* harmony export */   experimental_loadShare: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.experimental_loadShare),
/* harmony export */   isRemoveUIMessage: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.isRemoveUIMessage),
/* harmony export */   isUIMessage: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.isUIMessage),
/* harmony export */   uiMessageReducer: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.uiMessageReducer),
/* harmony export */   useStreamContext: () => (/* reexport safe */ _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__.useStreamContext)
/* harmony export */ });
/* harmony import */ var _dist_react_ui_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/react-ui/index.js */ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react-ui/index.js");


/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/react.js":
/*!****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/react.js ***!
  \****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useStream: () => (/* reexport safe */ _dist_react_index_js__WEBPACK_IMPORTED_MODULE_0__.useStream)
/* harmony export */ });
/* harmony import */ var _dist_react_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/react/index.js */ "(ssr)/./node_modules/.pnpm/@langchain+langgraph-sdk@0.1.0_@langchain+core@0.3.56_openai@4.100.0_ws@8.18.2_zod@3.24.4___r_g5vaayx7si653hllduhfd5bavm/node_modules/@langchain/langgraph-sdk/dist/react/index.js");


/***/ })

};
;